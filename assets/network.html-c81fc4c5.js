import{_ as a,W as s,X as r,a0 as e,a1 as t,Z as o,$ as n,C as p}from"./framework-c8643d23.js";const l="/Computer-Science-Learn-Notes/assets/image-20220404172009498-2bcc59b1.webp",c="/Computer-Science-Learn-Notes/assets/image-20220404172035072-56d8b7f5.webp",g="/Computer-Science-Learn-Notes/assets/image-20220617141738525-08ad194a.webp",d="/Computer-Science-Learn-Notes/assets/image-20220617141758284-10b88425.webp",u="/Computer-Science-Learn-Notes/assets/image-20220617141814110-60322ba5.webp",h="/Computer-Science-Learn-Notes/assets/image-20220617141821818-361b6cbd.webp",f="data:image/webp;base64,UklGRsYPAABXRUJQVlA4ILoPAACQVgCdASrdAb8APm0ylUkkIqGhIbK6+IANiWdu+DiqMEDOeGxj+m+Rr0zWKOh95bj5EUHdkj3NOR2sJhc+VQBvT9t6ufW9F3+c6bX/q+0T0VfrVf57JufLXmu+xfv/++/ITrJfGPtT8s11P6LqlPivyu9mf+j4c/HbUC9Xf2z7XuL46B/X/8t9qfzL/Vea3iAfp5/mfzJ5yz7b6gf8q/sP/I9Rv/k/0XpO+qv/B7iX84/r/+/9ZX2Kejb+zgHUvn9S7SfdMFTSf6So+lNyVdRcXM+y8JCGZ1TS4N6m9SSQdAAfq1RhHCA+7hsxo7CjSHWoEl9kj4IxM9FcFz/vwhF6xMfU+kVVB0OSMFBUXZOAexRD4ceU9FbFP8xccQ7XJhC/Y3g10iYXIu/iN3/HG1aPEYR0iYWSimspaYkEx/B9EVgzQhBjOYBG7P8uq8hfI5dC118+miYWSdPFsi2CkYFqRI2xkSNlSJGypEhB9gb+fTRMLJomFk0TCyaJhYVYMNp6eWD/7eCxSYVAXhzWOIkZrmg4sypOJCYKUzfgtlGpG2BsdQ3+7j+5KQX1NFJvCBFFLmtlC5UJtEQA3nz1vS9C+W/KtprmNiqNHSR4NARlEHgjpbJvWv+XgdU5h/+CCnr34tOBjFk7S1Q3uF88TB0+zHIzIqOON8FLHjyr67AUG0Md0goVa4cf/k/foUdtScZBLAgF9S8nxM+awpW7d3rJP/lljQnlSEL5tzMZZpUZwWDQRjrg0CTs3FzYovRxiWRLWn37hEj0jnWxxUVn7NANnGG3wwog1gjYFdFVFr/Q5bDZIUXj/uuavlakSNlrUjZUiTNGypD5WALQ598S+oI6tGTGr2YRo5tSMoK+Q+pBU/pDyJjjX9Lb9zAiRmUohVyXQwfBRXyH1GErdlnxPIV3ZQr2YRse3QJnlTNiAAD+/ueI8m7txapvA4cPWv5R2X7hs/LHDFaz6RhTg8rcD+BLTwmILhzaX3PxgH+jXiWsDtK/fPiDaAf0yRHT7ELrNiouJiJUqxProKyyLlDS9hBNnluaeTFFq/vFBoTjCX/3pM1oc/G24c9NfDTCHrOwkUGrl3jHF9GsY/mAJZaqmjdEXY8762xDpTTE/ywRmrNXFJdYqaoOVTvwetjMVoF5zSAm+wBd92lBf6hFg/sxq+k8/IRLc8u3JE5YYvQEHnAYPKgWO2T+tFJ2jpBTHcl7f+m+RDXilygnGe9X1KquviJXEYkDO/o6fdXMk8QA99ooHIzkoHylZ80X+PitVh5o+2ZPIuN1TPoVmBjF2WbbTg9x3P5nLzlGvhMW3DeWvNgiOKplt8MY8sdjXGYyAINjQrwrxapH5jZzUyUU9TxigFCfpaTdcthDWt46l2Xb4wwTbjKZWtWaRYeNPbdpq4NY0FwR4tdTh0WSKHLs/4UEXLzDtbg59+rCeEYJn0tNABKPAWkYKIAarRh4CVN9dynhcQJq60ZnIWoaNh7nqTPMIwLikA9BdVFHvqlEiqx9VBUrKY4pYBF8XcL9ORiDAbpCg85SfXPZgwJ3QFPVoYPtQ4KcbPpEQZO4SBpZRW+1VVc6HHBFafFgIRg4k2BvbLL2/0jcvPfrvkW9/fqVmkj933TnAd0nk56uOftyhzRz5evHn5fkAswvQGWjMdO0djDTr3dow9O7HV9fimaKIv8PrKZ/vx8J3zBD5VFY/eONiASPkVemacBTe1zq+mQjvKTu+81lQReSdf6Z9UIbJR+J52vXqu723+DKxwWUH+h/JXW2Nh6vr2xegGqw0tcZttebZ5SrjC1ud7s9XIDH8p5mT/FDe0d6roa80Nk5P5ce5U18VpI2I+wsBWkrkW/ot3Tm5G3y5ykTx/ZRMG1eVuvt9Ozpn7CGBO9d18MyNgNblwe0SpZXWvjvzkEOP2iRYNk1//FFv+hn/hwNPHZdPTbsvI1xmR8q/5H1LtAUwKSSjT//qUu+t/d/m2LtdZJ6mGQK/a3pvfGjj8ZsGfTJ+LuT/WweOWaHbxxCgPIIyIcak9RbabdfYM9D/DWPP63JLUx8e/z/zyHWTzAQf/mkmMrL3n/2d7SfeWeE771Cl6Tl4sqC/0Qhvy81QdOsGgxCXkKAlL4hde46FJOY36n53WdaacwfcmEYcBxVCriyv6QTEcuHZ0XAAD+xPPcGtaQREVJ7PlagcBojouLMvSVtpFW3VfiVmT0QzauxuCSZn2vC1HelmEgMsXhg/dsQXpKy2GJkK11sG57lbToQzhA/YKnT5f5cJpsJdPsPLUfYrX+IsPe01SgIm/Z/SSRFApS8vwkmnYijOa0z5is15Vh/PNnM63ocUOiwMoip412zgp6GfhlIF9vbYXAA1q5VqBH4LGXFHKq6wULX/8mTMQKWXHgud+ncOJHw2oHp9ymXD0f85DVfMrpqsiwzWgMkjoCrdAoPIxwozFqANyDp7qLgtEFOvY+jw6nWXOBEqNQujSvm6zOrnVWmc8ntKQ/Q+8I7hRr9FmqfdbOVT8e1jBC/+G29BIpxrmubzEL/EDKMUWfKJMSff3pf1/2p1ISnb+1XOuFs5MngsT/jUc9Bez26i+ZFvPuYDHMCkzW8YP7FuIMzCQa+ZSwAcoqu9xshAaTg7OW7i6igtGCGsH80b3OimRdgAAABughaALrgPKsPaQgPaFi3W9Kn8EulquD4ftANAAAFr/9/pf3lq133tlwadM7yK/9BLyVEfnVWSzEe8DvzQ/tTE/narq15yNVThWW8LK3cqx5NvHKbovkzg77OQPLWWdU0bClFZfP8X4GB+/s1qSmgMsNSqe61eEy5ZggwlGEQxtZfqalhMw+mhVcCTpFcbq3AOtRafJBi0pHu+j/UWRqq+EjJ8F7/JNMOfIMu7hYOdQUfcuWhF6sajFIeiPnuC/b6R+uZPBba0mia44c1M8v5lxdb4SwzvvF40/dRQUSx6da8N+ibeQGDesKO/RSyUXEm9h8RLNPvwimq/cQyL56ZEp6vS6yIaSt9j4XBczrljU/eAApzZisDcj2uB9vlXceMdfCbhK5kpsK4SB55FUoKDUJTCv/EKOgGoH6tcpnIBtbAtpEJQUV/fIo1HU9Sua4UJo+7HKw3H0KQxrMNonPWj+oC5ooI1TplWXHOXgainl1Lj3dwJujtUDKNYa/1VjfVlkDBvxjYsLbIXweUKPuxYrkdHshgUf3BrSgrLsOljwnPHjQeaAAH1g/VOJO5IDcR8jrDPyiLm5JqjWWyUiv1VgHB7AHKq4mEJ4v6fz5ZsPjFmwOqOwfszx4lFgMCOuyOpndl0FYl+mxG1qIq0PXchCZPht4iI44hTQDy9JlOZHsiiMyXgtTbuZegEsk4OWm1ECWfqTMKKO4QKBClB/a/tb8JrtNsbvtMMHYNn8IneNVPmnR9hLR6HiiU75w9+wEj43h6WWWOHSHhzq7gpV5Nxq6LMSqEogD7CkqCGTeKBr3bWukkbwFOBUn9Ukv0CyP6mKxOGB77Vr+tBOmt0YF2Pr/rZDiE3/m2M2cHpiNvIuL+WE8khJTUOBHK1GXSWZydUz33wLcUkqFfEaexYKeu6Ajox/wAZayo/Po+8tychvWi8Yp6sU+DokzrflUWgouND4YU4rYxMJ2K9u7n7NBArF5WSlLTNFFXHH1ngr8yO4NkpfHDfAVnbdEUg/Sy00fuk0lMr37PgtpEJMZmfBCIfirHytl5E1Gm+6KbaLyIVd7zJb0eD+tDPav6WMKD5o0iJ4EcEfgUZwtd/+ju6JB5YA/Gwr5OlTk00c5hqXcLHAwM/0SdsbzeoeFemIgcjoygiSsgdaNW3jz9AjO5S2KNX+W/90WY1n8N+dRfU6uGBf/5mVVQD/lUvH+k6AlwOG2BuA0RUxcS+oMr4mL/hz1cxN9flwxtz9+l5D9LdZTsCsxiQjl3VJnlV5jh1LJBrcPv/JVp3t+Z/XYL0iAXWjFWqX/jlwN4c09UQLpHgZpJ7B37P/gTScbWMhlbuIEcOwD3C7j/9rRXsGSK2ppUj00UldKYjQ36jQU550CylXKK+kF7b5Auuie8eLqW3Daige1Nt665WbzuHP+B1g8vFd26i3vV7pJLwgO6c5TVYcY41AFlDBQ6PV1OcDC4fOXIjWuj69ZqhsMobheyxnTPssvUCDNqKSKGZKjn2EJ6nix9LVgAOCi2/Uo0iGXLvgidHhGnLUyNAAFFnBGJSY0vvK/SPekrGItlOQfxrPBu4uZ2qSbAmPtsppWBwW/vxnxftGmYTfM5hFp10f/8e1z/f1FP/6OUVkr9Axh/zNGIm1F3KNzT7Zg2KFVpN331k3B9R+7/8hjEqgLJU9E1++2rkQrPvDNUoTUlDtXwC1P6MdX2X49up36P01BV9mWemOXVoQjdN+1qk+yf/K0niQKCpNlKCptmiTLyVhgI458l4aBeH3Pt7POKsaOBa0x1b0//nLInfCMAGoT8oCmqP2Zf82w49Vap00ygvmRaNd917H9OEX0q+tyxOf3P6iZRLRszN31swAw2ST2uq3kma6osQvJuTIYz1J76fTj5XUisnEauJTiI1CHvKKXLRn3U2q5wknPbtKRVKIWBJFFN7HPZy6cKRPggBA0zARbpXjKEZg1Cd4LpPfUaqaDVkLNhhpKUtfCvqW5mvcZL8OGu+DjbwEk5DpWB+FlsgjTp5+eLTAsh0Rsr9Y/MYJoSbyjTlKYBnSVA3GOWwEdlckh0XAAAAAAIIlAcGNDW1F5xrk0oPQ3saSs/15+8Schbt+J5ncIdKxE99A+cgCNvGwIquM+ELueRQ0kgUC8VK+j2t+ziJQ+BX1hU4dnt6G9DXDF4uA3QsYtHe5HQprm6zv86xsHegGBWJOqZ3XYRVhvnZIapLRreS9BJIrH/l3txVNZtvv408EWUSx83FQLeG9DV2CuisvjfgiqtCYLvOGtcoAiHRuYKKUXQHseCnWzVnmssYgiPr41qD4zriM97N9gCWH3emB2jKd7tF7wUKfl3iClB4qXQhhoi1bJ5EMMvdvLhW1+6i2vJQ68wWynBuCmNVsTSr1u91n+ZPY9p+aXcSWLeXukNRXkcuD68QL51X/4q/CPwCRnD59P8oeDNVLFnI4jB7pSy/47mTWwr7iY4UofoDwUwlD8abxMsmZmBMopeSyVHxmTmf7TeQEqwOIiiGCTdSVMkFhfXI1yoZYTOMNKQ9LX4e2/mmgmc2GBa69VMLWkU7GI0y7dsuMgobAZp0UjHNtLUsbdZUn5ELO8O2v7FWg/dBz46QvM7K76j2X3divJGzIx2Fe/+AhMOUt3Bv4rM56XFRQi86s3XImxZy4kewZ3CkCVgAsrcPDFnoNwBbNkMxF2DTeL6HMTCZaR0UHK4MwazcPG5TPhmRqquAAA=",m="/Computer-Science-Learn-Notes/assets/image-20220617141854709-c39b1246.webp",P="/Computer-Science-Learn-Notes/assets/image-20220617141907476-69a333fe.webp",T="/Computer-Science-Learn-Notes/assets/image-20220622144025833-b352a46e.webp",b="/Computer-Science-Learn-Notes/assets/image-20220622144903957-8083e42e.webp",C="/Computer-Science-Learn-Notes/assets/image-20220622145827589-c84ff8f7.webp",A="/Computer-Science-Learn-Notes/assets/image-20220622150047014-8770fb48.webp",k="/Computer-Science-Learn-Notes/assets/image-20220622150158817-70a03243.webp",S="/Computer-Science-Learn-Notes/assets/image-20220622150303164-9f06e649.webp",w="data:image/webp;base64,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",I="data:image/webp;base64,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",_="data:image/webp;base64,UklGRswNAABXRUJQVlA4IMANAAAQRwCdASo1AeAAPm02l0ikIqKhIfPJ6IANiWlu/HyZUcADO9Fj0Ac9n6AN4A58D2Ish68wf0ntC/qv5PeI/5Z+q/kzumP9p6Dfxz7DfcfLL/JeCPvU/ofUC/GP5D/cPzL/uvD46l5gXqb89/1/+E8NT+A9CPrF/kvcA/ln85/6XlFf4DxBvL/YC/oX9v/7v+Q/LH6Tf5b/xf6D/Q+ln9B/x//Z/y3wEfy3+v/8j/CdpH95Pa5/bsX1r57tIyavdyctstQXaDDWEjuVsb6LpUCQCaIZ1pthbMf5SN+FDL3DggWWrCn9MO5WxvouihCEY807u9o8ex/TDuVr3U9OJgTmyZobwFF+HJtHdwbp7caYdyeQnwJvnDaBFL22SOa4+Ml0bt9m5Z5ddXrRxG+NicKlLcaWXKzozApL6E9XEc4GcHRDZl8jadA+BBQvfjl4lww6DNAXXeVxdvPNnrABgvzFjcmRJ5383z69uf9uSpQjYRBGHcoEY9hy/ENtPZ+m+l7/TaAHkZFxSN2iyMWHmbNAEePkL+BMgQL6f+/+3BEL11AlJpGWGk5gu4oUtv2AlvwCYmqjQ2LoYdytjM1yschnkcPyTnnFCBJlSNBKTxxphzt4nA5gRKbiHVSeONMOe5eEj2a7jXOpaLq+IQFn9MO5Wxm0UFtfb5IALD9fdytjfRdKerbTURg+D8b0g5MErNtq89X/ydwo/ph3K2N9EYP9tNZEJFkX/5nE6Hi9EoYnfbo58vfKZN6aWVsrpYc0nm7wAP75z2XwQDJljqpWiAnHDYp+3LPdv1WNXzl5LtHAiVRDif2Zg11dR/AqR/7ho7NeROfpCQ8Ysc4IUv0F2x3vqYyookhR4eOO+oBmfrbcxDwenWSp+dmMU4AD5Ho3qqI1bc7R9z4j6+93iJrZmK8KhvjCRLeH9KpchxLqRUqpv5MvNvON3+6e7UqYISz/w9Va7l8QvgKCGx6sv6ZVMYJ6kDRqu26hF5Ew4QC9dW/I+zWSqPla5V/jZBpI9UBPCJXZ54cUnqIqGIf+I7NO8EsvBwPS0148Ev8SB6d6QoJeYl6ad71bgT8ddG34kMx3A3kH1G6bLCpolmsO9aW0pSck4rrtWNKH6nCp8QrNOCniyU2v1fjtVQo617DAE84vE44SnlDrLK7H5heze/WFtoN+q9XWcocblj+7Uyu+WhBRPkimNnwXfFLD0a+XRpDt32P3W4Dq+m/QGBj2PbApm/zhD/byWbQlquPgcX8XbriI5E1LkFcs+4m0b1bopewvXa1OGUaFb+seC6+SAgxu6SnnZ8JiFVwdAyLu84SL78+RPl4WZ8KFml5SVyl4dAi1K6FdZAJcsT0TmeqgZio4O2oAroYVWVxNjIp6r6h0CujcPfqrBAbpX9j0/5JAQt6OOdlhPRmp1U4iLOO+6n4j7yGPu0HzWukITcjApEAebj78/TVtjV1TYTNbV+JQuoXaH1mnu9MJ61eJFawq5JzTrWdFDJjexM+gCnM3W8qSOzFxedEFEZG7Jo3IT2kO5E1N546TB+3zBgtH4wetRSpncbILmMu0joAKYahrwv1YR/DHvMp1V3X1//oqCp8kh4i/5Pvd/hTROPf9cLcQmo+rGwUsL7tVjvCN1iw8BSecGuGJUfVRP3XU46ytiUAPbdOC8atsc1XPclMc0FA6HL1hpOOhak5oT0DAtWlmJQJ7LjQZTsWxeGxoE/2S0oZiW/RGdpffKjem5dRUXAnoDqUe+uc+lNosp55aQdowf2d6yVFGhaGiA1yHV8NDuvIeA5qe37GX8qrZPnExZ0u6FPVg1597cpKAMbA3x8f0owEdF9/iDNAfexrDHrhhwia8O8bceQYRhAkEWEIrlkLejDXsW3/1EMtR1fHHquJmvwQccC7q19kDeDVBb5tAenoomahRNPFe9uErMSd2dT1ksXFs/oXzPQAajmVu2msf5b1B7lFV/N544QuCvfOnGse3cDBngAFY4ToY54i8XTuBGMu2mnoRPJWp+WZQyc4J6PT97EU1EEPE6awHoOd24IJsOkW0xF7wXjOxuV92TBJuBw+pp+mKCqL5ougRdJigpjCIzX0SYsKA3rJgQUtxnG5OY9RnCFtld1HUBpIAaWsHjF3+EstHd8r8sfX839LFigy7sUzPq8s9IkFM2i89wh0QuATx+s14074yogJaeRH4G3S3g87j3SIGv3/nSTPlBCDLgPWL1xx+KPURBGdGPp5z6KnZta/gVZ29s5WOg4Om8vgUG0rh1b1zhPv+BHz4TyuDecXAP3WxjPcOSgB/PAbQPXRiq6VSScKLWyx2PIJGtqYant7PfAzj6U8Kv4eLxiWAohPVnDfV3yuDe0/qvzULt7UVDazIyPcKUFrZ9SOFlt47z5iAr4ruaQNV4nOuOI1we5PN/u9DQxnzWrz5pPIF8oJ93UfMzE5OxQIYYs0ANOgML9U4PpEDGQ+8n2Coyk6qt/RicvxCDLDe6p/circmCPBVSE3Yu0Oo9DeEWAI3DFouduX4ZSKgLdANzE8QZwGmR4oUOLPZ6/mUJcNCUKVJgU0i29SpidIbGwI6x8xb7XMD+7IGgnCg7GNRrF4OeCS1O2BakNqETGo38d+NJ1I42o8Sklf7JxA/bMPqaj0Mo33TG1QNDC6HFt5y8gmZV9dx+Uvmqo72mG6k9il50TXBg2SVSY6GwBc3Dy2xF9vmF0EyDh+qatrUM0oFCuKrMks+BxGmY5yea2x0a7aUbRHgjvrGbzs+6jUcNiEfe+LeYnxxyD7ymB+5eHFjL3cxX596jzAyCSqIAERImrxUjJ53pqAgO9fYRG+1yQIDF8hWqDOUI3rSZ4z6K8RktDYiTQAAb0N6l4Rxrbv7qmUW2TN8f2zvQmiEeyKFsQz/+qj/zbl75AL3+OzG4xsDzgWKGBTdalwWfQmaOD4cvv8191tD5suiF7emtc5IomoQl8fbVn1p0iZ3dgRo+fjOR953Qn4ccA8CFu5s0WyxmiyazIFoDak7j4aW9IDu4LerUM+4yFCAVk0knNMXubCXTnCPXVRmOS/po1+z0wiKsLBH43+FtV2DuNxZWl2yKH464ha1JxZYINUsdU0BVbaIQufZ0XIUHbmChe3PuT58fOso8k8TcOBjCtflbXmzvAwaojGWHGd32JW8Ni6tc3RmcM/TaR84sI6UsRYj4c9gIdvbO5hsEKRo5ztIfRrinF641RFj4gRUeDtmdefrZ8fCGn3D1Y8mezEnKLCdquLSX8nyAg2ClZxGPh1CpGNceyE1QaYRyGAJqtSZct+NsHnq1cmhDPd7HWccOANB5uXdBvRuRfta7M/XylzBB09czifKz8lX+r0q8Taww9DgsuMj4kAxxbT3V90koAmLOUX9kIKXtiUXlQAO53wQBs//77o3y+zDiEphbqHc0ItahOk9HKfXPz7L6UYoQina0DXlSZFgbvM25oIo5dnWhEW//zgKxMV91N7pKB6kBbKsvNTlradeA4Qk59wcCFB48/hG93Pq5o23TmacAZyC055n9ZUmP7dHtdx+ZSmAzqik5SfPKvh9kMcgSho9IjKIzQ5R00Sv3JuKSkaycAy9N52Qq45T5SFcg3izOH2qMaQeIBcSnUP4tYyCo/TL7n4pkPiWMy6Qygpr5tntRWs9gnwAH/HiHwcG0aXGXMR+wGN7CGhCjSGKmcrZf9a19bYLo795vOF0YTIgJxEtbXGZ+q5xhvIncQPmm4JYkGa4Fp4U6D6zvR8p7TOvxC8/f3jwoXLH9jRpiQx7gTPR9WOgGXDxiPIuYWv2VCcPJnhDbMBi967b4PUHA4HIMKH084I7kUoN8oGFESbtNNMhZLMGlS+TqK9bA1yOzOFQ+wrdujba2k73h65X44notLpeqie1djsUO+/7IyI5yTAbcauFR6LcGfJsYkOfk0cpdOcV0DFmjWi2nwEItwwZzz0AK/eNH/aauS9wXLOchFrAA4oRIFS0OQStzQis/vC/V/S1X6Oayh664kkg7PtPtUnmQtjp67K6u+fVHTZZ5In7CU+39wVbbC1gBRttTOEL7qHPXkCuZv8WCwTSNUJ233ki4uT1996kc9je6tMSA6mwfryMkfiV7AqzEeIVl4/CfU5k/3bU8DOFiQcbLESFCouRCKc6cb9mZbpe1z4+OI/Ip9CcNDXaqyzowqXCB/xP7rhWBNSpXXFcBdOsK8N129mdaoSN59Qsfo1uTR7eJeXDGY9+pr6ZlvOEsC4QuTyEthXw7nt8LUihLGXawO1NQcrVFh8/c6Plll8uVu+39fLG+D7xSSyU2s+HsK9GPEDOXiW7AB3d0cz/UYO0ziR0cC5tpw4D/RnYaqX5USy7W+lRdFzU0+XTqAIDXKSNmKb7OcSrkjvN+dXnVkO8O0jD8D3H+JGNJaJGB6eRnq0Yhbez3icsPw1KolGir+//oz1MlJPVw/hf+9RyF8zyghI1N2XytN3+G9W0kXLDOrzUXRmd7iBHS/c0q2GwESDnRpQpP3LTghTL+d64j+BHU7yK9O5hnT1U5ruQv6AB2OwHgoAwfpYCD5dCDY7kjJH+qbBMyCdCaTlj0mAABjQr28YOAN1e7yAutECwQPSyB8UIp8GrlfU+Qywhm7FYIZM2msa5UHOanHMWTKHr1/j7duxdNy3sGw5jbByDEfHoTljifROtGMEZyfm6Q7p++UjSxNM5oAAA",E="data:image/webp;base64,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",N="/Computer-Science-Learn-Notes/assets/image-20220622152350238-fdb6286e.webp",v="/Computer-Science-Learn-Notes/assets/image-20220622152551749-a1bb7ceb.webp",L="/Computer-Science-Learn-Notes/assets/image-20220622153534786-58158d2d.webp",x="/Computer-Science-Learn-Notes/assets/image-20220622153028675-e9e96d30.webp",y="/Computer-Science-Learn-Notes/assets/image-20220622160349594-9fe0d579.webp",D="/Computer-Science-Learn-Notes/assets/image-20220622160614260-c752dbe7.webp",B="/Computer-Science-Learn-Notes/assets/image-20220622160757115-351c309d.webp",q="/Computer-Science-Learn-Notes/assets/image-20220622161106757-78417903.webp",H="/Computer-Science-Learn-Notes/assets/image-20220622195056508-2d346b4b.webp",U="/Computer-Science-Learn-Notes/assets/image-20220622195100965-e06b7172.webp",O="/Computer-Science-Learn-Notes/assets/image-20220622195120635-ba839661.webp",M="/Computer-Science-Learn-Notes/assets/image-20220622195206707-c774d239.webp",R="/Computer-Science-Learn-Notes/assets/image-20220622195221158-ba24838b.webp",z="/Computer-Science-Learn-Notes/assets/image-20220725121250347-033f33b2.webp",F="/Computer-Science-Learn-Notes/assets/image-20220725121905030-438459bb.webp",W="/Computer-Science-Learn-Notes/assets/14-a0dbeeca.webp",X="/Computer-Science-Learn-Notes/assets/15-f753a177.webp",K="/Computer-Science-Learn-Notes/assets/16-0a383f26.webp",Q="/Computer-Science-Learn-Notes/assets/17-a704bef7.webp",V="/Computer-Science-Learn-Notes/assets/18-165831079251519-cbf9c7c2.webp",Y="/Computer-Science-Learn-Notes/assets/19-165831080294922-a94eb226.webp",j="/Computer-Science-Learn-Notes/assets/20-165831081796525-f8cacc1d.webp",Z="/Computer-Science-Learn-Notes/assets/urlè¾“å…¥åˆ°å±•ç¤ºå‡ºæ¥çš„è¿‡ç¨‹-545282c3.webp",J="/Computer-Science-Learn-Notes/assets/image-20220718150512474-37d5beb9.webp",G="/Computer-Science-Learn-Notes/assets/image-20220718150623675-13f03d2b.webp",$="/Computer-Science-Learn-Notes/assets/image-20220718151134708-ab7d915f.webp",ee="/Computer-Science-Learn-Notes/assets/image-20220718151150466-a3073424.webp",te="/Computer-Science-Learn-Notes/assets/image-20220718151430741-bd18b2c1.webp",ie="/Computer-Science-Learn-Notes/assets/image-20220718151452778-3aa6ba21.webp",oe="/Computer-Science-Learn-Notes/assets/image-20220718151501747-86788b90.webp",ne="/Computer-Science-Learn-Notes/assets/image-20220718151518568-dd97b52f.webp",ae="/Computer-Science-Learn-Notes/assets/image-20220718151526400-be1a66dd.webp",se="/Computer-Science-Learn-Notes/assets/image-20220718151534470-c523d5f5.webp",re="/Computer-Science-Learn-Notes/assets/image-20220718151542331-e7d86a72.webp",pe="/Computer-Science-Learn-Notes/assets/image-20220718151640795-558f6572.webp",le="/Computer-Science-Learn-Notes/assets/image-20220718151649816-44e4bf8f.webp",ce="/Computer-Science-Learn-Notes/assets/image-20220718151659105-7ff39634.webp",ge="/Computer-Science-Learn-Notes/assets/image-20220718151712840-f5330e89.webp",de="/Computer-Science-Learn-Notes/assets/18-95d84601.webp",ue="/Computer-Science-Learn-Notes/assets/19-61f59f1f.webp",he="/Computer-Science-Learn-Notes/assets/20-a7c82f75.webp",fe="/Computer-Science-Learn-Notes/assets/21-ac9671f7.webp",me="/Computer-Science-Learn-Notes/assets/æ•°æ®åŒ….drawio-ddbcbc45.webp",Pe="/Computer-Science-Learn-Notes/assets/23-ae2107c7.webp",Te="/Computer-Science-Learn-Notes/assets/24-a350234a.webp",be="/Computer-Science-Learn-Notes/assets/25-e748e8e4.webp",Ce="/Computer-Science-Learn-Notes/assets/image-20220622162158478-773b4c0d.webp",Ae="/Computer-Science-Learn-Notes/assets/image-20220622171739797-128af00c.webp",ke="/Computer-Science-Learn-Notes/assets/8d55a06f2efa946921ff61a008c76b00-6a66d5b9.webp",Se="/Computer-Science-Learn-Notes/assets/36242c85809865fcd2da48594de15ebb-90fb63e7.webp",we="/Computer-Science-Learn-Notes/assets/d7e2d60b28b0f9b460aafbf1bd6e7892-03be8d05.webp",Ie="/Computer-Science-Learn-Notes/assets/874f2fb7108020fd4dcfa021f377ec66-08c45b92.webp",_e="/Computer-Science-Learn-Notes/assets/6a01c5df74748870a69921da89825d9c-789197be.webp",Ee="/Computer-Science-Learn-Notes/assets/d894de5374a12bd5d75d86d4a718d186-bdd30300.webp",Ne="/Computer-Science-Learn-Notes/assets/d696b8b345526533bde8fa990e205c32-cc80d326.webp",ve="/Computer-Science-Learn-Notes/assets/6d280b0946a73ea6185653cbcfcc489f-75c4bcd8.webp",Le="/Computer-Science-Learn-Notes/assets/15a0a5f7fe15ee2bc5e07492eda5a8ea-9636924f.gif",xe="/Computer-Science-Learn-Notes/assets/5e9a4324cfbf41ff8ca92c73ddb7621d-f86744b7.webp",ye="/Computer-Science-Learn-Notes/assets/23-HTTPSå·¥ä½œæµç¨‹-0660e66b.webp",De="/Computer-Science-Learn-Notes/assets/è¯ä¹¦çš„æ ¡éªŒ-19e49fa8.webp",Be="/Computer-Science-Learn-Notes/assets/baiduè¯ä¹¦-99114147.webp",qe="/Computer-Science-Learn-Notes/assets/ç”¨æˆ·ä¿¡ä»»-cc93dfde.webp",He="/Computer-Science-Learn-Notes/assets/ç³»ç»Ÿæ ¹è¯ä¹¦-851a18e5.webp",Ue="/Computer-Science-Learn-Notes/assets/è¯ä¹¦é“¾-fc10de2b.webp",Oe="/Computer-Science-Learn-Notes/assets/tcp-vs-udp-130760e3.webp",Me="/Computer-Science-Learn-Notes/assets/image-20220728170759613-144a3225.webp",Re="/Computer-Science-Learn-Notes/assets/image-20220728170821187-53170c6f.webp",ze="/Computer-Science-Learn-Notes/assets/image-20220728170852816-bb4cc143.webp",Fe="/Computer-Science-Learn-Notes/assets/image-20220728170909080-7414d89f.webp",We="/Computer-Science-Learn-Notes/assets/image-20220728170923392-a1def407.webp",Xe="/Computer-Science-Learn-Notes/assets/image-20220728171018142-0c74dd4e.webp",Ke="/Computer-Science-Learn-Notes/assets/image-20220728171027834-b5f54b28.webp",Qe="/Computer-Science-Learn-Notes/assets/image-20220728171038129-62f1b528.webp",Ve="/Computer-Science-Learn-Notes/assets/image-20220728171049794-26cc1bcd.webp",Ye="/Computer-Science-Learn-Notes/assets/image-20220728171018142-0c74dd4e.webp",je="/Computer-Science-Learn-Notes/assets/image-20220728171219211-8fca1d28.webp",Ze="/Computer-Science-Learn-Notes/assets/image-20220728171243582-38d5fa18.webp",Je="/Computer-Science-Learn-Notes/assets/image-20220728171309943-9a2a1605.webp",Ge="/Computer-Science-Learn-Notes/assets/6-äº”å¤§ç±»HTTPçŠ¶æ€ç -be330b49.webp",$e="/Computer-Science-Learn-Notes/assets/16-çŸ­è¿æ¥ä¸é•¿è¿æ¥-984cf9e8.webp",et="/Computer-Science-Learn-Notes/assets/image-20220830093927989-133b7917.webp",tt="/Computer-Science-Learn-Notes/assets/image-20220830094027345-2a824ec0.webp",it="/Computer-Science-Learn-Notes/assets/image-20220830094113012-aaff1491.webp",ot="/Computer-Science-Learn-Notes/assets/a49a6bb8cd38ae1738d9c00aec68b444-b8b1fdad.webp",nt={},at=n('<h2 id="ğŸŒè®¡ç®—æœºç½‘ç»œ-çƒ­é—¨å…«è‚¡æ–‡" tabindex="-1"><a class="header-anchor" href="#ğŸŒè®¡ç®—æœºç½‘ç»œ-çƒ­é—¨å…«è‚¡æ–‡" aria-hidden="true">#</a> ğŸŒè®¡ç®—æœºç½‘ç»œï¼ˆçƒ­é—¨å…«è‚¡æ–‡ï¼‰</h2><h3 id="ğŸ‘ï¸å‰ç½®çŸ¥è¯†" tabindex="-1"><a class="header-anchor" href="#ğŸ‘ï¸å‰ç½®çŸ¥è¯†" aria-hidden="true">#</a> ğŸ‘ï¸å‰ç½®çŸ¥è¯†</h3><h4 id="osi-ä¸ƒå±‚æ¨¡å‹" tabindex="-1"><a class="header-anchor" href="#osi-ä¸ƒå±‚æ¨¡å‹" aria-hidden="true">#</a> OSI ä¸ƒå±‚æ¨¡å‹</h4><p><strong>OSI ä¸ƒå±‚æ¨¡å‹</strong> æ˜¯å›½é™…æ ‡å‡†åŒ–ç»„ç»‡æå‡ºä¸€ä¸ªç½‘ç»œåˆ†å±‚æ¨¡å‹ï¼Œå…¶å¤§ä½“ç»“æ„ä»¥åŠæ¯ä¸€å±‚æä¾›çš„åŠŸèƒ½å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p><figure><img src="'+l+'" alt="image-20220617141718194" tabindex="0" loading="lazy"><figcaption>image-20220617141718194</figcaption></figure><p>æ¯ä¸€å±‚éƒ½ä¸“æ³¨åšä¸€ä»¶äº‹æƒ…ï¼Œå¹¶ä¸”æ¯ä¸€å±‚éƒ½éœ€è¦ä½¿ç”¨ä¸‹ä¸€å±‚æä¾›çš„åŠŸèƒ½æ¯”å¦‚ä¼ è¾“å±‚éœ€è¦ä½¿ç”¨ç½‘ç»œå±‚æä¾›çš„è·¯ç”±å’Œå¯»å€åŠŸèƒ½ï¼Œè¿™æ ·ä¼ è¾“å±‚æ‰çŸ¥é“æŠŠæ•°æ®ä¼ è¾“åˆ°å“ªé‡Œå»ã€‚</p><p>ä»é¡¶å‘ä¸‹åˆ†è§£ï¼š å‡è®¾ä½ æƒ³ç»™ä½ çš„æœ‹å‹å¯„ä¸€å°ä¿¡ï¼Œä¿¡ä¸­æœ‰ä¸€å¼ ä½ åˆšæ‹çš„ç…§ç‰‡ã€‚ä¸‹é¢æ˜¯å¦‚ä½•å°†è¿™ä¸ªè¿‡ç¨‹ä¸ OSI ä¸ƒå±‚æ¨¡å‹è¿›è¡Œå¯¹æ¯”ï¼š</p><ol><li><strong>åº”ç”¨å±‚ï¼ˆApplication Layerï¼‰</strong>ï¼šä½ ç”¨æ–‡å­—å’Œç…§ç‰‡è¡¨è¾¾è‡ªå·±çš„æƒ³æ³•ï¼Œè¿™ç›¸å½“äºä½ åœ¨è®¡ç®—æœºä¸Šä½¿ç”¨çš„åº”ç”¨ç¨‹åºï¼ˆå¦‚æµè§ˆå™¨ã€é‚®ä»¶å®¢æˆ·ç«¯ç­‰ï¼‰æ¥åˆ›å»ºæ•°æ®ã€‚</li><li><strong>è¡¨ç¤ºå±‚ï¼ˆPresentation Layerï¼‰</strong>ï¼šä½ å°†ç…§ç‰‡æ‰“å°å‡ºæ¥ï¼Œç¡®ä¿å®ƒä»¬çš„æ ¼å¼ï¼ˆå¦‚å°ºå¯¸ã€é¢œè‰²ï¼‰é€‚åˆæ”¾åœ¨ä¿¡å°é‡Œã€‚åœ¨è®¡ç®—æœºç½‘ç»œä¸­ï¼Œè¡¨ç¤ºå±‚è´Ÿè´£å¤„ç†æ•°æ®çš„æ ¼å¼ï¼Œä¾‹å¦‚åŠ å¯†ã€è§£å¯†å’Œæ•°æ®å‹ç¼©ã€‚</li><li><strong>ä¼šè¯å±‚ï¼ˆSession Layerï¼‰</strong>ï¼šä½ å†³å®šä½•æ—¶å¼€å§‹å†™ä¿¡ï¼Œä½•æ—¶ç»“æŸã€‚ä¼šè¯å±‚åœ¨ç½‘ç»œä¸­è´Ÿè´£å»ºç«‹ã€ç»´æŠ¤å’Œå…³é—­è¿æ¥ã€‚</li><li><strong>ä¼ è¾“å±‚ï¼ˆTransport Layerï¼‰</strong>ï¼šä½ æŠŠä¿¡æ”¾è¿›ä¿¡å°ï¼Œå†™ä¸Šä½ æœ‹å‹çš„åœ°å€ï¼Œä»¥åŠä½ è‡ªå·±çš„å›é‚®åœ°å€ã€‚ä¼ è¾“å±‚åœ¨è®¡ç®—æœºç½‘ç»œä¸­è´Ÿè´£å»ºç«‹ç«¯åˆ°ç«¯çš„é€šä¿¡ï¼Œå¦‚ TCP å’Œ UDP åè®®ã€‚</li><li><strong>ç½‘ç»œå±‚ï¼ˆNetwork Layerï¼‰</strong>ï¼šä½ æŠŠä¿¡å°æŠ•é€’åˆ°é‚®å±€ï¼Œé‚®å±€è´Ÿè´£å°†ä¿¡å°ä»ä¸€ä¸ªåœ°æ–¹è¿é€åˆ°å¦ä¸€ä¸ªåœ°æ–¹ã€‚ç½‘ç»œå±‚åœ¨è®¡ç®—æœºç½‘ç»œä¸­è´Ÿè´£å°†æ•°æ®åŒ…ä»æºåœ°å€è·¯ç”±åˆ°ç›®çš„åœ°å€ï¼Œå¦‚ IP åè®®ã€‚</li><li><strong>æ•°æ®é“¾è·¯å±‚ï¼ˆData Link Layerï¼‰</strong>ï¼šé‚®å±€å°†ä¿¡å°ä»ä¸€ä¸ªä¸­è½¬ç«™ä¼ é€’åˆ°å¦ä¸€ä¸ªä¸­è½¬ç«™ã€‚åœ¨è®¡ç®—æœºç½‘ç»œä¸­ï¼Œæ•°æ®é“¾è·¯å±‚è´Ÿè´£åœ¨åŒä¸€ä¸ªç½‘ç»œä¸­çš„è®¾å¤‡ä¹‹é—´ä¼ è¾“æ•°æ®ï¼Œå¦‚ä»¥å¤ªç½‘æˆ– Wi-Fiã€‚</li><li><strong>ç‰©ç†å±‚ï¼ˆPhysical Layerï¼‰</strong>ï¼šä¿¡å°é€šè¿‡å„ç§äº¤é€šå·¥å…·ï¼ˆå¦‚å¡è½¦ã€é£æœºï¼‰è¿›è¡Œä¼ è¾“ã€‚ç‰©ç†å±‚æ¶‰åŠåˆ°æ•°æ®åœ¨ç‰©ç†ä»‹è´¨ï¼ˆå¦‚ç”µç¼†ã€æ— çº¿ç”µæ³¢ï¼‰ä¸­çš„ä¼ è¾“ã€‚</li></ol><p><strong>OSI çš„ä¸ƒå±‚ä½“ç³»ç»“æ„æ¦‚å¿µæ¸…æ¥šï¼Œç†è®ºä¹Ÿå¾ˆå®Œæ•´ï¼Œä½†æ˜¯å®ƒæ¯”è¾ƒå¤æ‚è€Œä¸”ä¸å®ç”¨ï¼Œè€Œä¸”æœ‰äº›åŠŸèƒ½åœ¨å¤šä¸ªå±‚ä¸­é‡å¤å‡ºç°ã€‚</strong></p><p>ä¸Šé¢è¿™ç§å›¾å¯èƒ½æ¯”è¾ƒæŠ½è±¡ï¼Œå†æ¥ä¸€ä¸ªæ¯”è¾ƒç”ŸåŠ¨çš„å›¾ç‰‡ã€‚ä¸‹é¢è¿™ä¸ªå›¾ç‰‡æ˜¯æˆ‘åœ¨å›½å¤–çš„ä¸€ä¸ªç½‘ç«™ä¸Šçœ‹åˆ°çš„ï¼Œéå¸¸èµï¼</p><figure><img src="'+c+'" alt="image-20220617141726678" tabindex="0" loading="lazy"><figcaption>image-20220617141726678</figcaption></figure><p><strong>æ—¢ç„¶ OSI ä¸ƒå±‚æ¨¡å‹è¿™ä¹ˆå‰å®³ï¼Œä¸ºä»€ä¹ˆå¹²ä¸è¿‡ TCP/IP å›› å±‚æ¨¡å‹å‘¢ï¼Ÿ</strong></p><p>çš„ç¡®ï¼ŒOSI ä¸ƒå±‚æ¨¡å‹å½“æ—¶ä¸€ç›´è¢«ä¸€äº›å¤§å…¬å¸ç”šè‡³ä¸€äº›å›½å®¶æ”¿åºœæ”¯æŒã€‚è¿™æ ·çš„èƒŒæ™¯ä¸‹ï¼Œä¸ºä»€ä¹ˆä¼šå¤±è´¥å‘¢ï¼Ÿæˆ‘è§‰å¾—ä¸»è¦æœ‰ä¸‹é¢å‡ æ–¹é¢åŸå› ï¼š</p><ol><li>OSI çš„ä¸“å®¶ç¼ºä¹å®é™…ç»éªŒï¼Œä»–ä»¬åœ¨å®Œæˆ OSI æ ‡å‡†æ—¶ç¼ºä¹å•†ä¸šé©±åŠ¨åŠ›</li><li>OSI çš„åè®®å®ç°èµ·æ¥è¿‡åˆ†å¤æ‚ï¼Œè€Œä¸”è¿è¡Œæ•ˆç‡å¾ˆä½</li><li>OSI åˆ¶å®šæ ‡å‡†çš„å‘¨æœŸå¤ªé•¿ï¼Œå› è€Œä½¿å¾—æŒ‰ OSI æ ‡å‡†ç”Ÿäº§çš„è®¾å¤‡æ— æ³•åŠæ—¶è¿›å…¥å¸‚åœºï¼ˆ20 ä¸–çºª 90 å¹´ä»£åˆæœŸï¼Œè™½ç„¶æ•´å¥—çš„ OSI å›½é™…æ ‡å‡†éƒ½å·²ç»åˆ¶å®šå‡ºæ¥ï¼Œä½†åŸºäº TCP/IP çš„äº’è”ç½‘å·²ç»æŠ¢å…ˆåœ¨å…¨çƒç›¸å½“å¤§çš„èŒƒå›´æˆåŠŸè¿è¡Œäº†ï¼‰</li><li>OSI çš„å±‚æ¬¡åˆ’åˆ†ä¸å¤ªåˆç†ï¼Œæœ‰äº›åŠŸèƒ½åœ¨å¤šä¸ªå±‚æ¬¡ä¸­é‡å¤å‡ºç°ã€‚</li></ol><p>OSI ä¸ƒå±‚æ¨¡å‹è™½ç„¶å¤±è´¥äº†ï¼Œä½†æ˜¯å´æä¾›äº†å¾ˆå¤šä¸é”™çš„ç†è®ºåŸºç¡€ã€‚ä¸ºäº†æ›´å¥½åœ°å»äº†è§£ç½‘ç»œåˆ†å±‚ï¼ŒOSI ä¸ƒå±‚æ¨¡å‹è¿˜æ˜¯éå¸¸æœ‰å¿…è¦å­¦ä¹ çš„ã€‚</p><p>æœ€åå†åˆ†äº«ä¸€ä¸ªå…³äº OSI ä¸ƒå±‚æ¨¡å‹éå¸¸ä¸é”™çš„æ€»ç»“å›¾ç‰‡ï¼</p><figure><img src="'+g+'" alt="image-20220617141738525" tabindex="0" loading="lazy"><figcaption>image-20220617141738525</figcaption></figure><h4 id="tcp-ip-å››å±‚æ¨¡å‹" tabindex="-1"><a class="header-anchor" href="#tcp-ip-å››å±‚æ¨¡å‹" aria-hidden="true">#</a> TCP/IP å››å±‚æ¨¡å‹</h4><p><strong>TCP/IP å››å±‚æ¨¡å‹</strong> æ˜¯ç›®å‰è¢«å¹¿æ³›é‡‡ç”¨çš„ä¸€ç§æ¨¡å‹,æˆ‘ä»¬å¯ä»¥å°† TCP / IP æ¨¡å‹çœ‹ä½œæ˜¯ OSI ä¸ƒå±‚æ¨¡å‹çš„ç²¾ç®€ç‰ˆæœ¬ï¼Œç”±ä»¥ä¸‹ 4 å±‚ç»„æˆï¼š</p><ol><li>åº”ç”¨å±‚</li><li>ä¼ è¾“å±‚</li><li>ç½‘ç»œå±‚</li><li>ç½‘ç»œæ¥å£å±‚</li></ol><p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œæˆ‘ä»¬å¹¶ä¸èƒ½å°† TCP/IP å››å±‚æ¨¡å‹ å’Œ OSI ä¸ƒå±‚æ¨¡å‹å®Œå…¨ç²¾ç¡®åœ°åŒ¹é…èµ·æ¥ï¼Œä¸è¿‡å¯ä»¥ç®€å•å°†ä¸¤è€…å¯¹åº”èµ·æ¥ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p><figure><img src="'+d+'" alt="image-20220617141758284" tabindex="0" loading="lazy"><figcaption>image-20220617141758284</figcaption></figure><h6 id="åº”ç”¨å±‚-application-layer" tabindex="-1"><a class="header-anchor" href="#åº”ç”¨å±‚-application-layer" aria-hidden="true">#</a> åº”ç”¨å±‚ï¼ˆApplication layerï¼‰</h6><p><strong>åº”ç”¨å±‚ä½äºä¼ è¾“å±‚ä¹‹ä¸Šï¼Œä¸»è¦æä¾›ä¸¤ä¸ªç»ˆç«¯è®¾å¤‡ä¸Šçš„åº”ç”¨ç¨‹åºä¹‹é—´ä¿¡æ¯äº¤æ¢çš„æœåŠ¡ï¼Œå®ƒå®šä¹‰äº†ä¿¡æ¯äº¤æ¢çš„æ ¼å¼ï¼Œæ¶ˆæ¯ä¼šäº¤ç»™ä¸‹ä¸€å±‚ä¼ è¾“å±‚æ¥ä¼ è¾“ã€‚</strong> æˆ‘ä»¬æŠŠåº”ç”¨å±‚äº¤äº’çš„æ•°æ®å•å…ƒç§°ä¸ºæŠ¥æ–‡ã€‚</p><figure><img src="'+u+'" alt="image-20220617141814110" tabindex="0" loading="lazy"><figcaption>image-20220617141814110</figcaption></figure><p>åº”ç”¨å±‚åè®®å®šä¹‰äº†ç½‘ç»œé€šä¿¡è§„åˆ™ï¼Œå¯¹äºä¸åŒçš„ç½‘ç»œåº”ç”¨éœ€è¦ä¸åŒçš„åº”ç”¨å±‚åè®®ã€‚åœ¨äº’è”ç½‘ä¸­åº”ç”¨å±‚åè®®å¾ˆå¤šï¼Œå¦‚æ”¯æŒ Web åº”ç”¨çš„ HTTP åè®®ï¼Œæ”¯æŒç”µå­é‚®ä»¶çš„ SMTP åè®®ç­‰ç­‰ã€‚</p><figure><img src="'+h+'" alt="image-20220617141821818" tabindex="0" loading="lazy"><figcaption>image-20220617141821818</figcaption></figure><h6 id="ä¼ è¾“å±‚-transport-layer" tabindex="-1"><a class="header-anchor" href="#ä¼ è¾“å±‚-transport-layer" aria-hidden="true">#</a> ä¼ è¾“å±‚ï¼ˆTransport layerï¼‰</h6><p><strong>ä¼ è¾“å±‚çš„ä¸»è¦ä»»åŠ¡å°±æ˜¯è´Ÿè´£å‘ä¸¤å°ç»ˆç«¯è®¾å¤‡è¿›ç¨‹ä¹‹é—´çš„é€šä¿¡æä¾›é€šç”¨çš„æ•°æ®ä¼ è¾“æœåŠ¡ã€‚</strong> åº”ç”¨è¿›ç¨‹åˆ©ç”¨è¯¥æœåŠ¡ä¼ é€åº”ç”¨å±‚æŠ¥æ–‡ã€‚â€œé€šç”¨çš„â€æ˜¯æŒ‡å¹¶ä¸é’ˆå¯¹æŸä¸€ä¸ªç‰¹å®šçš„ç½‘ç»œåº”ç”¨ï¼Œè€Œæ˜¯å¤šç§åº”ç”¨å¯ä»¥ä½¿ç”¨åŒä¸€ä¸ªè¿è¾“å±‚æœåŠ¡ã€‚</p><p><strong>è¿è¾“å±‚ä¸»è¦ä½¿ç”¨ä»¥ä¸‹ä¸¤ç§åè®®ï¼š</strong></p><ol><li><strong>ä¼ è¾“æ§åˆ¶åè®® TCP</strong>ï¼ˆTransmisson Control Protocolï¼‰--æä¾›<strong>é¢å‘è¿æ¥</strong>çš„ï¼Œ<strong>å¯é çš„</strong>æ•°æ®ä¼ è¾“æœåŠ¡ã€‚</li><li><strong>ç”¨æˆ·æ•°æ®åè®® UDP</strong>ï¼ˆUser Datagram Protocolï¼‰--æä¾›<strong>æ— è¿æ¥</strong>çš„ï¼Œå°½æœ€å¤§åŠªåŠ›çš„æ•°æ®ä¼ è¾“æœåŠ¡ï¼ˆ<strong>ä¸ä¿è¯æ•°æ®ä¼ è¾“çš„å¯é æ€§</strong>ï¼‰ã€‚</li></ol><figure><img src="'+f+'" alt="image-20220617141843078" tabindex="0" loading="lazy"><figcaption>image-20220617141843078</figcaption></figure><h6 id="ç½‘ç»œå±‚-network-layer" tabindex="-1"><a class="header-anchor" href="#ç½‘ç»œå±‚-network-layer" aria-hidden="true">#</a> ç½‘ç»œå±‚ï¼ˆNetwork layerï¼‰</h6><p><strong>ç½‘ç»œå±‚è´Ÿè´£ä¸ºåˆ†ç»„äº¤æ¢ç½‘ä¸Šçš„ä¸åŒä¸»æœºæä¾›é€šä¿¡æœåŠ¡ã€‚</strong> åœ¨å‘é€æ•°æ®æ—¶ï¼Œç½‘ç»œå±‚æŠŠè¿è¾“å±‚äº§ç”Ÿçš„æŠ¥æ–‡æ®µæˆ–ç”¨æˆ·æ•°æ®æŠ¥å°è£…æˆåˆ†ç»„å’ŒåŒ…è¿›è¡Œä¼ é€ã€‚åœ¨ TCP/IP ä½“ç³»ç»“æ„ä¸­ï¼Œç”±äºç½‘ç»œå±‚ä½¿ç”¨ IP åè®®ï¼Œå› æ­¤åˆ†ç»„ä¹Ÿå« IP æ•°æ®æŠ¥ï¼Œç®€ç§°æ•°æ®æŠ¥ã€‚</p><p>âš ï¸æ³¨æ„ ï¼š<strong>ä¸è¦æŠŠè¿è¾“å±‚çš„â€œç”¨æˆ·æ•°æ®æŠ¥ UDPâ€å’Œç½‘ç»œå±‚çš„â€œIP æ•°æ®æŠ¥â€å¼„æ··</strong>ã€‚</p><p><strong>ç½‘ç»œå±‚çš„è¿˜æœ‰ä¸€ä¸ªä»»åŠ¡å°±æ˜¯é€‰æ‹©åˆé€‚çš„è·¯ç”±ï¼Œä½¿æºä¸»æœºè¿è¾“å±‚æ‰€ä¼ ä¸‹æ¥çš„åˆ†ç»„ï¼Œèƒ½é€šè¿‡ç½‘ç»œå±‚ä¸­çš„è·¯ç”±å™¨æ‰¾åˆ°ç›®çš„ä¸»æœºã€‚</strong></p><p>è¿™é‡Œå¼ºè°ƒæŒ‡å‡ºï¼Œç½‘ç»œå±‚ä¸­çš„â€œç½‘ç»œâ€äºŒå­—å·²ç»ä¸æ˜¯æˆ‘ä»¬é€šå¸¸è°ˆåˆ°çš„å…·ä½“ç½‘ç»œï¼Œè€Œæ˜¯æŒ‡è®¡ç®—æœºç½‘ç»œä½“ç³»ç»“æ„æ¨¡å‹ä¸­ç¬¬ä¸‰å±‚çš„åç§°ã€‚</p><p>äº’è”ç½‘æ˜¯ç”±å¤§é‡çš„å¼‚æ„ï¼ˆheterogeneousï¼‰ç½‘ç»œé€šè¿‡è·¯ç”±å™¨ï¼ˆrouterï¼‰ç›¸äº’è¿æ¥èµ·æ¥çš„ã€‚äº’è”ç½‘ä½¿ç”¨çš„ç½‘ç»œå±‚åè®®æ˜¯æ— è¿æ¥çš„ç½‘é™…åè®®ï¼ˆIntert Prococolï¼‰å’Œè®¸å¤šè·¯ç”±é€‰æ‹©åè®®ï¼Œå› æ­¤äº’è”ç½‘çš„ç½‘ç»œå±‚ä¹Ÿå«åš<strong>ç½‘é™…å±‚</strong>æˆ–<strong>IP å±‚</strong>ã€‚</p><figure><img src="'+m+'" alt="image-20220617141854709" tabindex="0" loading="lazy"><figcaption>image-20220617141854709</figcaption></figure><h6 id="ç½‘ç»œæ¥å£å±‚-network-interface-layer" tabindex="-1"><a class="header-anchor" href="#ç½‘ç»œæ¥å£å±‚-network-interface-layer" aria-hidden="true">#</a> ç½‘ç»œæ¥å£å±‚ï¼ˆNetwork interface layerï¼‰</h6><p>æˆ‘ä»¬å¯ä»¥æŠŠç½‘ç»œæ¥å£å±‚çœ‹ä½œæ˜¯æ•°æ®é“¾è·¯å±‚å’Œç‰©ç†å±‚çš„åˆä½“ã€‚</p><ol><li>æ•°æ®é“¾è·¯å±‚(data link layer)é€šå¸¸ç®€ç§°ä¸ºé“¾è·¯å±‚ï¼ˆ ä¸¤å°ä¸»æœºä¹‹é—´çš„æ•°æ®ä¼ è¾“ï¼Œæ€»æ˜¯åœ¨ä¸€æ®µä¸€æ®µçš„é“¾è·¯ä¸Šä¼ é€çš„ï¼‰ã€‚<strong>æ•°æ®é“¾è·¯å±‚çš„ä½œç”¨æ˜¯å°†ç½‘ç»œå±‚äº¤ä¸‹æ¥çš„ IP æ•°æ®æŠ¥ç»„è£…æˆå¸§ï¼Œåœ¨ä¸¤ä¸ªç›¸é‚»èŠ‚ç‚¹é—´çš„é“¾è·¯ä¸Šä¼ é€å¸§ã€‚æ¯ä¸€å¸§åŒ…æ‹¬æ•°æ®å’Œå¿…è¦çš„æ§åˆ¶ä¿¡æ¯ï¼ˆå¦‚åŒæ­¥ä¿¡æ¯ï¼Œåœ°å€ä¿¡æ¯ï¼Œå·®é”™æ§åˆ¶ç­‰ï¼‰ã€‚</strong></li><li><strong>ç‰©ç†å±‚çš„ä½œç”¨æ˜¯å®ç°ç›¸é‚»è®¡ç®—æœºèŠ‚ç‚¹ä¹‹é—´æ¯”ç‰¹æµçš„é€æ˜ä¼ é€ï¼Œå°½å¯èƒ½å±è”½æ‰å…·ä½“ä¼ è¾“ä»‹è´¨å’Œç‰©ç†è®¾å¤‡çš„å·®å¼‚</strong></li></ol><figure><img src="'+P+'" alt="image-20220617141907476" tabindex="0" loading="lazy"><figcaption>image-20220617141907476</figcaption></figure><h4 id="tcpæµé‡æ§åˆ¶" tabindex="-1"><a class="header-anchor" href="#tcpæµé‡æ§åˆ¶" aria-hidden="true">#</a> TCPæµé‡æ§åˆ¶</h4><p><strong>TCP åˆ©ç”¨æ»‘åŠ¨çª—å£å®ç°æµé‡æ§åˆ¶ã€‚æµé‡æ§åˆ¶æ˜¯ä¸ºäº†æ§åˆ¶å‘é€æ–¹å‘é€é€Ÿç‡ï¼Œä¿è¯æ¥æ”¶æ–¹æ¥å¾—åŠæ¥æ”¶ã€‚</strong> æ¥æ”¶æ–¹å‘é€çš„ç¡®è®¤æŠ¥æ–‡ä¸­çš„çª—å£å­—æ®µå¯ä»¥ç”¨æ¥æ§åˆ¶å‘é€æ–¹çª—å£å¤§å°ï¼Œä»è€Œå½±å“å‘é€æ–¹çš„å‘é€é€Ÿç‡ã€‚å°†çª—å£å­—æ®µè®¾ç½®ä¸º 0ï¼Œåˆ™å‘é€æ–¹ä¸èƒ½å‘é€æ•°æ®</p><p>ğŸŒ° ç›´æ¥ä¸¾æ —å­è¯´æ˜ï¼Œè¯·ç»“åˆå›¾è€å¿ƒé˜…è¯»ï¼š</p><ol><li>ä¸»æœºAé€šè¿‡TCPæŠ¥æ–‡å‘é€ç»™ä¸»æœºB 1-100å­—èŠ‚ ï¼ˆseqæ˜¯åºå·å­—æ®µï¼Œ DATAæ˜¯è¡¨ç¤ºæ˜¯æ•°æ®æŠ¥æ–‡æ®µï¼‰</li><li>ä¸»æœºAåˆé€šè¿‡TCPæŠ¥æ–‡å‘é€ç»™ä¸»æœºB 101-200å­—èŠ‚ï¼ˆæ‰€ä»¥è¿™é‡Œçš„seqæ˜¯101ï¼‰</li><li>ä¸»æœºAåˆé€šè¿‡TCPæŠ¥æ–‡å°è£…å‘é€ç»™æ³¨è§£B 201-300å­—èŠ‚ï¼Œä½†æ˜¯å‘ç”Ÿäº†ä¸¢å¤± ğŸ³ï¸ <ol><li>æ­¤æ—¶ä¸»æœºBå¯¹ä¸»æœºAè¿›è¡Œ<strong>ç´¯è®¡ç¡®è®¤</strong>ï¼ˆACKï¼šTCPæŠ¥æ–‡æ®µé¦–éƒ¨ä¸­çš„æ ‡å¿—ä½ï¼›ackï¼šç¡®è®¤æŠ¥æ–‡æ®µï¼Œ201æ˜¯è¯´æ˜201ä»¥å‰çš„æ•°æ®å·²å…¨éƒ¨æ­£ç¡®æ¥æ”¶ï¼›rwndæ»‘åŠ¨çª—å£å­—æ®µï¼Œ300è¡¨ç¤ºå¯ä»¥æ¥æ”¶çš„çª—å£å¤§å°ä¸º300ï¼‰</li><li>æ»‘åŠ¨çª—å£ï¼Œæ»‘åˆ°201-600çš„ä½ç½®ï¼ˆå› ä¸ºåˆå§‹çª—å£çš„å¤§å°ä¸º400ï¼‰</li><li>è°ƒæ•´çª—å£å¤§å°ï¼Œæ­¤æ—¶çª—å£ä½ç½®ä¸º201-500ï¼ˆå› ä¸ºrwndç°åœ¨ä¸º300ï¼‰</li></ol></li><li>ä¸»æœºAåˆ é™¤1-200çš„ç¼“å­˜æ•°æ®ï¼ˆå› ä¸ºæ­¥éª¤3ä¸­å·²ç»è¯´æ˜äº†201ä¹‹å‰çš„æ•°æ®å·²ç»ç¡®è®¤æ¥æ”¶ï¼‰</li><li>ä¸»æœºAè®²301-400çš„æ•°æ®å°è£…æˆTCPå‘é€ç»™ä¸»æœºBï¼ˆæ­¤æ—¶201-500çš„æ•°æ®å·²ç»å…¨éƒ¨å‘é€å‡ºå»ï¼‰</li><li>é‡ä¼ è®¡æ—¶å™¨å¼€å§‹è®¡æ—¶ï¼Œä¸»æœºAæŠŠ201-500çš„æ•°æ®å°è£…æˆTCPæŠ¥æ–‡æ®µé‡æ–°å‘é€å‡ºå»ï¼ˆç»™Bï¼‰</li><li>æ­¤æ—¶ä¸»æœºBå¯¹ä¸»æœºAè¿›è¡Œ<strong>ç´¯è®¡ç¡®è®¤</strong>ï¼ˆACK=1ï¼Œack=501ï¼šç¡®è®¤501ä¹‹å‰çš„æ•°æ®ï¼Œrwnd=100ï¼šæ­¤æ—¶ä¸»æœºBè¿˜èƒ½æ¥æ”¶100å­—èŠ‚çš„æ•°æ®ï¼‰ <ol><li>æ­¤æ—¶æ»‘åŠ¨çª—å£ä»501-800ï¼ˆçª—å£å¤§å°ä¸º300ï¼‰</li><li>å› ä¸ºæ”¶åˆ°ä¸»æœºBçš„rwnd=100ï¼Œæ‰€ä»¥è°ƒæ•´çª—å£å¤§å°ä¸º501-600</li></ol></li><li>åˆ é™¤501ä¹‹å‰çš„æ•°æ®ç¼“å­˜</li><li>å°è£…æˆTCPæŠ¥æ–‡é€501-600çš„æ•°æ®</li><li>æ­¤æ—¶ä¸»æœºBåˆå¯¹ä¸»æœºAè¿›è¡Œ<strong>ç´¯è®¡ç¡®è®¤</strong>ï¼ˆACK=1ï¼Œack=601ï¼Œrwnd=0ï¼‰æ­¤æ—¶ä¸»æœºAä¸èƒ½å†å‘é€äº†ï¼Œå‘é€çª—å£è¢«è°ƒæ§ä¸º0</li></ol><figure><img src="'+T+'" alt="image-20220622144025833" tabindex="0" loading="lazy"><figcaption>image-20220622144025833</figcaption></figure><p>ğŸ’¨å‡è®¾ä¸ä¹…ä¹‹åï¼Œä¸»æœºBåˆæœ‰äº†ä¸€äº›å­˜å‚¨ç©ºé—´ï¼š</p><ol><li>ä¸»æœºBå¯¹ä¸»æœºAå‘é€ä¸€ä¸ªrwnd=300çš„æŠ¥æ–‡æ®µï¼Œä½†æ˜¯è¿™ä¸ªæŠ¥æ–‡æ®µåœ¨ä¼ è¾“è¿‡ç¨‹ä¸­ä¸¢å¤±äº† <ol><li>Aä¸€ç›´ç­‰å¾…Bå‘é€çš„éé›¶çª—å£é€šçŸ¥ï¼ŒBä¹Ÿä¸€ç›´ç­‰å¾…Aå‘é€çš„æ•°æ®ï¼ˆç»å…¸æ­»é”ï¼‰</li><li>TCPè§£å†³æ–¹æ¡ˆï¼šè®¾ç«‹å®šæ—¶å™¨ï¼›æ‰€ä»¥ä¸»æœºAä¼šå¯åŠ¨ä¸€ä¸ªæŒç»­è®¡æ—¶å™¨</li><li>å¦‚æœæŒç»­è®¡æ—¶å™¨è¶…æ—¶ï¼Œå°±ä¼šå‘é€ä¸€ä¸ªé›¶çª—å£æ¢æµ‹æŠ¥æ–‡æ®µï¼ˆæºå¸¦1å­—èŠ‚æ•°æ®ï¼‰ã€æ‹“å±•ï¼šé›¶çª—å£æ¢æµ‹æŠ¥æ–‡æ®µä¹Ÿæœ‰æŒç»­è®¡æ—¶å™¨ï¼Œå¦‚æœä¸¢å¤±äº†ä¹Ÿä¼šè¿›è¡Œé‡ä¼ é¿å…æ­»é”ã€‘</li></ol></li><li>å¦‚æœç°åœ¨ä¸»æœºBåˆæ²¡æœ‰ç©ºé—´äº†ï¼Œå°±ä¼šå‘é€ä¸€ä¸ªçª—å£æ¢æµ‹æŠ¥æ–‡æ®µè¿›è¡Œç¡®è®¤ï¼ˆACK=1 rwnd=0ï¼‰</li><li>ä¸»æœºAæ¥æ”¶åˆ°äº†ä¼šåˆå¯åŠ¨ä¸€ä¸ªæŒç»­è®¡æ—¶å™¨ï¼Œå¦‚æœä¸»æœºBåˆæœ‰äº†å­˜å‚¨ç©ºé—´ï¼ˆå‡è®¾ç°åœ¨ä¸º300ï¼‰ï¼Œé‚£ä¹ˆå°±ä¼šå‘é€ä¸€ä¸ªæ¥æ”¶çª—å£ï¼ˆACK=1ï¼Œrwnd=300ï¼‰</li></ol><figure><img src="'+b+'" alt="image-20220622144903957" tabindex="0" loading="lazy"><figcaption>image-20220622144903957</figcaption></figure><h4 id="tcpæ‹¥å¡æ§åˆ¶" tabindex="-1"><a class="header-anchor" href="#tcpæ‹¥å¡æ§åˆ¶" aria-hidden="true">#</a> TCPæ‹¥å¡æ§åˆ¶</h4><p>å››ç§æ‹¥å¡æ§åˆ¶ç®—æ³•ï¼šæ…¢å¼€å§‹ã€æ‹¥å¡é¿å…ã€å¿«é‡ä¼ ï¼Œå¿«æ¢å¤</p><h6 id="æ…¢å¼€å§‹ã€æ‹¥å¡é¿å…" tabindex="-1"><a class="header-anchor" href="#æ…¢å¼€å§‹ã€æ‹¥å¡é¿å…" aria-hidden="true">#</a> æ…¢å¼€å§‹ã€æ‹¥å¡é¿å…</h6><p>å‡è®¾å‘é€æ–¹cwnd=1,swnd=cwnd,ssthresh=16</p><p>æ…¢å¼€å§‹å°ç»“ï¼šæ»‘åŠ¨çª—å£é€æ¸å¢å¤§</p><ol><li>å‘é€æ–¹ç»™æ¥æ”¶æ–¹å‘é€æŠ¥æ–‡æ®µï¼Œå‘é€æ–¹æ¥æ”¶åˆ°äº†æ¥æ”¶æ–¹çš„ç¡®è®¤æŠ¥æ–‡æ®µåå°†çª—å£å¢å¤§1 (1+1=2)ï¼Œæ­¤æ—¶å‘é€å‘å¯ä»¥å‘é€2å·æ•°æ®æŠ¥æ–‡æ®µ</li></ol><figure><img src="'+C+'" alt="image-20220622145827589" tabindex="0" loading="lazy"><figcaption>image-20220622145827589</figcaption></figure><ol start="2"><li>æ­¤æ—¶å‘é€å‘åˆå‘é€1<sub>2æŠ¥æ–‡æ®µï¼Œæ¥æ”¶æ–¹ç¡®è®¤åï¼Œå‘é€æ–¹å°†çª—å£å¢å¤§ä¸º4ï¼ˆ2+2=4ï¼‰ï¼Œå‘é€å‘ç°åœ¨å¯ä»¥å‘é€3</sub>6å·æ•°æ®æŠ¥æ–‡æ®µ</li></ol><figure><img src="'+A+'" alt="image-20220622150047014" tabindex="0" loading="lazy"><figcaption>image-20220622150047014</figcaption></figure><ol start="3"><li>æ­¤æ—¶å‘é€å‘åˆå‘é€3<sub>6æŠ¥æ–‡æ®µï¼Œæ¥æ”¶æ–¹ç¡®è®¤åï¼Œå‘é€æ–¹å°†çª—å£å¢å¤§ä¸º4ï¼ˆ4+4=8ï¼‰ï¼Œå‘é€å‘ç°åœ¨å¯ä»¥å‘é€7</sub>14å·æ•°æ®æŠ¥æ–‡æ®µ</li></ol><figure><img src="'+k+'" alt="image-20220622150158817" tabindex="0" loading="lazy"><figcaption>image-20220622150158817</figcaption></figure><ol start="4"><li>åŒç†å¯ä»¥å¢åŠ åˆ°16çš„çª—å£å¤§å°</li></ol><figure><img src="'+S+'" alt="image-20220622150303164" tabindex="0" loading="lazy"><figcaption>image-20220622150303164</figcaption></figure><ol start="5"><li>æ­¤æ—¶å¼€å§‹<strong>æ‹¥å¡é¿å…</strong>ç®—æ³•ï¼šå¯¹æŠ¥æ–‡æ®µ15~30å·è¿›è¡Œå‘é€å’Œç¡®è®¤ï¼Œæ­¤æ—¶cwndä»16 + 1 = 17ï¼Œ</li></ol><figure><img src="'+w+'" alt="image-20220622150515511" tabindex="0" loading="lazy"><figcaption>image-20220622150515511</figcaption></figure><ol start="6"><li>æ­¤æ—¶å¯ä»¥å¯¹TCPæŠ¥æ–‡æ®µ31~47å·è¿›è¡Œå‘é€å’Œç¡®è®¤ï¼Œå‘é€æ–¹æ”¶åˆ°åçª—å£ä»17å¢å¤§åˆ°18ï¼ˆ17+1ï¼‰</li></ol><figure><img src="'+I+'" alt="image-20220622150617743" tabindex="0" loading="lazy"><figcaption>image-20220622150617743</figcaption></figure><ol start="7"><li>ä»¥æ­¤ç±»æ¨ï¼Œå½“å¢åŠ åˆ°24çš„æ»‘åŠ¨çª—å£æ—¶ï¼Œæ­¤æ—¶TCPå¯¹171~194æŠ¥æ–‡æ®µè¿›è¡Œå‘é€å’Œç¡®è®¤</li></ol><figure><img src="'+_+'" alt="image-20220622150715342" tabindex="0" loading="lazy"><figcaption>image-20220622150715342</figcaption></figure><p>å¦‚æœæ­¤æ—¶æŠ¥æ–‡æ®µå‘ç”Ÿäº†ä¸¢å¤±ï¼Œé‚£ä¹ˆå°±ä¼šè¿›è¡Œé‡ä¼ è®¡æ—¶å™¨è¶…æ—¶ï¼ˆåˆ¤æ–­ç½‘ç»œå‡ºç°äº†æ‹¥å¡ï¼‰ï¼š</p><ul><li>å°†ssthreshå€¼æ›´æ–°ä¸ºå‘ç”Ÿæ‹¥å¡æ§åˆ¶æ—¶cwndå€¼çš„ä¸€åŠï¼ˆssthresh = 24 / 2 = 12ï¼‰</li><li>å°†cwndå€¼å‡å°‘ä¸º1ï¼Œå¹¶å¼€å§‹æ‰§è¡Œæ…¢å¼€å§‹ç®—æ³•ï¼ˆcwnd=1ï¼‰</li></ul><figure><img src="'+E+'" alt="image-20220622152317600" tabindex="0" loading="lazy"><figcaption>image-20220622152317600</figcaption></figure><ol start="8"><li>åˆå¼€å§‹æ…¢å¼€å§‹ç®—æ³•ï¼Œç›´åˆ°è¾¾åˆ°æ…¢å¼€å§‹é—¨é™å€¼</li></ol><figure><img src="'+N+'" alt="image-20220622152350238" tabindex="0" loading="lazy"><figcaption>image-20220622152350238</figcaption></figure><p>æ•´ä½“æµç¨‹ï¼š</p><figure><img src="'+v+'" alt="image-20220622152551749" tabindex="0" loading="lazy"><figcaption>image-20220622152551749</figcaption></figure><h6 id="å¿«é‡ä¼ ã€å¿«æ¢å¤" tabindex="-1"><a class="header-anchor" href="#å¿«é‡ä¼ ã€å¿«æ¢å¤" aria-hidden="true">#</a> å¿«é‡ä¼ ã€å¿«æ¢å¤</h6><p>å¿«é‡ä¼ ç®€æ´è¯´æ˜ï¼šå½“å‘é€å‘æ”¶åˆ°3ä¸ªè¿ç»­é‡å¤ç¡®è®¤ï¼Œå°±å°†ç›¸åº”çš„æŠ¥æ–‡æ®µç«‹å³é‡ä¼ ï¼ˆå›¾ä¸­çš„3ä¸ªç¡®è®¤æŠ¥æ–‡æ®µä¸ºï¼šM4 M5 M6ï¼Œæœ€åç«‹å³é‡ä¼ M3ã€M3ä¸¢å¤±ã€‘ï¼‰</p><figure><img src="'+L+'" alt="image-20220622153534786" tabindex="0" loading="lazy"><figcaption>image-20220622153534786</figcaption></figure><p>å¿«æ¢å¤ç®€æ´è¯´æ˜ï¼šå‘é€æ–¹ä¸€æ—¦æ”¶åˆ°3ä¸ªé‡å¤ç¡®è®¤ï¼Œå°±çŸ¥é“ç°åœ¨åªæ˜¯ä¸¢å¤±äº†ä¸ªåˆ«çš„æŠ¥æ–‡æ®µã€‚äºæ˜¯<strong>ä¸å¯åŠ¨æ…¢å¼€å§‹</strong>ç®—æ³•ï¼Œè€Œæ‰§è¡Œå¿«æ¢å¤ç®—æ³•ï¼›å‘é€æ–¹å°†æ…¢å¼€å§‹é—¨é™ssthreshå€¼å’Œæ‹¥å¡çª—å£cwndå€¼è°ƒæ•´ä¸ºå½“å‰çª—å£çš„ä¸€åŠï¼›<strong>å¼€å§‹æ‰§è¡Œæ‹¥å¡é¿å…ç®—æ³•</strong>ã€‚</p><p>æ•´ä½“æµç¨‹ï¼š</p><figure><img src="'+x+'" alt="image-20220622153028675" tabindex="0" loading="lazy"><figcaption>image-20220622153028675</figcaption></figure><h4 id="tcpå¯é ä¼ è¾“" tabindex="-1"><a class="header-anchor" href="#tcpå¯é ä¼ è¾“" aria-hidden="true">#</a> TCPå¯é ä¼ è¾“</h4><p>å‘é€æ–¹å¦‚æœå‘é€äº†32~33å·æŠ¥æ–‡æ®µç»™æ¥æ”¶æ–¹</p><figure><img src="'+y+'" alt="image-20220622160349594" tabindex="0" loading="lazy"><figcaption>image-20220622160349594</figcaption></figure><p>é‚£ä¹ˆæ¥æ”¶æ–¹ä¼šæ¥æ”¶å®ƒä»¬ï¼Œå­˜å…¥ç¼“å­˜ï¼›å› ä¸º31å·å…ƒç´ è¿˜æ²¡æœ‰åˆ°è¾¾ï¼Œè¿™æ˜¯æœªæŒ‰åºåˆ°è¾¾çš„æ•°æ®</p><figure><img src="'+D+'" alt="image-20220622160614260" tabindex="0" loading="lazy"><figcaption>image-20220622160614260</figcaption></figure><p>å‡è®¾31å·æŠ¥æ–‡æ®µåˆ°è¾¾äº†æ¥æ”¶æ–¹ï¼Œå­˜å…¥åˆ°æ¥æ”¶ç¼“å­˜ï¼Œæ¥æ”¶æ–¹æ¥æ”¶äº†ä¹‹åå°±ä¼šæŠŠ31~33å·æ•°æ®äº¤ä»˜ç»™åº”ç”¨è¿›ç¨‹ï¼›æ¥æ”¶æ–¹ä¼šå‘å³æ»‘åŠ¨3ä¸ªçª—å£ï¼Œå¹¶å‘é€ç»™å‘é€å‘ç¡®è®¤æŠ¥æ–‡æ®µ</p><figure><img src="'+B+'" alt="image-20220622160757115" tabindex="0" loading="lazy"><figcaption>image-20220622160757115</figcaption></figure><p>å¦‚æœå‘é€æ–¹åˆå‘é€äº†ä¸‰ä¸ªæ•°æ®ï¼ˆ37ã€38ã€40ï¼‰ï¼Œæ¥æ”¶ç«¯æ¥å—äº†ä¹‹åä¼šå‘é€ç¡®è®¤æŠ¥æ–‡æ®µï¼ˆrwnd=20, ack=34ï¼‰ï¼Œé‚£ä¹ˆå‘é€æ–¹çš„çª—å£ä¹Ÿä¼šå‘å³ç§»åŠ¨3ä½</p><figure><img src="'+q+'" alt="image-20220622161106757" tabindex="0" loading="lazy"><figcaption>image-20220622161106757</figcaption></figure><h4 id="http" tabindex="-1"><a class="header-anchor" href="#http" aria-hidden="true">#</a> HTTP</h4><p>HTTP åè®®ï¼Œå…¨ç§°è¶…æ–‡æœ¬ä¼ è¾“åè®®ï¼ˆHypertext Transfer Protocolï¼‰ã€‚é¡¾åæ€ä¹‰ï¼ŒHTTP åè®®å°±æ˜¯ç”¨æ¥è§„èŒƒè¶…æ–‡æœ¬çš„ä¼ è¾“ï¼Œè¶…æ–‡æœ¬ï¼Œä¹Ÿå°±æ˜¯ç½‘ç»œä¸Šçš„åŒ…æ‹¬æ–‡æœ¬åœ¨å†…çš„å„å¼å„æ ·çš„æ¶ˆï¼Œå…·ä½“æ¥è¯´ï¼Œä¸»è¦æ˜¯æ¥è§„èŒƒæµè§ˆå™¨å’ŒæœåŠ¡å™¨ç«¯çš„è¡Œä¸ºçš„ã€‚</p><p>å¹¶ä¸”ï¼ŒHTTP æ˜¯ä¸€ä¸ªæ— çŠ¶æ€ï¼ˆstatelessï¼‰åè®®ï¼Œä¹Ÿå°±æ˜¯è¯´æœåŠ¡å™¨ä¸ç»´æŠ¤ä»»ä½•æœ‰å…³å®¢æˆ·ç«¯è¿‡å»æ‰€å‘è¯·æ±‚çš„æ¶ˆæ¯ã€‚è¿™å…¶å®æ˜¯ä¸€ç§æ‡’æ”¿ï¼Œæœ‰çŠ¶æ€åè®®ä¼šæ›´åŠ å¤æ‚ï¼Œéœ€è¦ç»´æŠ¤çŠ¶æ€ï¼ˆå†å²ä¿¡æ¯ï¼‰ï¼Œè€Œä¸”å¦‚æœå®¢æˆ·æˆ–æœåŠ¡å™¨å¤±æ•ˆï¼Œä¼šäº§ç”ŸçŠ¶æ€çš„ä¸ä¸€è‡´ï¼Œè§£å†³è¿™ç§ä¸ä¸€è‡´çš„ä»£ä»·æ›´é«˜ã€‚</p><h6 id="é€šä¿¡è¿‡ç¨‹" tabindex="-1"><a class="header-anchor" href="#é€šä¿¡è¿‡ç¨‹" aria-hidden="true">#</a> é€šä¿¡è¿‡ç¨‹</h6><p>HTTP æ˜¯åº”ç”¨å±‚åè®®ï¼Œå®ƒä»¥ TCPï¼ˆä¼ è¾“å±‚ï¼‰ä½œä¸ºåº•å±‚åè®®ï¼Œé»˜è®¤ç«¯å£ä¸º 80. é€šä¿¡è¿‡ç¨‹ä¸»è¦å¦‚ä¸‹ï¼š</p><ol><li>æœåŠ¡å™¨åœ¨ 80 ç«¯å£ç­‰å¾…å®¢æˆ·çš„è¯·æ±‚ã€‚</li><li>æµè§ˆå™¨å‘èµ·åˆ°æœåŠ¡å™¨çš„ TCP è¿æ¥ï¼ˆåˆ›å»ºå¥—æ¥å­— Socketï¼‰ã€‚</li><li>æœåŠ¡å™¨æ¥æ”¶æ¥è‡ªæµè§ˆå™¨çš„ TCP è¿æ¥ã€‚</li><li>æµè§ˆå™¨ï¼ˆHTTP å®¢æˆ·ç«¯ï¼‰ä¸ Web æœåŠ¡å™¨ï¼ˆHTTP æœåŠ¡å™¨ï¼‰äº¤æ¢ HTTP æ¶ˆæ¯ã€‚</li><li>å…³é—­ TCP è¿æ¥ã€‚</li></ol><h4 id="https" tabindex="-1"><a class="header-anchor" href="#https" aria-hidden="true">#</a> HTTPS</h4><p>å› ä¸º HTTPS ç›¸æ¯” HTTP åè®®å¤šä¸€ä¸ª TLS åè®®æ¡æ‰‹è¿‡ç¨‹ï¼Œ<strong>ç›®çš„æ˜¯ä¸ºäº†é€šè¿‡éå¯¹ç§°åŠ å¯†æ¡æ‰‹åå•†æˆ–è€…äº¤æ¢å‡ºå¯¹ç§°åŠ å¯†å¯†é’¥</strong>ï¼Œè¿™ä¸ªè¿‡ç¨‹æœ€é•¿å¯ä»¥èŠ±è´¹æ‰ 2 RTTï¼Œæ¥ç€åç»­ä¼ è¾“çš„åº”ç”¨æ•°æ®éƒ½å¾—ä½¿ç”¨å¯¹ç§°åŠ å¯†å¯†é’¥æ¥åŠ å¯†/è§£å¯†ã€‚</p><p>HTTPS åè®®ï¼ˆHyper Text Transfer Protocol Secureï¼‰ï¼Œæ˜¯ HTTP çš„åŠ å¼ºå®‰å…¨ç‰ˆæœ¬ã€‚HTTPS æ˜¯åŸºäº HTTP çš„ï¼Œä¹Ÿæ˜¯ç”¨ TCP ä½œä¸ºåº•å±‚åè®®ï¼Œå¹¶é¢å¤–ä½¿ç”¨ SSL/TLS åè®®ç”¨ä½œåŠ å¯†å’Œå®‰å…¨è®¤è¯ã€‚é»˜è®¤ç«¯å£å·æ˜¯ 443.</p><p>HTTPS åè®®ä¸­ï¼ŒSSL é€šé“é€šå¸¸ä½¿ç”¨åŸºäºå¯†é’¥çš„åŠ å¯†ç®—æ³•ï¼Œå¯†é’¥é•¿åº¦é€šå¸¸æ˜¯ 40 æ¯”ç‰¹æˆ– 128 æ¯”ç‰¹ã€‚</p><h6 id="ssl-tls" tabindex="-1"><a class="header-anchor" href="#ssl-tls" aria-hidden="true">#</a> SSL/TLS</h6><p>SSL æŒ‡å®‰å…¨å¥—æ¥å­—åè®®ï¼ˆSecure Sockets Layerï¼‰ï¼Œé¦–æ¬¡å‘å¸ƒä¸ 1996 å¹´ã€‚SSL çš„é¦–æ¬¡å‘å¸ƒå…¶å®å·²ç»æ˜¯ä»–çš„ 3.0 ç‰ˆæœ¬ï¼ŒSSL 1.0 ä»æœªé¢ä¸–ï¼ŒSSL 2.0 åˆ™å…·æœ‰è¾ƒå¤§çš„ç¼ºé™·ï¼ˆDROWN ç¼ºé™·â€”â€”Decrypting RSA with Obsolete and Weakened eNcryptionï¼‰ã€‚å¾ˆå¿«ï¼Œåœ¨ 1999 å¹´ï¼ŒSSL 3.0 è¿›ä¸€æ­¥å‡çº§ï¼Œ<strong>æ–°ç‰ˆæœ¬è¢«å‘½åä¸º TLS 1.0</strong>ã€‚å› æ­¤ï¼ŒTLS æ˜¯åŸºäº SSL ä¹‹ä¸Šçš„ï¼Œä½†ç”±äºä¹ æƒ¯å«æ³•ï¼Œé€šå¸¸æŠŠ HTTPS ä¸­çš„æ ¸å¿ƒåŠ å¯†åè®®æ··æˆä¸º SSL/TLSã€‚</p><h6 id="éå¯¹ç§°åŠ å¯†" tabindex="-1"><a class="header-anchor" href="#éå¯¹ç§°åŠ å¯†" aria-hidden="true">#</a> éå¯¹ç§°åŠ å¯†</h6><p>SSL/TLS çš„æ ¸å¿ƒè¦ç´ æ˜¯<strong>éå¯¹ç§°åŠ å¯†</strong>ã€‚éå¯¹ç§°åŠ å¯†é‡‡ç”¨ä¸¤ä¸ªå¯†é’¥â€”â€”ä¸€ä¸ªå…¬é’¥ï¼Œä¸€ä¸ªç§é’¥ã€‚åœ¨é€šä¿¡æ—¶ï¼Œç§é’¥ä»…ç”±è§£å¯†è€…ä¿å­˜ï¼Œå…¬é’¥ç”±ä»»ä½•ä¸€ä¸ªæƒ³ä¸è§£å¯†è€…é€šä¿¡çš„å‘é€è€…ï¼ˆåŠ å¯†è€…ï¼‰æ‰€çŸ¥ã€‚å¯ä»¥è®¾æƒ³ä¸€ä¸ªåœºæ™¯ï¼Œ</p><blockquote><p>åœ¨æŸä¸ªè‡ªåŠ©é‚®å±€ï¼Œæ¯ä¸ªé€šä¿¡ä¿¡é“éƒ½æ˜¯ä¸€ä¸ªé‚®ç®±ï¼Œæ¯ä¸€ä¸ªé‚®ç®±æ‰€æœ‰è€…éƒ½åœ¨æ—è¾¹ç«‹äº†ä¸€ä¸ªç‰Œå­ï¼Œä¸Šé¢æŒ‚ç€ä¸€æŠŠé’¥åŒ™ï¼šè¿™æ˜¯æˆ‘çš„å…¬é’¥ï¼Œå‘é€è€…è¯·å°†ä¿¡ä»¶æ”¾å…¥æˆ‘çš„é‚®ç®±ï¼Œå¹¶ç”¨å…¬é’¥é”å¥½ã€‚</p><p>ä½†æ˜¯å…¬é’¥åªèƒ½åŠ é”ï¼Œå¹¶ä¸èƒ½è§£é”ã€‚è§£é”åªèƒ½ç”±é‚®ç®±çš„æ‰€æœ‰è€…â€”â€”å› ä¸ºåªæœ‰ä»–ä¿å­˜ç€ç§é’¥ã€‚</p><p>è¿™æ ·ï¼Œé€šä¿¡ä¿¡æ¯å°±ä¸ä¼šè¢«å…¶ä»–äººæˆªè·äº†ï¼Œè¿™ä¾èµ–äºç§é’¥çš„ä¿å¯†æ€§ã€‚</p></blockquote><figure><img src="'+H+'" alt="image-20220622195056508" tabindex="0" loading="lazy"><figcaption>image-20220622195056508</figcaption></figure><p>éå¯¹ç§°åŠ å¯†çš„å…¬é’¥å’Œç§é’¥éœ€è¦é‡‡ç”¨ä¸€ç§å¤æ‚çš„æ•°å­¦æœºåˆ¶ç”Ÿæˆï¼ˆå¯†ç å­¦è®¤ä¸ºï¼Œä¸ºäº†è¾ƒé«˜çš„å®‰å…¨æ€§ï¼Œå°½é‡ä¸è¦è‡ªå·±åˆ›é€ åŠ å¯†æ–¹æ¡ˆï¼‰ã€‚å…¬ç§é’¥å¯¹çš„ç”Ÿæˆç®—æ³•ä¾èµ–äºå•å‘é™·é—¨å‡½æ•°ã€‚</p><blockquote><p>å•å‘å‡½æ•°ï¼šå·²çŸ¥å•å‘å‡½æ•° fï¼Œç»™å®šä»»æ„ä¸€ä¸ªè¾“å…¥ xï¼Œæ˜“è®¡ç®—è¾“å‡º y=f(x)ï¼›è€Œç»™å®šä¸€ä¸ªè¾“å‡º yï¼Œå‡è®¾å­˜åœ¨ f(x)=yï¼Œå¾ˆéš¾æ ¹æ® f æ¥è®¡ç®—å‡º xã€‚</p><p>å•å‘é™·é—¨å‡½æ•°ï¼šä¸€ä¸ªè¾ƒå¼±çš„å•å‘å‡½æ•°ã€‚å·²çŸ¥å•å‘é™·é—¨å‡½æ•° fï¼Œé™·é—¨ hï¼Œç»™å®šä»»æ„ä¸€ä¸ªè¾“å…¥ xï¼Œæ˜“è®¡ç®—å‡ºè¾“å‡º y=f(x;h)ï¼›è€Œç»™å®šä¸€ä¸ªè¾“å‡º yï¼Œå‡è®¾å­˜åœ¨ f(x;h)=yï¼Œå¾ˆéš¾æ ¹æ® f æ¥è®¡ç®—å‡º xï¼Œä½†å¯ä»¥æ ¹æ® f å’Œ h æ¥æ¨å¯¼å‡º xã€‚</p></blockquote><figure><img src="'+U+'" alt="image-20220622195100965" tabindex="0" loading="lazy"><figcaption>image-20220622195100965</figcaption></figure><p>ä¸Šå›¾å°±æ˜¯ä¸€ä¸ªå•å‘å‡½æ•°ï¼ˆä¸æ˜¯å•é¡¹é™·é—¨å‡½æ•°ï¼‰ï¼Œå‡è®¾æœ‰ä¸€ä¸ªç»ä¸–ç§˜ç±ï¼Œä»»ä½•çŸ¥é“äº†è¿™ä¸ªç§˜ç±çš„äººéƒ½å¯ä»¥æŠŠè‹¹æœæ±æ¦¨æˆè‹¹æœï¼Œé‚£ä¹ˆè¿™ä¸ªç§˜ç±å°±æ˜¯â€œé™·é—¨â€äº†å§ã€‚</p><p>åœ¨è¿™é‡Œï¼Œå‡½æ•° f çš„è®¡ç®—æ–¹æ³•ç›¸å½“äºå…¬é’¥ï¼Œé™·é—¨ h ç›¸å½“äºç§é’¥ã€‚å…¬é’¥ f æ˜¯å…¬å¼€çš„ï¼Œä»»ä½•äººå¯¹å·²æœ‰è¾“å…¥ï¼Œéƒ½å¯ä»¥ç”¨ f åŠ å¯†ï¼Œè€Œè¦æƒ³æ ¹æ®åŠ å¯†ä¿¡æ¯è¿˜åŸå‡ºåŸä¿¡æ¯ï¼Œå¿…é¡»è¦æœ‰ç§é’¥æ‰è¡Œã€‚</p><h6 id="å¯¹ç§°åŠ å¯†" tabindex="-1"><a class="header-anchor" href="#å¯¹ç§°åŠ å¯†" aria-hidden="true">#</a> å¯¹ç§°åŠ å¯†</h6><p>ä½¿ç”¨ SSL/TLS è¿›è¡Œé€šä¿¡çš„åŒæ–¹éœ€è¦ä½¿ç”¨éå¯¹ç§°åŠ å¯†æ–¹æ¡ˆæ¥é€šä¿¡ï¼Œä½†æ˜¯éå¯¹ç§°åŠ å¯†è®¾è®¡äº†è¾ƒä¸ºå¤æ‚çš„æ•°å­¦ç®—æ³•ï¼Œåœ¨å®é™…é€šä¿¡è¿‡ç¨‹ä¸­ï¼Œè®¡ç®—çš„ä»£ä»·è¾ƒé«˜ï¼Œæ•ˆç‡å¤ªä½ï¼Œå› æ­¤ï¼ŒSSL/TLS å®é™…å¯¹æ¶ˆæ¯çš„åŠ å¯†ä½¿ç”¨çš„æ˜¯å¯¹ç§°åŠ å¯†ã€‚</p><blockquote><p>å¯¹ç§°åŠ å¯†ï¼šé€šä¿¡åŒæ–¹å…±äº«å”¯ä¸€å¯†é’¥ kï¼ŒåŠ è§£å¯†ç®—æ³•å·²çŸ¥ï¼ŒåŠ å¯†æ–¹åˆ©ç”¨å¯†é’¥ k åŠ å¯†ï¼Œè§£å¯†æ–¹åˆ©ç”¨å¯†é’¥ k è§£å¯†ï¼Œä¿å¯†æ€§ä¾èµ–äºå¯†é’¥ k çš„ä¿å¯†æ€§ã€‚</p></blockquote><figure><img src="'+O+'" alt="image-20220622195120635" tabindex="0" loading="lazy"><figcaption>image-20220622195120635</figcaption></figure><p>å¯¹ç§°åŠ å¯†çš„å¯†é’¥ç”Ÿæˆä»£ä»·æ¯”å…¬ç§é’¥å¯¹çš„ç”Ÿæˆä»£ä»·ä½å¾—å¤šï¼Œé‚£ä¹ˆæœ‰çš„äººä¼šé—®äº†ï¼Œä¸ºä»€ä¹ˆ SSL/TLS è¿˜éœ€è¦ä½¿ç”¨éå¯¹ç§°åŠ å¯†å‘¢ï¼Ÿå› ä¸ºå¯¹ç§°åŠ å¯†çš„ä¿å¯†æ€§å®Œå…¨ä¾èµ–äºå¯†é’¥çš„ä¿å¯†æ€§ã€‚åœ¨åŒæ–¹é€šä¿¡ä¹‹å‰ï¼Œéœ€è¦å•†é‡ä¸€ä¸ªç”¨äºå¯¹ç§°åŠ å¯†çš„å¯†é’¥ã€‚æˆ‘ä»¬çŸ¥é“ç½‘ç»œé€šä¿¡çš„ä¿¡é“æ˜¯ä¸å®‰å…¨çš„ï¼Œä¼ è¾“æŠ¥æ–‡å¯¹ä»»ä½•äººæ˜¯å¯è§çš„ï¼Œå¯†é’¥çš„äº¤æ¢è‚¯å®šä¸èƒ½ç›´æ¥åœ¨ç½‘ç»œä¿¡é“ä¸­ä¼ è¾“ã€‚å› æ­¤ï¼Œä½¿ç”¨éå¯¹ç§°åŠ å¯†ï¼Œå¯¹å¯¹ç§°åŠ å¯†çš„å¯†é’¥è¿›è¡ŒåŠ å¯†ï¼Œä¿æŠ¤è¯¥å¯†é’¥ä¸åœ¨ç½‘ç»œä¿¡é“ä¸­è¢«çªƒå¬ã€‚è¿™æ ·ï¼Œé€šä¿¡åŒæ–¹åªéœ€è¦ä¸€æ¬¡éå¯¹ç§°åŠ å¯†ï¼Œäº¤æ¢å¯¹ç§°åŠ å¯†çš„å¯†é’¥ï¼Œåœ¨ä¹‹åçš„ä¿¡æ¯é€šä¿¡ä¸­ï¼Œä½¿ç”¨ç»å¯¹å®‰å…¨çš„å¯†é’¥ï¼Œå¯¹ä¿¡æ¯è¿›è¡Œå¯¹ç§°åŠ å¯†ï¼Œå³å¯ä¿è¯ä¼ è¾“æ¶ˆæ¯çš„ä¿å¯†æ€§ã€‚</p><h6 id="æ•°å­—ç­¾å" tabindex="-1"><a class="header-anchor" href="#æ•°å­—ç­¾å" aria-hidden="true">#</a> æ•°å­—ç­¾å</h6><p>å¥½ï¼Œåˆ°è¿™ä¸€å°èŠ‚ï¼Œå·²ç»æ˜¯ SSL/TLS çš„å°¾å£°äº†ã€‚ä¸Šä¸€å°èŠ‚æåˆ°äº†æ•°å­—ç­¾åï¼Œæ•°å­—ç­¾åè¦è§£å†³çš„é—®é¢˜ï¼Œæ˜¯é˜²æ­¢è¯ä¹¦è¢«ä¼ªé€ ã€‚ç¬¬ä¸‰æ–¹ä¿¡èµ–æœºæ„ CA ä¹‹æ‰€ä»¥èƒ½è¢«ä¿¡èµ–ï¼Œå°±æ˜¯ <strong>é æ•°å­—ç­¾åæŠ€æœ¯</strong> ã€‚</p><p>æ•°å­—ç­¾åï¼Œæ˜¯ CA åœ¨ç»™æœåŠ¡å™¨é¢å‘è¯ä¹¦æ—¶ï¼Œä½¿ç”¨æ•£åˆ—+åŠ å¯†çš„ç»„åˆæŠ€æœ¯ï¼Œåœ¨è¯ä¹¦ä¸Šç›–ä¸ªç« ï¼Œä»¥æ­¤æ¥æä¾›éªŒä¼ªçš„åŠŸèƒ½ã€‚å…·ä½“è¡Œä¸ºå¦‚ä¸‹ï¼š</p><blockquote><p>CA çŸ¥é“æœåŠ¡å™¨çš„å…¬é’¥ï¼Œå¯¹è¯¥å…¬é’¥é‡‡ç”¨æ•£åˆ—æŠ€æœ¯ç”Ÿæˆä¸€ä¸ªæ‘˜è¦ã€‚CA ä½¿ç”¨ CA ç§é’¥å¯¹è¯¥æ‘˜è¦è¿›è¡ŒåŠ å¯†ï¼Œå¹¶é™„åœ¨è¯ä¹¦ä¸‹æ–¹ï¼Œå‘é€ç»™æœåŠ¡å™¨ã€‚</p><p>ç°åœ¨æœåŠ¡å™¨å°†è¯¥è¯ä¹¦å‘é€ç»™å®¢æˆ·ç«¯ï¼Œå®¢æˆ·ç«¯éœ€è¦éªŒè¯è¯¥è¯ä¹¦çš„èº«ä»½ã€‚å®¢æˆ·ç«¯æ‰¾åˆ°ç¬¬ä¸‰æ–¹æœºæ„ CAï¼Œè·çŸ¥ CA çš„å…¬é’¥ï¼Œå¹¶ç”¨ CA å…¬é’¥å¯¹è¯ä¹¦çš„ç­¾åè¿›è¡Œè§£å¯†ï¼Œè·å¾—äº† CA ç”Ÿæˆçš„æ‘˜è¦ã€‚</p><p>å®¢æˆ·ç«¯å¯¹è¯ä¹¦æ•°æ®ï¼ˆä¹Ÿå°±æ˜¯æœåŠ¡å™¨çš„å…¬é’¥ï¼‰åšç›¸åŒçš„æ•£åˆ—å¤„ç†ï¼Œå¾—åˆ°æ‘˜è¦ï¼Œå¹¶å°†è¯¥æ‘˜è¦ä¸ä¹‹å‰ä»ç­¾åä¸­è§£ç å‡ºçš„æ‘˜è¦åšå¯¹æ¯”ï¼Œå¦‚æœç›¸åŒï¼Œåˆ™èº«ä»½éªŒè¯æˆåŠŸï¼›å¦åˆ™éªŒè¯å¤±è´¥ã€‚</p></blockquote><figure><img src="'+M+'" alt="image-20220622195206707" tabindex="0" loading="lazy"><figcaption>image-20220622195206707</figcaption></figure><p>æ€»ç»“æ¥è¯´ï¼Œå¸¦æœ‰è¯ä¹¦çš„å…¬é’¥ä¼ è¾“æœºåˆ¶å¦‚ä¸‹ï¼š</p><ol><li>è®¾æœ‰æœåŠ¡å™¨ Sï¼Œå®¢æˆ·ç«¯ Cï¼Œå’Œç¬¬ä¸‰æ–¹ä¿¡èµ–æœºæ„ CAã€‚</li><li>S ä¿¡ä»» CAï¼ŒCA æ˜¯çŸ¥é“ S å…¬é’¥çš„ï¼ŒCA å‘ S é¢å‘è¯ä¹¦ã€‚å¹¶é™„ä¸Š CA ç§é’¥å¯¹æ¶ˆæ¯æ‘˜è¦çš„åŠ å¯†ç­¾åã€‚</li><li>S è·å¾— CA é¢å‘çš„è¯ä¹¦ï¼Œå°†è¯¥è¯ä¹¦ä¼ é€’ç»™ Cã€‚</li><li>C è·å¾— S çš„è¯ä¹¦ï¼Œä¿¡ä»» CA å¹¶çŸ¥æ™“ CA å…¬é’¥ï¼Œä½¿ç”¨ CA å…¬é’¥å¯¹ S è¯ä¹¦ä¸Šçš„ç­¾åè§£å¯†ï¼ŒåŒæ—¶å¯¹æ¶ˆæ¯è¿›è¡Œæ•£åˆ—å¤„ç†ï¼Œå¾—åˆ°æ‘˜è¦ã€‚æ¯”è¾ƒæ‘˜è¦ï¼ŒéªŒè¯ S è¯ä¹¦çš„çœŸå®æ€§ã€‚</li><li>å¦‚æœ C éªŒè¯ S è¯ä¹¦æ˜¯çœŸå®çš„ï¼Œåˆ™ä¿¡ä»» S çš„å…¬é’¥ï¼ˆåœ¨ S è¯ä¹¦ä¸­ï¼‰ã€‚</li></ol><figure><img src="'+R+'" alt="image-20220622195221158" tabindex="0" loading="lazy"><figcaption>image-20220622195221158</figcaption></figure>',126),st={href:"https://www.bilibili.com/video/BV18N411X7ty/",target:"_blank",rel:"noopener noreferrer"},rt=n('<p>è¡¥å……ï¼šéƒ¨åˆ†å†…å®¹èŠ‚é€‰è‡ªã€Šå›¾è§£HTTPã€‹</p><p>å…¬å¼€å¯†é’¥åŠ å¯†ä½¿ç”¨ä¸€å¯¹éå¯¹ç§°çš„å¯†é’¥ã€‚ä¸€æŠŠå«åšç§æœ‰å¯†é’¥ï¼ˆprivatekeyï¼‰ï¼Œå¦ä¸€æŠŠå«åšå…¬å¼€å¯†é’¥ï¼ˆpublic keyï¼‰ã€‚é¡¾åæ€ä¹‰ï¼Œç§æœ‰å¯†é’¥ä¸èƒ½è®©å…¶ä»–ä»»ä½•äººçŸ¥é“ï¼Œè€Œå…¬å¼€å¯†é’¥åˆ™å¯ä»¥éšæ„å‘å¸ƒï¼Œä»»ä½•äººéƒ½å¯ä»¥è·å¾—ã€‚</p><p>ä½¿ç”¨å…¬å¼€å¯†é’¥åŠ å¯†æ–¹å¼ï¼Œå‘é€å¯†æ–‡çš„ä¸€æ–¹ä½¿ç”¨å¯¹æ–¹çš„å…¬å¼€å¯†é’¥è¿›è¡ŒåŠ å¯†å¤„ç†ï¼Œå¯¹æ–¹æ”¶åˆ°è¢«åŠ å¯†çš„ä¿¡æ¯åï¼Œå†ä½¿ç”¨è‡ªå·±çš„ç§æœ‰å¯†é’¥è¿›è¡Œè§£å¯†ã€‚åˆ©ç”¨è¿™ç§æ–¹å¼ï¼Œä¸éœ€è¦å‘é€ç”¨æ¥è§£å¯†çš„ç§æœ‰å¯†é’¥ï¼Œä¹Ÿä¸å¿…æ‹…å¿ƒå¯†é’¥è¢«æ”»å‡»è€…çªƒå¬è€Œç›—èµ°ã€‚</p><figure><img src="'+z+'" alt="image-20220725121250347" tabindex="0" loading="lazy"><figcaption>image-20220725121250347</figcaption></figure><p>ä¸ºäº†è§£å†³ä¸Šè¿°é—®é¢˜ï¼Œå¯ä»¥ä½¿ç”¨ç”±**æ•°å­—è¯ä¹¦è®¤è¯æœºæ„ï¼ˆCAï¼ŒCertificateAuthorityï¼‰**å’Œå…¶ç›¸å…³æœºå…³é¢å‘çš„å…¬å¼€å¯†é’¥è¯ä¹¦ã€‚æ•°å­—è¯ä¹¦è®¤è¯æœºæ„å¤„äºå®¢æˆ·ç«¯ä¸æœåŠ¡å™¨åŒæ–¹éƒ½å¯ä¿¡èµ–çš„ç¬¬ä¸‰æ–¹æœºæ„çš„ç«‹åœºä¸Šã€‚å¨ç‘ä¿¡ï¼ˆVeriSignï¼‰å°±æ˜¯å…¶ä¸­ä¸€å®¶éå¸¸æœ‰åçš„æ•°å­—è¯ä¹¦è®¤è¯æœºæ„ã€‚æ•°å­—è¯ä¹¦è®¤è¯æœºæ„åœ¨åˆ¤æ˜æå‡ºç”³è¯·è€…çš„èº«ä»½ä¹‹åï¼Œä¼šå¯¹å·²ç”³è¯·çš„å…¬å¼€å¯†é’¥åšæ•°å­—ç­¾åï¼Œç„¶ååˆ†é…è¿™ä¸ªå·²ç­¾åçš„å…¬å¼€å¯†é’¥ï¼Œå¹¶å°†è¯¥å…¬å¼€å¯†é’¥æ”¾å…¥å…¬é’¥è¯ä¹¦åç»‘å®šåœ¨ä¸€èµ·ã€‚æœåŠ¡å™¨ä¼šå°†è¿™ä»½ç”±æ•°å­—è¯ä¹¦è®¤è¯æœºæ„é¢å‘çš„å…¬é’¥è¯ä¹¦å‘é€ç»™å®¢æˆ·ç«¯ï¼Œä»¥è¿›è¡Œå…¬å¼€å¯†é’¥åŠ å¯†æ–¹å¼é€šä¿¡ã€‚å…¬é’¥è¯ä¹¦ä¹Ÿå¯å«åšæ•°å­—è¯ä¹¦æˆ–ç›´æ¥ç§°ä¸ºè¯ä¹¦ã€‚æ¥åˆ°è¯ä¹¦çš„å®¢æˆ·ç«¯å¯ä½¿ç”¨æ•°å­—è¯ä¹¦è®¤è¯æœºæ„çš„å…¬å¼€å¯†é’¥ï¼Œå¯¹é‚£å¼ è¯ä¹¦ä¸Šçš„æ•°å­—ç­¾åè¿›è¡ŒéªŒè¯ï¼Œä¸€æ—¦éªŒè¯é€šè¿‡ï¼Œå®¢æˆ·ç«¯ä¾¿å¯æ˜ç¡®ä¸¤ä»¶äº‹ï¼š</p><ol><li>è®¤è¯æœåŠ¡å™¨çš„å…¬å¼€å¯†é’¥çš„æ˜¯çœŸå®æœ‰æ•ˆçš„æ•°å­—è¯ä¹¦è®¤è¯æœºæ„ã€‚</li><li>æœåŠ¡å™¨çš„å…¬å¼€å¯†é’¥æ˜¯å€¼å¾—ä¿¡èµ–çš„ã€‚</li></ol><figure><img src="'+F+'" alt="image-20220725121905030" tabindex="0" loading="lazy"><figcaption>image-20220725121905030</figcaption></figure>',7),pt=n('<h4 id="arq-åè®®" tabindex="-1"><a class="header-anchor" href="#arq-åè®®" aria-hidden="true">#</a> ARQ åè®®</h4><p><strong>è‡ªåŠ¨é‡ä¼ è¯·æ±‚</strong>ï¼ˆAutomatic Repeat-reQuestï¼ŒARQï¼‰æ˜¯ OSI æ¨¡å‹ä¸­æ•°æ®é“¾è·¯å±‚å’Œä¼ è¾“å±‚çš„é”™è¯¯çº æ­£åè®®ä¹‹ä¸€ã€‚å®ƒé€šè¿‡ä½¿ç”¨ç¡®è®¤å’Œè¶…æ—¶è¿™ä¸¤ä¸ªæœºåˆ¶ï¼Œåœ¨ä¸å¯é æœåŠ¡çš„åŸºç¡€ä¸Šå®ç°å¯é çš„ä¿¡æ¯ä¼ è¾“ã€‚å¦‚æœå‘é€æ–¹åœ¨å‘é€åä¸€æ®µæ—¶é—´ä¹‹å†…æ²¡æœ‰æ”¶åˆ°ç¡®è®¤å¸§ï¼Œå®ƒé€šå¸¸ä¼šé‡æ–°å‘é€ã€‚ARQ åŒ…æ‹¬åœæ­¢ç­‰å¾… ARQ åè®®å’Œè¿ç»­ ARQ åè®®ã€‚</p><h6 id="åœæ­¢ç­‰å¾…-arq-åè®®" tabindex="-1"><a class="header-anchor" href="#åœæ­¢ç­‰å¾…-arq-åè®®" aria-hidden="true">#</a> åœæ­¢ç­‰å¾… ARQ åè®®</h6><p>åœæ­¢ç­‰å¾…åè®®æ˜¯ä¸ºäº†å®ç°å¯é ä¼ è¾“çš„ï¼Œå®ƒçš„åŸºæœ¬åŸç†å°±æ˜¯æ¯å‘å®Œä¸€ä¸ªåˆ†ç»„å°±åœæ­¢å‘é€ï¼Œç­‰å¾…å¯¹æ–¹ç¡®è®¤ï¼ˆå›å¤ ACKï¼‰ã€‚å¦‚æœè¿‡äº†ä¸€æ®µæ—¶é—´ï¼ˆè¶…æ—¶æ—¶é—´åï¼‰ï¼Œè¿˜æ˜¯æ²¡æœ‰æ”¶åˆ° ACK ç¡®è®¤ï¼Œè¯´æ˜æ²¡æœ‰å‘é€æˆåŠŸï¼Œéœ€è¦é‡æ–°å‘é€ï¼Œç›´åˆ°æ”¶åˆ°ç¡®è®¤åå†å‘ä¸‹ä¸€ä¸ªåˆ†ç»„ã€‚</p><p>åœ¨åœæ­¢ç­‰å¾…åè®®ä¸­ï¼Œè‹¥æ¥æ”¶æ–¹æ”¶åˆ°é‡å¤åˆ†ç»„ï¼Œå°±ä¸¢å¼ƒè¯¥åˆ†ç»„ï¼Œä½†åŒæ—¶è¿˜è¦å‘é€ç¡®è®¤ã€‚</p><p><strong>ä¼˜ç¼ºç‚¹ï¼š</strong></p><ul><li><strong>ä¼˜ç‚¹ï¼š</strong> ç®€å•</li><li><strong>ç¼ºç‚¹ï¼š</strong> ä¿¡é“åˆ©ç”¨ç‡ä½ï¼Œç­‰å¾…æ—¶é—´é•¿</li></ul><p><strong>1) æ— å·®é”™æƒ…å†µ:</strong></p><p>å‘é€æ–¹å‘é€åˆ†ç»„, æ¥æ”¶æ–¹åœ¨è§„å®šæ—¶é—´å†…æ”¶åˆ°, å¹¶ä¸”å›å¤ç¡®è®¤. å‘é€æ–¹å†æ¬¡å‘é€ã€‚</p><p><strong>2) å‡ºç°å·®é”™æƒ…å†µï¼ˆè¶…æ—¶é‡ä¼ ï¼‰:</strong></p><p>åœæ­¢ç­‰å¾…åè®®ä¸­è¶…æ—¶é‡ä¼ æ˜¯æŒ‡åªè¦è¶…è¿‡ä¸€æ®µæ—¶é—´ä»ç„¶æ²¡æœ‰æ”¶åˆ°ç¡®è®¤ï¼Œå°±é‡ä¼ å‰é¢å‘é€è¿‡çš„åˆ†ç»„ï¼ˆè®¤ä¸ºåˆšæ‰å‘é€è¿‡çš„åˆ†ç»„ä¸¢å¤±äº†ï¼‰ã€‚å› æ­¤æ¯å‘é€å®Œä¸€ä¸ªåˆ†ç»„éœ€è¦è®¾ç½®ä¸€ä¸ªè¶…æ—¶è®¡æ—¶å™¨ï¼Œå…¶é‡ä¼ æ—¶é—´åº”æ¯”æ•°æ®åœ¨åˆ†ç»„ä¼ è¾“çš„å¹³å‡å¾€è¿”æ—¶é—´æ›´é•¿ä¸€äº›ã€‚è¿™ç§è‡ªåŠ¨é‡ä¼ æ–¹å¼å¸¸ç§°ä¸º <strong>è‡ªåŠ¨é‡ä¼ è¯·æ±‚ ARQ</strong> ã€‚å¦å¤–åœ¨åœæ­¢ç­‰å¾…åè®®ä¸­è‹¥æ”¶åˆ°é‡å¤åˆ†ç»„ï¼Œå°±ä¸¢å¼ƒè¯¥åˆ†ç»„ï¼Œä½†åŒæ—¶è¿˜è¦å‘é€ç¡®è®¤ã€‚<strong>è¿ç»­ ARQ åè®®</strong> å¯æé«˜ä¿¡é“åˆ©ç”¨ç‡ã€‚å‘é€ç»´æŒä¸€ä¸ªå‘é€çª—å£ï¼Œå‡¡ä½äºå‘é€çª—å£å†…çš„åˆ†ç»„å¯è¿ç»­å‘é€å‡ºå»ï¼Œè€Œä¸éœ€è¦ç­‰å¾…å¯¹æ–¹ç¡®è®¤ã€‚æ¥æ”¶æ–¹ä¸€èˆ¬é‡‡ç”¨ç´¯ç§¯ç¡®è®¤ï¼Œå¯¹æŒ‰åºåˆ°è¾¾çš„æœ€åä¸€ä¸ªåˆ†ç»„å‘é€ç¡®è®¤ï¼Œè¡¨æ˜åˆ°è¿™ä¸ªåˆ†ç»„ä½ç½®çš„æ‰€æœ‰åˆ†ç»„éƒ½å·²ç»æ­£ç¡®æ”¶åˆ°äº†ã€‚</p><p><strong>3) ç¡®è®¤ä¸¢å¤±å’Œç¡®è®¤è¿Ÿåˆ°</strong></p><ul><li><strong>ç¡®è®¤ä¸¢å¤±</strong> ï¼šç¡®è®¤æ¶ˆæ¯åœ¨ä¼ è¾“è¿‡ç¨‹ä¸¢å¤±ã€‚å½“ A å‘é€ M1 æ¶ˆæ¯ï¼ŒB æ”¶åˆ°åï¼ŒB å‘ A å‘é€äº†ä¸€ä¸ª M1 ç¡®è®¤æ¶ˆæ¯ï¼Œä½†å´åœ¨ä¼ è¾“è¿‡ç¨‹ä¸­ä¸¢å¤±ã€‚è€Œ A å¹¶ä¸çŸ¥é“ï¼Œåœ¨è¶…æ—¶è®¡æ—¶è¿‡åï¼ŒA é‡ä¼  M1 æ¶ˆæ¯ï¼ŒB å†æ¬¡æ”¶åˆ°è¯¥æ¶ˆæ¯åé‡‡å–ä»¥ä¸‹ä¸¤ç‚¹æªæ–½ï¼š1. ä¸¢å¼ƒè¿™ä¸ªé‡å¤çš„ M1 æ¶ˆæ¯ï¼Œä¸å‘ä¸Šå±‚äº¤ä»˜ã€‚ 2. å‘ A å‘é€ç¡®è®¤æ¶ˆæ¯ã€‚ï¼ˆä¸ä¼šè®¤ä¸ºå·²ç»å‘é€è¿‡äº†ï¼Œå°±ä¸å†å‘é€ã€‚A èƒ½é‡ä¼ ï¼Œå°±è¯æ˜ B çš„ç¡®è®¤æ¶ˆæ¯ä¸¢å¤±ï¼‰ã€‚</li><li><strong>ç¡®è®¤è¿Ÿåˆ°</strong> ï¼šç¡®è®¤æ¶ˆæ¯åœ¨ä¼ è¾“è¿‡ç¨‹ä¸­è¿Ÿåˆ°ã€‚A å‘é€ M1 æ¶ˆæ¯ï¼ŒB æ”¶åˆ°å¹¶å‘é€ç¡®è®¤ã€‚åœ¨è¶…æ—¶æ—¶é—´å†…æ²¡æœ‰æ”¶åˆ°ç¡®è®¤æ¶ˆæ¯ï¼ŒA é‡ä¼  M1 æ¶ˆæ¯ï¼ŒB ä»ç„¶æ”¶åˆ°å¹¶ç»§ç»­å‘é€ç¡®è®¤æ¶ˆæ¯ï¼ˆB æ”¶åˆ°äº† 2 ä»½ M1ï¼‰ã€‚æ­¤æ—¶ A æ”¶åˆ°äº† B ç¬¬äºŒæ¬¡å‘é€çš„ç¡®è®¤æ¶ˆæ¯ã€‚æ¥ç€å‘é€å…¶ä»–æ•°æ®ã€‚è¿‡äº†ä¸€ä¼šï¼ŒA æ”¶åˆ°äº† B ç¬¬ä¸€æ¬¡å‘é€çš„å¯¹ M1 çš„ç¡®è®¤æ¶ˆæ¯ï¼ˆA ä¹Ÿæ”¶åˆ°äº† 2 ä»½ç¡®è®¤æ¶ˆæ¯ï¼‰ã€‚å¤„ç†å¦‚ä¸‹ï¼š1. A æ”¶åˆ°é‡å¤çš„ç¡®è®¤åï¼Œç›´æ¥ä¸¢å¼ƒã€‚2. B æ”¶åˆ°é‡å¤çš„ M1 åï¼Œä¹Ÿç›´æ¥ä¸¢å¼ƒé‡å¤çš„ M1ã€‚</li></ul><p><strong>è¿ç»­ ARQ åè®®</strong></p><p>è¿ç»­ ARQ åè®®å¯æé«˜ä¿¡é“åˆ©ç”¨ç‡ã€‚å‘é€æ–¹ç»´æŒä¸€ä¸ªå‘é€çª—å£ï¼Œå‡¡ä½äºå‘é€çª—å£å†…çš„åˆ†ç»„å¯ä»¥è¿ç»­å‘é€å‡ºå»ï¼Œè€Œä¸éœ€è¦ç­‰å¾…å¯¹æ–¹ç¡®è®¤ã€‚æ¥æ”¶æ–¹ä¸€èˆ¬é‡‡ç”¨ç´¯è®¡ç¡®è®¤ï¼Œå¯¹æŒ‰åºåˆ°è¾¾çš„æœ€åä¸€ä¸ªåˆ†ç»„å‘é€ç¡®è®¤ï¼Œè¡¨æ˜åˆ°è¿™ä¸ªåˆ†ç»„ä¸ºæ­¢çš„æ‰€æœ‰åˆ†ç»„éƒ½å·²ç»æ­£ç¡®æ”¶åˆ°äº†ã€‚</p><h4 id="æ»‘åŠ¨çª—å£" tabindex="-1"><a class="header-anchor" href="#æ»‘åŠ¨çª—å£" aria-hidden="true">#</a> æ»‘åŠ¨çª—å£</h4><blockquote><p>å¼•å…¥çª—å£æ¦‚å¿µçš„åŸå› </p></blockquote><p>æˆ‘ä»¬éƒ½çŸ¥é“ TCP æ˜¯æ¯å‘é€ä¸€ä¸ªæ•°æ®ï¼Œéƒ½è¦è¿›è¡Œä¸€æ¬¡ç¡®è®¤åº”ç­”ã€‚å½“ä¸Šä¸€ä¸ªæ•°æ®åŒ…æ”¶åˆ°äº†åº”ç­”äº†ï¼Œ å†å‘é€ä¸‹ä¸€ä¸ªã€‚</p><p>è¿™ä¸ªæ¨¡å¼å°±æœ‰ç‚¹åƒæˆ‘å’Œä½ é¢å¯¹é¢èŠå¤©ï¼Œä½ ä¸€å¥æˆ‘ä¸€å¥ã€‚ä½†è¿™ç§æ–¹å¼çš„ç¼ºç‚¹æ˜¯æ•ˆç‡æ¯”è¾ƒä½çš„ã€‚</p><p>å¦‚æœä½ è¯´å®Œä¸€å¥è¯ï¼Œæˆ‘åœ¨å¤„ç†å…¶ä»–äº‹æƒ…ï¼Œæ²¡æœ‰åŠæ—¶å›å¤ä½ ï¼Œé‚£ä½ ä¸æ˜¯è¦å¹²ç­‰ç€æˆ‘åšå®Œå…¶ä»–äº‹æƒ…åï¼Œæˆ‘å›å¤ä½ ï¼Œä½ æ‰èƒ½è¯´ä¸‹ä¸€å¥è¯ï¼Œå¾ˆæ˜¾ç„¶è¿™ä¸ç°å®ã€‚</p><figure><img src="'+W+'" alt="æŒ‰æ•°æ®åŒ…è¿›è¡Œç¡®è®¤åº”ç­”" tabindex="0" loading="lazy"><figcaption>æŒ‰æ•°æ®åŒ…è¿›è¡Œç¡®è®¤åº”ç­”</figcaption></figure><p>æ‰€ä»¥ï¼Œè¿™æ ·çš„ä¼ è¾“æ–¹å¼æœ‰ä¸€ä¸ªç¼ºç‚¹ï¼šæ•°æ®åŒ…çš„<strong>å¾€è¿”æ—¶é—´è¶Šé•¿ï¼Œé€šä¿¡çš„æ•ˆç‡å°±è¶Šä½</strong>ã€‚</p><p>ä¸ºè§£å†³è¿™ä¸ªé—®é¢˜ï¼ŒTCP å¼•å…¥äº†<strong>çª—å£</strong>è¿™ä¸ªæ¦‚å¿µã€‚å³ä½¿åœ¨å¾€è¿”æ—¶é—´è¾ƒé•¿çš„æƒ…å†µä¸‹ï¼Œå®ƒä¹Ÿä¸ä¼šé™ä½ç½‘ç»œé€šä¿¡çš„æ•ˆç‡ã€‚</p><p>é‚£ä¹ˆæœ‰äº†çª—å£ï¼Œå°±å¯ä»¥æŒ‡å®šçª—å£å¤§å°ï¼Œçª—å£å¤§å°å°±æ˜¯æŒ‡<strong>æ— éœ€ç­‰å¾…ç¡®è®¤åº”ç­”ï¼Œè€Œå¯ä»¥ç»§ç»­å‘é€æ•°æ®çš„æœ€å¤§å€¼</strong>ã€‚</p><p>çª—å£çš„å®ç°å®é™…ä¸Šæ˜¯æ“ä½œç³»ç»Ÿå¼€è¾Ÿçš„ä¸€ä¸ªç¼“å­˜ç©ºé—´ï¼Œå‘é€æ–¹ä¸»æœºåœ¨ç­‰åˆ°ç¡®è®¤åº”ç­”è¿”å›ä¹‹å‰ï¼Œå¿…é¡»åœ¨ç¼“å†²åŒºä¸­ä¿ç•™å·²å‘é€çš„æ•°æ®ã€‚å¦‚æœæŒ‰æœŸæ”¶åˆ°ç¡®è®¤åº”ç­”ï¼Œæ­¤æ—¶æ•°æ®å°±å¯ä»¥ä»ç¼“å­˜åŒºæ¸…é™¤ã€‚</p><p>å‡è®¾çª—å£å¤§å°ä¸º <code>3</code> ä¸ª TCP æ®µï¼Œé‚£ä¹ˆå‘é€æ–¹å°±å¯ä»¥ã€Œè¿ç»­å‘é€ã€ <code>3</code> ä¸ª TCP æ®µï¼Œå¹¶ä¸”ä¸­é€”è‹¥æœ‰ ACK ä¸¢å¤±ï¼Œå¯ä»¥é€šè¿‡ã€Œä¸‹ä¸€ä¸ªç¡®è®¤åº”ç­”è¿›è¡Œç¡®è®¤ã€ã€‚å¦‚ä¸‹å›¾ï¼š</p><figure><img src="'+X+'" alt="ç”¨æ»‘åŠ¨çª—å£æ–¹å¼å¹¶è¡Œå¤„ç†" tabindex="0" loading="lazy"><figcaption>ç”¨æ»‘åŠ¨çª—å£æ–¹å¼å¹¶è¡Œå¤„ç†</figcaption></figure><p>å›¾ä¸­çš„ ACK 600 ç¡®è®¤åº”ç­”æŠ¥æ–‡ä¸¢å¤±ï¼Œä¹Ÿæ²¡å…³ç³»ï¼Œå› ä¸ºå¯ä»¥é€šè¿‡ä¸‹ä¸€ä¸ªç¡®è®¤åº”ç­”è¿›è¡Œç¡®è®¤ï¼Œåªè¦å‘é€æ–¹æ”¶åˆ°äº† ACK 700 ç¡®è®¤åº”ç­”ï¼Œå°±æ„å‘³ç€ 700 ä¹‹å‰çš„æ‰€æœ‰æ•°æ®ã€Œæ¥æ”¶æ–¹ã€éƒ½æ”¶åˆ°äº†ã€‚è¿™ä¸ªæ¨¡å¼å°±å«<strong>ç´¯è®¡ç¡®è®¤</strong>æˆ–è€…<strong>ç´¯è®¡åº”ç­”</strong>ã€‚</p><blockquote><p>çª—å£å¤§å°ç”±å“ªä¸€æ–¹å†³å®šï¼Ÿ</p></blockquote><p>TCP å¤´é‡Œæœ‰ä¸€ä¸ªå­—æ®µå« <code>Window</code>ï¼Œä¹Ÿå°±æ˜¯çª—å£å¤§å°ã€‚</p><p><strong>è¿™ä¸ªå­—æ®µæ˜¯æ¥æ”¶ç«¯å‘Šè¯‰å‘é€ç«¯è‡ªå·±è¿˜æœ‰å¤šå°‘ç¼“å†²åŒºå¯ä»¥æ¥æ”¶æ•°æ®ã€‚äºæ˜¯å‘é€ç«¯å°±å¯ä»¥æ ¹æ®è¿™ä¸ªæ¥æ”¶ç«¯çš„å¤„ç†èƒ½åŠ›æ¥å‘é€æ•°æ®ï¼Œè€Œä¸ä¼šå¯¼è‡´æ¥æ”¶ç«¯å¤„ç†ä¸è¿‡æ¥ã€‚</strong></p><p>æ‰€ä»¥ï¼Œé€šå¸¸çª—å£çš„å¤§å°æ˜¯ç”±æ¥æ”¶æ–¹çš„çª—å£å¤§å°æ¥å†³å®šçš„ã€‚</p><p>å‘é€æ–¹å‘é€çš„æ•°æ®å¤§å°ä¸èƒ½è¶…è¿‡æ¥æ”¶æ–¹çš„çª—å£å¤§å°ï¼Œå¦åˆ™æ¥æ”¶æ–¹å°±æ— æ³•æ­£å¸¸æ¥æ”¶åˆ°æ•°æ®ã€‚</p><blockquote><p>å‘é€æ–¹çš„æ»‘åŠ¨çª—å£</p></blockquote><p>æˆ‘ä»¬å…ˆæ¥çœ‹çœ‹å‘é€æ–¹çš„çª—å£ï¼Œä¸‹å›¾å°±æ˜¯å‘é€æ–¹ç¼“å­˜çš„æ•°æ®ï¼Œæ ¹æ®å¤„ç†çš„æƒ…å†µåˆ†æˆå››ä¸ªéƒ¨åˆ†ï¼Œå…¶ä¸­æ·±è“è‰²æ–¹æ¡†æ˜¯å‘é€çª—å£ï¼Œç´«è‰²æ–¹æ¡†æ˜¯å¯ç”¨çª—å£ï¼š</p><figure><img src="'+K+'" alt="img" tabindex="0" loading="lazy"><figcaption>img</figcaption></figure><ul><li>#1 æ˜¯å·²å‘é€å¹¶æ”¶åˆ° ACKç¡®è®¤çš„æ•°æ®ï¼š1~31 å­—èŠ‚</li><li>#2 æ˜¯å·²å‘é€ä½†æœªæ”¶åˆ° ACKç¡®è®¤çš„æ•°æ®ï¼š32~45 å­—èŠ‚</li><li>#3 æ˜¯æœªå‘é€ä½†æ€»å¤§å°åœ¨æ¥æ”¶æ–¹å¤„ç†èŒƒå›´å†…ï¼ˆæ¥æ”¶æ–¹è¿˜æœ‰ç©ºé—´ï¼‰ï¼š46~51å­—èŠ‚</li><li>#4 æ˜¯æœªå‘é€ä½†æ€»å¤§å°è¶…è¿‡æ¥æ”¶æ–¹å¤„ç†èŒƒå›´ï¼ˆæ¥æ”¶æ–¹æ²¡æœ‰ç©ºé—´ï¼‰ï¼š52å­—èŠ‚ä»¥å</li></ul><p>åœ¨ä¸‹å›¾ï¼Œå½“å‘é€æ–¹æŠŠæ•°æ®ã€Œå…¨éƒ¨ã€éƒ½ä¸€ä¸‹å‘é€å‡ºå»åï¼Œå¯ç”¨çª—å£çš„å¤§å°å°±ä¸º 0 äº†ï¼Œè¡¨æ˜å¯ç”¨çª—å£è€—å°½ï¼Œåœ¨æ²¡æ”¶åˆ° ACK ç¡®è®¤ä¹‹å‰æ˜¯æ— æ³•ç»§ç»­å‘é€æ•°æ®äº†ã€‚</p><figure><img src="'+Q+'" alt="å¯ç”¨çª—å£è€—å°½" tabindex="0" loading="lazy"><figcaption>å¯ç”¨çª—å£è€—å°½</figcaption></figure><p>åœ¨ä¸‹å›¾ï¼Œå½“æ”¶åˆ°ä¹‹å‰å‘é€çš„æ•°æ® <code>32~36</code> å­—èŠ‚çš„ ACK ç¡®è®¤åº”ç­”åï¼Œå¦‚æœå‘é€çª—å£çš„å¤§å°æ²¡æœ‰å˜åŒ–ï¼Œåˆ™<strong>æ»‘åŠ¨çª—å£å¾€å³è¾¹ç§»åŠ¨ 5 ä¸ªå­—èŠ‚ï¼Œå› ä¸ºæœ‰ 5 ä¸ªå­—èŠ‚çš„æ•°æ®è¢«åº”ç­”ç¡®è®¤</strong>ï¼Œæ¥ä¸‹æ¥ <code>52~56</code> å­—èŠ‚åˆå˜æˆäº†å¯ç”¨çª—å£ï¼Œé‚£ä¹ˆåç»­ä¹Ÿå°±å¯ä»¥å‘é€ <code>52~56</code> è¿™ 5 ä¸ªå­—èŠ‚çš„æ•°æ®äº†ã€‚</p><figure><img src="'+V+'" alt="32 ~ 36 å­—èŠ‚å·²ç¡®è®¤" tabindex="0" loading="lazy"><figcaption>32 ~ 36 å­—èŠ‚å·²ç¡®è®¤</figcaption></figure><blockquote><p>ç¨‹åºæ˜¯å¦‚ä½•è¡¨ç¤ºå‘é€æ–¹çš„å››ä¸ªéƒ¨åˆ†çš„å‘¢ï¼Ÿ</p></blockquote><p>TCP æ»‘åŠ¨çª—å£æ–¹æ¡ˆä½¿ç”¨ä¸‰ä¸ªæŒ‡é’ˆæ¥è·Ÿè¸ªåœ¨å››ä¸ªä¼ è¾“ç±»åˆ«ä¸­çš„æ¯ä¸€ä¸ªç±»åˆ«ä¸­çš„å­—èŠ‚ã€‚å…¶ä¸­ä¸¤ä¸ªæŒ‡é’ˆæ˜¯ç»å¯¹æŒ‡é’ˆï¼ˆæŒ‡ç‰¹å®šçš„åºåˆ—å·ï¼‰ï¼Œä¸€ä¸ªæ˜¯ç›¸å¯¹æŒ‡é’ˆï¼ˆéœ€è¦åšåç§»ï¼‰ã€‚</p><figure><img src="'+Y+'" alt="SND.WNDã€SND.UNã€SND.NXT" tabindex="0" loading="lazy"><figcaption>SND.WNDã€SND.UNã€SND.NXT</figcaption></figure><ul><li><code>SND.WND</code>ï¼šè¡¨ç¤ºå‘é€çª—å£çš„å¤§å°ï¼ˆå¤§å°æ˜¯ç”±æ¥æ”¶æ–¹æŒ‡å®šçš„ï¼‰ï¼›</li><li><code>SND.UNA</code>ï¼ˆ<em>Send Unacknoleged</em>ï¼‰ï¼šæ˜¯ä¸€ä¸ªç»å¯¹æŒ‡é’ˆï¼Œå®ƒæŒ‡å‘çš„æ˜¯å·²å‘é€ä½†æœªæ”¶åˆ°ç¡®è®¤çš„ç¬¬ä¸€ä¸ªå­—èŠ‚çš„åºåˆ—å·ï¼Œä¹Ÿå°±æ˜¯ #2 çš„ç¬¬ä¸€ä¸ªå­—èŠ‚ã€‚</li><li><code>SND.NXT</code>ï¼šä¹Ÿæ˜¯ä¸€ä¸ªç»å¯¹æŒ‡é’ˆï¼Œå®ƒæŒ‡å‘æœªå‘é€ä½†å¯å‘é€èŒƒå›´çš„ç¬¬ä¸€ä¸ªå­—èŠ‚çš„åºåˆ—å·ï¼Œä¹Ÿå°±æ˜¯ #3 çš„ç¬¬ä¸€ä¸ªå­—èŠ‚ã€‚</li><li>æŒ‡å‘ #4 çš„ç¬¬ä¸€ä¸ªå­—èŠ‚æ˜¯ä¸ªç›¸å¯¹æŒ‡é’ˆï¼Œå®ƒéœ€è¦ <code>SND.UNA</code> æŒ‡é’ˆåŠ ä¸Š <code>SND.WND</code> å¤§å°çš„åç§»é‡ï¼Œå°±å¯ä»¥æŒ‡å‘ #4 çš„ç¬¬ä¸€ä¸ªå­—èŠ‚äº†ã€‚</li></ul><p>é‚£ä¹ˆå¯ç”¨çª—å£å¤§å°çš„è®¡ç®—å°±å¯ä»¥æ˜¯ï¼š</p><p><strong>å¯ç”¨çª—å£å¤§ = SND.WND -ï¼ˆSND.NXT - SND.UNAï¼‰</strong></p><blockquote><p>æ¥æ”¶æ–¹çš„æ»‘åŠ¨çª—å£</p></blockquote><p>æ¥ä¸‹æ¥æˆ‘ä»¬çœ‹çœ‹æ¥æ”¶æ–¹çš„çª—å£ï¼Œæ¥æ”¶çª—å£ç›¸å¯¹ç®€å•ä¸€äº›ï¼Œæ ¹æ®å¤„ç†çš„æƒ…å†µåˆ’åˆ†æˆä¸‰ä¸ªéƒ¨åˆ†ï¼š</p><ul><li>#1 + #2 æ˜¯å·²æˆåŠŸæ¥æ”¶å¹¶ç¡®è®¤çš„æ•°æ®ï¼ˆç­‰å¾…åº”ç”¨è¿›ç¨‹è¯»å–ï¼‰ï¼›</li><li>#3 æ˜¯æœªæ”¶åˆ°æ•°æ®ä½†å¯ä»¥æ¥æ”¶çš„æ•°æ®ï¼›</li><li>#4 æœªæ”¶åˆ°æ•°æ®å¹¶ä¸å¯ä»¥æ¥æ”¶çš„æ•°æ®ï¼›</li></ul><figure><img src="'+j+'" alt="æ¥æ”¶çª—å£" tabindex="0" loading="lazy"><figcaption>æ¥æ”¶çª—å£</figcaption></figure><p>å…¶ä¸­ä¸‰ä¸ªæ¥æ”¶éƒ¨åˆ†ï¼Œä½¿ç”¨ä¸¤ä¸ªæŒ‡é’ˆè¿›è¡Œåˆ’åˆ†:</p><ul><li><code>RCV.WND</code>ï¼šè¡¨ç¤ºæ¥æ”¶çª—å£çš„å¤§å°ï¼Œå®ƒä¼šé€šå‘Šç»™å‘é€æ–¹ã€‚</li><li><code>RCV.NXT</code>ï¼šæ˜¯ä¸€ä¸ªæŒ‡é’ˆï¼Œå®ƒæŒ‡å‘æœŸæœ›ä»å‘é€æ–¹å‘é€æ¥çš„ä¸‹ä¸€ä¸ªæ•°æ®å­—èŠ‚çš„åºåˆ—å·ï¼Œä¹Ÿå°±æ˜¯ #3 çš„ç¬¬ä¸€ä¸ªå­—èŠ‚ã€‚</li><li>æŒ‡å‘ #4 çš„ç¬¬ä¸€ä¸ªå­—èŠ‚æ˜¯ä¸ªç›¸å¯¹æŒ‡é’ˆï¼Œå®ƒéœ€è¦ <code>RCV.NXT</code> æŒ‡é’ˆåŠ ä¸Š <code>RCV.WND</code> å¤§å°çš„åç§»é‡ï¼Œå°±å¯ä»¥æŒ‡å‘ #4 çš„ç¬¬ä¸€ä¸ªå­—èŠ‚äº†ã€‚</li></ul><blockquote><p>æ¥æ”¶çª—å£å’Œå‘é€çª—å£çš„å¤§å°æ˜¯ç›¸ç­‰çš„å—ï¼Ÿ</p></blockquote><p>å¹¶ä¸æ˜¯å®Œå…¨ç›¸ç­‰ï¼Œæ¥æ”¶çª—å£çš„å¤§å°æ˜¯<strong>çº¦ç­‰äº</strong>å‘é€çª—å£çš„å¤§å°çš„ã€‚</p><p>å› ä¸ºæ»‘åŠ¨çª—å£å¹¶ä¸æ˜¯ä¸€æˆä¸å˜çš„ã€‚æ¯”å¦‚ï¼Œå½“æ¥æ”¶æ–¹çš„åº”ç”¨è¿›ç¨‹è¯»å–æ•°æ®çš„é€Ÿåº¦éå¸¸å¿«çš„è¯ï¼Œè¿™æ ·çš„è¯æ¥æ”¶çª—å£å¯ä»¥å¾ˆå¿«çš„å°±ç©ºç¼ºå‡ºæ¥ã€‚é‚£ä¹ˆæ–°çš„æ¥æ”¶çª—å£å¤§å°ï¼Œæ˜¯é€šè¿‡ TCP æŠ¥æ–‡ä¸­çš„ Windows å­—æ®µæ¥å‘Šè¯‰å‘é€æ–¹ã€‚é‚£ä¹ˆè¿™ä¸ªä¼ è¾“è¿‡ç¨‹æ˜¯å­˜åœ¨æ—¶å»¶çš„ï¼Œæ‰€ä»¥æ¥æ”¶çª—å£å’Œå‘é€çª—å£æ˜¯çº¦ç­‰äºçš„å…³ç³»ã€‚</p><h4 id="ç²˜åŒ…" tabindex="-1"><a class="header-anchor" href="#ç²˜åŒ…" aria-hidden="true">#</a> ç²˜åŒ…</h4><p>åœ¨è¿›è¡Œ Java NIO å­¦ä¹ æ—¶ï¼Œå¯èƒ½ä¼šå‘ç°ï¼šå¦‚æœå®¢æˆ·ç«¯è¿ç»­ä¸æ–­çš„å‘æœåŠ¡ç«¯å‘é€æ•°æ®åŒ…æ—¶ï¼ŒæœåŠ¡ç«¯æ¥æ”¶çš„æ•°æ®ä¼šå‡ºç°ä¸¤ä¸ªæ•°æ®åŒ…ç²˜åœ¨ä¸€èµ·çš„æƒ…å†µã€‚</p><ol><li>TCP æ˜¯åŸºäºå­—èŠ‚æµçš„ï¼Œè™½ç„¶åº”ç”¨å±‚å’Œ TCP ä¼ è¾“å±‚ä¹‹é—´çš„æ•°æ®äº¤äº’æ˜¯å¤§å°ä¸ç­‰çš„æ•°æ®å—ï¼Œä½†æ˜¯ TCP æŠŠè¿™äº›æ•°æ®å—ä»…ä»…çœ‹æˆä¸€è¿ä¸²æ— ç»“æ„çš„å­—èŠ‚æµï¼Œæ²¡æœ‰è¾¹ç•Œ</li><li>ä» TCP çš„å¸§ç»“æ„ä¹Ÿå¯ä»¥çœ‹å‡ºï¼Œåœ¨ TCP çš„é¦–éƒ¨æ²¡æœ‰è¡¨ç¤ºæ•°æ®é•¿åº¦çš„å­—æ®µã€‚</li></ol><p>åŸºäºä¸Šé¢ä¸¤ç‚¹ï¼Œåœ¨ä½¿ç”¨ TCP ä¼ è¾“æ•°æ®æ—¶ï¼Œæ‰æœ‰ç²˜åŒ…æˆ–è€…æ‹†åŒ…ç°è±¡å‘ç”Ÿçš„å¯èƒ½ã€‚ä¸€ä¸ªæ•°æ®åŒ…ä¸­åŒ…å«äº†å‘é€ç«¯å‘é€çš„ä¸¤ä¸ªæ•°æ®åŒ…çš„ä¿¡æ¯ï¼Œè¿™ç§ç°è±¡å³ä¸ºç²˜åŒ…ã€‚</p><p>æ¥æ”¶ç«¯æ”¶åˆ°äº†ä¸¤ä¸ªæ•°æ®åŒ…ï¼Œä½†æ˜¯è¿™ä¸¤ä¸ªæ•°æ®åŒ…è¦ä¹ˆæ˜¯ä¸å®Œæ•´çš„ï¼Œè¦ä¹ˆå°±æ˜¯å¤šå‡ºæ¥ä¸€å—ï¼Œè¿™ç§æƒ…å†µå³å‘ç”Ÿäº†æ‹†åŒ…å’Œç²˜åŒ…ã€‚æ‹†åŒ…å’Œç²˜åŒ…çš„é—®é¢˜å¯¼è‡´æ¥æ”¶ç«¯åœ¨å¤„ç†çš„æ—¶å€™ä¼šéå¸¸å›°éš¾ï¼Œå› ä¸ºæ— æ³•åŒºåˆ†ä¸€ä¸ªå®Œæ•´çš„æ•°æ®åŒ…ã€‚</p><ul><li><strong>å‘é€æ–¹äº§ç”Ÿç²˜åŒ…</strong></li></ul><p>é‡‡ç”¨ TCP åè®®ä¼ è¾“æ•°æ®çš„å®¢æˆ·ç«¯ä¸æœåŠ¡å™¨ç»å¸¸æ˜¯ä¿æŒä¸€ä¸ªé•¿è¿æ¥çš„çŠ¶æ€ï¼ˆä¸€æ¬¡è¿æ¥å‘ä¸€æ¬¡æ•°æ®ä¸å­˜åœ¨ç²˜åŒ…ï¼‰ï¼ŒåŒæ–¹åœ¨è¿æ¥ä¸æ–­å¼€çš„æƒ…å†µä¸‹ï¼Œå¯ä»¥ä¸€ç›´ä¼ è¾“æ•°æ®ã€‚ä½†å½“å‘é€çš„æ•°æ®åŒ…è¿‡äºçš„å°æ—¶ï¼Œé‚£ä¹ˆ TCP åè®®é»˜è®¤çš„ä¼šå¯ç”¨ Nagle ç®—æ³•ï¼Œå°†è¿™äº›è¾ƒå°çš„æ•°æ®åŒ…è¿›è¡Œåˆå¹¶å‘é€ï¼ˆç¼“å†²åŒºæ•°æ®å‘é€æ˜¯ä¸€ä¸ªå †å‹çš„è¿‡ç¨‹ï¼‰ï¼›è¿™ä¸ªåˆå¹¶è¿‡ç¨‹å°±æ˜¯åœ¨å‘é€ç¼“å†²åŒºä¸­è¿›è¡Œçš„ï¼Œä¹Ÿå°±æ˜¯è¯´æ•°æ®å‘é€å‡ºæ¥å®ƒå·²ç»æ˜¯ç²˜åŒ…çš„çŠ¶æ€äº†ã€‚</p><ul><li><strong>æ¥æ”¶æ–¹äº§ç”Ÿç²˜åŒ…</strong></li></ul><p>æ¥æ”¶æ–¹é‡‡ç”¨ TCP åè®®æ¥æ”¶æ•°æ®æ—¶çš„è¿‡ç¨‹æ˜¯è¿™æ ·çš„ï¼šæ•°æ®åˆ°æ¥æ”¶æ–¹ï¼Œä»ç½‘ç»œæ¨¡å‹çš„ä¸‹æ–¹ä¼ é€’è‡³ä¼ è¾“å±‚ï¼Œä¼ è¾“å±‚çš„ TCP åè®®å¤„ç†æ˜¯å°†å…¶æ”¾ç½®æ¥æ”¶ç¼“å†²åŒºï¼Œç„¶åç”±åº”ç”¨å±‚æ¥ä¸»åŠ¨è·å–ï¼ˆC è¯­è¨€ç”¨ recvã€read ç­‰å‡½æ•°ï¼‰ï¼›è¿™æ—¶ä¼šå‡ºç°ä¸€ä¸ªé—®é¢˜ï¼Œå°±æ˜¯æˆ‘ä»¬åœ¨ç¨‹åºä¸­è°ƒç”¨çš„è¯»å–æ•°æ®å‡½æ•°ä¸èƒ½åŠæ—¶çš„æŠŠç¼“å†²åŒºä¸­çš„æ•°æ®æ‹¿å‡ºæ¥ï¼Œè€Œä¸‹ä¸€ä¸ªæ•°æ®åˆåˆ°æ¥å¹¶æœ‰ä¸€éƒ¨åˆ†æ”¾å…¥çš„ç¼“å†²åŒºæœ«å°¾ï¼Œç­‰æˆ‘ä»¬è¯»å–æ•°æ®æ—¶å°±æ˜¯ä¸€ä¸ªç²˜åŒ…ã€‚ï¼ˆæ”¾æ•°æ®çš„é€Ÿåº¦ &gt; åº”ç”¨å±‚æ‹¿æ•°æ®é€Ÿåº¦</p><h3 id="â­ï¸é”®å…¥ç½‘å€åˆ°ç½‘é¡µæ˜¾ç¤º-æœŸé—´å‘ç”Ÿäº†ä»€ä¹ˆ" tabindex="-1"><a class="header-anchor" href="#â­ï¸é”®å…¥ç½‘å€åˆ°ç½‘é¡µæ˜¾ç¤º-æœŸé—´å‘ç”Ÿäº†ä»€ä¹ˆ" aria-hidden="true">#</a> â­ï¸é”®å…¥ç½‘å€åˆ°ç½‘é¡µæ˜¾ç¤ºï¼ŒæœŸé—´å‘ç”Ÿäº†ä»€ä¹ˆï¼Ÿ</h3><figure><img src="'+Z+'" alt="img" tabindex="0" loading="lazy"><figcaption>img</figcaption></figure><blockquote><p>ä¸Šå›¾æœ‰ä¸€ä¸ªé”™è¯¯ï¼Œè¯·æ³¨æ„ï¼Œæ˜¯ OSPF ä¸æ˜¯ OPSFã€‚ OSPFï¼ˆOpen Shortest Path Firstï¼Œospfï¼‰å¼€æ”¾æœ€çŸ­è·¯å¾„ä¼˜å…ˆåè®®, æ˜¯ç”± Internet å·¥ç¨‹ä»»åŠ¡ç»„å¼€å‘çš„è·¯ç”±é€‰æ‹©åè®®</p></blockquote><p>æ€»ä½“æ¥è¯´åˆ†ä¸ºä»¥ä¸‹å‡ ä¸ªè¿‡ç¨‹:</p><ol><li>DNS è§£æ</li><li>TCP è¿æ¥</li><li>å‘é€ HTTP è¯·æ±‚</li><li>æœåŠ¡å™¨å¤„ç†è¯·æ±‚å¹¶è¿”å› HTTP æŠ¥æ–‡</li><li>æµè§ˆå™¨è§£ææ¸²æŸ“é¡µé¢</li><li>è¿æ¥ç»“æŸ</li></ol><p>å…·ä½“æ¥è¯´æ˜¯ï¼š</p><blockquote><p>ğŸ§™â€â™‚ï¸ å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œåœ¨é”®å…¥ç½‘å€åˆ°æ˜¾ç¤ºç½‘é¡µçš„è¿‡ç¨‹ä¸­ï¼Œä¸èƒ½ä»ä¸Šåˆ°ä¸‹ï¼ˆåº”ç”¨å±‚åˆ°ç‰©ç†å±‚ï¼‰çš„ç›´æ¥æ€è€ƒï¼Œå› ä¸º<strong>è§£æå®ŒDNSåé¦–å…ˆä¼šè¿›è¡Œçš„æ˜¯TCPè¿æ¥è€Œä¸æ˜¯HTTPè¿æ¥</strong>ï¼Œå› ä¸ºTCPçš„è¿æ¥æ˜¯å»ºç«‹åœ¨ä¼ è¾“å±‚ä»¥ä¸‹çš„åŸºç¡€ï¼ˆç½‘ç»œå±‚ã€æ•°æ®é“¾è·¯å±‚ã€ç‰©ç†å±‚ã€‚è¿™ä¸ªéµå®ˆäº†ä¸‹å±‚ä¸ºä¸Šå±‚æœåŠ¡çš„åŸåˆ™ï¼‰ã€‚</p></blockquote><ol><li><strong>æµè§ˆå™¨æŸ¥æ‰¾åŸŸåçš„IPåœ°å€ï¼ˆåŸŸå -&gt; DNS -&gt; IPï¼‰</strong>ï¼šè¿™è¢«ç§°ä¸º<code>DNSæŸ¥æ‰¾</code>ã€‚æµè§ˆå™¨é¦–å…ˆæ£€æŸ¥å…¶ç¼“å­˜ä¸­æ˜¯å¦æœ‰è¯¥åŸŸåçš„IPåœ°å€ï¼Œå¦‚æœæ²¡æœ‰ï¼Œå°±ä¼šå‘é€ä¸€ä¸ªè¯·æ±‚åˆ°ç³»ç»Ÿé…ç½®çš„DNSæœåŠ¡å™¨è¿›è¡ŒæŸ¥æ‰¾ã€‚DNSæœåŠ¡å™¨ä¹Ÿä¼šæ£€æŸ¥å…¶ç¼“å­˜ï¼Œå¦‚æœæ²¡æœ‰ï¼Œå®ƒä¼šè¿›è¡Œé€’å½’æˆ–è¿­ä»£æŸ¥è¯¢ä»¥è·å–IPåœ°å€ã€‚</li><li><strong>å»ºç«‹TCPè¿æ¥ï¼ˆTCPæ¡æ‰‹ã€ä¼ è¾“å±‚ã€‘ï¼‰</strong>ï¼šHTTPè¯·æ±‚åœ¨ç½‘ç»œä¸Šä¼ è¾“æ—¶ï¼Œæ˜¯åŸºäºTCP/IPåè®®çš„ã€‚åœ¨å‘é€HTTPè¯·æ±‚ä¹‹å‰ï¼Œæµè§ˆå™¨ä¼šä¸æœåŠ¡å™¨å»ºç«‹ä¸€ä¸ªTCPè¿æ¥ï¼Œè¿™é€šå¸¸æ¶‰åŠä¸€ä¸ªå«åš<code>&quot;ä¸‰æ¬¡æ¡æ‰‹&quot;</code>çš„è¿‡ç¨‹ã€‚å€¼å¾—ä¸€æçš„æ˜¯ï¼ŒPOSTè¯·æ±‚çš„è¯·æ±‚ä¸»ä½“é€šå¸¸åŒ…å«ç”¨æˆ·æäº¤çš„è¡¨å•æ•°æ®ï¼Œè€ŒGETè¯·æ±‚é€šå¸¸æ²¡æœ‰è¯·æ±‚ä¸»ä½“ã€‚ <ol><li>åœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­ï¼Œæ•°æ®åŒ…ä¼šç»å†ï¼ˆç½‘ç»œå±‚ï¼‰çš„äº¤æ¢æœº/è·¯ç”±å™¨</li><li>ç„¶åé€šè¿‡ARPå¹¿æ’­è·å–MACåœ°å€ï¼ˆæ•°æ®é“¾è·¯å±‚ï¼‰</li><li>æœ€åé€šè¿‡WIFIä¿¡å·ï¼ˆç‰©ç†å±‚ï¼‰åœ¨å‘é€ç«¯å’Œæ¥æ”¶ç«¯ä¹‹é—´ä¼ è¾“ï¼Œé™¤äº†WIFIä¿¡å·å¤–ï¼Œè¿˜å¯èƒ½æ˜¯æœ‰çº¿è¿æ¥ã€‚</li><li>åŒæ ·æœåŠ¡å™¨ä¹Ÿä¸€æ ·ï¼Œä»ç‰©ç†å±‚å†åˆ°æœåŠ¡å™¨çš„ä¼ è¾“å±‚</li></ol></li><li><strong>æµè§ˆå™¨å‘æœåŠ¡å™¨å‘é€HTTPè¯·æ±‚ï¼ˆIP -&gt; HTTPè¯·æ±‚ã€åº”ç”¨å±‚ã€‘ï¼‰</strong>ï¼šæµè§ˆå™¨<code>ä½¿ç”¨IPåœ°å€æ¥æ‰¾åˆ°æœåŠ¡å™¨</code>ï¼Œå¹¶<code>å‘é€HTTPè¯·æ±‚</code>ã€‚è¯·æ±‚åŒ…æ‹¬è¯·æ±‚è¡Œï¼ˆè¯·æ±‚ç±»å‹ï¼Œå¦‚GETã€POSTç­‰ï¼ŒURLå’ŒHTTPç‰ˆæœ¬ï¼‰ã€è¯·æ±‚å¤´éƒ¨ï¼ˆåŒ…å«è®¸å¤šå…³äºå®¢æˆ·ç«¯ä¿¡æ¯çš„å…ƒæ•°æ®ï¼‰å’Œè¯·æ±‚ä¸»ä½“ï¼ˆå¯¹äºPOSTè¯·æ±‚å¯èƒ½ä¼šæœ‰ï¼‰ã€‚HTTP/1.1é»˜è®¤ä½¿ç”¨æŒä¹…è¿æ¥ï¼ˆä¹Ÿç§°ä¸ºè¿æ¥ä¿æŒï¼‰ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼ŒTCPè¿æ¥åœ¨å‘é€å®ŒHTTPè¯·æ±‚ä¹‹åï¼Œé»˜è®¤æ˜¯ä¸ä¼šæ–­å¼€çš„ï¼Œä»¥ä¾¿ç»§ç»­å‘é€è¯·æ±‚ã€‚ä½†å¦‚æœæµè§ˆå™¨æˆ–æœåŠ¡å™¨æ˜ç¡®åœ°å‘é€äº†ä¸€ä¸ª&quot;Connection: close&quot;å¤´ï¼Œé‚£ä¹ˆTCPè¿æ¥å°†åœ¨æ•°æ®ä¼ è¾“å®Œåè¢«å…³é—­ã€‚ç°ä»£çš„Webåº”ç”¨æ™®éé‡‡ç”¨HTTPSåè®®ï¼Œè¿™éœ€è¦åœ¨TCPæ¡æ‰‹åæ‰§è¡ŒSSL/TLSæ¡æ‰‹è¿‡ç¨‹ï¼Œè¿›è¡Œè¯ä¹¦éªŒè¯å’Œå¯†é’¥äº¤æ¢ï¼Œä»¥ä¿è¯æ•°æ®çš„åŠ å¯†ä¼ è¾“ã€‚</li><li><strong>æœåŠ¡å™¨å¤„ç†è¯·æ±‚å¹¶è¿”å›HTTPå“åº”</strong>ï¼šæœåŠ¡å™¨æ¥æ”¶åˆ°HTTPè¯·æ±‚åï¼Œä¼šè¿›è¡Œå¤„ç†ï¼ˆä¾‹å¦‚ï¼ŒæŸ¥æ‰¾è¯·æ±‚çš„èµ„æºï¼‰ï¼Œç„¶åè¿”å›ä¸€ä¸ª<code>HTTPå“åº”</code>ã€‚å“åº”åŒ…æ‹¬ä¸€ä¸ª<code>çŠ¶æ€ç </code>ï¼ˆå¦‚200è¡¨ç¤ºæˆåŠŸï¼Œ404è¡¨ç¤ºæœªæ‰¾åˆ°ï¼‰ï¼Œå“åº”å¤´éƒ¨å’Œå“åº”ä¸»ä½“ï¼ˆé€šå¸¸æ˜¯è¯·æ±‚çš„èµ„æºï¼Œå¦‚HTMLæ–‡ä»¶ï¼‰ã€‚</li><li><strong>TCPè¿æ¥ç»ˆæ­¢ï¼ˆHTTPå“åº”ã€åº”ç”¨å±‚ã€‘ -&gt; TCPæŒ¥æ‰‹ã€ä¼ è¾“å±‚ã€‘ï¼‰</strong>ï¼šæ•°æ®ä¼ è¾“å®Œæˆåï¼ŒTCPè¿æ¥å°†è¢«ç»ˆæ­¢ï¼Œé€šå¸¸æ˜¯é€šè¿‡ä¸€ä¸ªå«åš<code>&quot;å››æ¬¡æŒ¥æ‰‹&quot;</code>çš„è¿‡ç¨‹ã€‚</li><li><strong>æµè§ˆå™¨è§£æHTMLå¹¶æ¸²æŸ“é¡µé¢</strong>ï¼šæµè§ˆå™¨æ”¶åˆ°æœåŠ¡å™¨çš„å“åº”åï¼Œä¼šè§£æHTMLä»£ç ï¼Œå¹¶æ„å»ºä¸€ä¸ªDOMæ ‘ã€‚åœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­ï¼Œæµè§ˆå™¨å¯èƒ½è¿˜éœ€è¦è¯·æ±‚å…¶ä»–èµ„æºï¼Œä¾‹å¦‚CSSæ–‡ä»¶ã€JavaScriptæ–‡ä»¶ã€å›¾ç‰‡ç­‰ã€‚å½“æ‰€æœ‰çš„èµ„æºéƒ½åŠ è½½å®Œæˆåï¼Œæµè§ˆå™¨ä¼šæ ¹æ®CSSè§„åˆ™å¯¹é¡µé¢è¿›è¡Œæ¸²æŸ“ï¼Œç„¶åæ˜¾ç¤ºç»™ç”¨æˆ·ã€‚</li></ol><blockquote><p>æœ€è¿‘çœ‹é¢è¯•é¢˜è¦æ±‚è¯´çš„è¶Šè¯¦ç»†è¶Šå¥½å‘ç°è¶Šæ¥è¶Šå·ï¼Œæ‰€ä»¥åŠ å…¥äº†è¯¦ç»†å†…å®¹ï¼Œä¸‹é¢æ˜¯æˆ‘åˆ—å‡ºæ¥çš„å¤§çº²ï¼Œæ–¹ä¾¿å¿«é€ŸæŸ¥è¯¢ï¼š</p><ul><li><strong>HTTP</strong>ï¼šHTTPæ˜¯åº”ç”¨å±‚çš„åè®®ï¼Œå®ƒå®šä¹‰äº†æµè§ˆå™¨å’ŒæœåŠ¡å™¨ä¹‹é—´å¦‚ä½•äº¤æ¢æ•°æ®çš„è§„åˆ™ã€‚å½“ä½ åœ¨æµè§ˆå™¨ä¸­é”®å…¥ç½‘å€å¹¶æŒ‰ä¸‹Enteråï¼Œæµè§ˆå™¨ä¼šåˆ›å»ºä¸€ä¸ªHTTPè¯·æ±‚ï¼Œå¹¶å°†å…¶å‘é€ç»™æœåŠ¡å™¨ã€‚</li><li><strong>DNS</strong>ï¼šä¸ºäº†å‘é€HTTPè¯·æ±‚ï¼Œæµè§ˆå™¨éœ€è¦çŸ¥é“æœåŠ¡å™¨çš„IPåœ°å€ã€‚è¿™å°±éœ€è¦è¿›è¡ŒDNSæŸ¥æ‰¾ã€‚æµè§ˆå™¨ä¼šæ£€æŸ¥è‡ªå·±çš„ç¼“å­˜ï¼Œå¦‚æœæ²¡æœ‰æ‰¾åˆ°ç›¸å…³ä¿¡æ¯ï¼Œå°±ä¼šæŸ¥è¯¢ç³»ç»Ÿé…ç½®çš„DNSæœåŠ¡å™¨ã€‚</li><li><strong>åè®®æ ˆ</strong>ï¼šåè®®æ ˆæ˜¯ä¸€ç§ç”¨äºå®ç°ç½‘ç»œåè®®çš„è½¯ä»¶ç»“æ„ã€‚åœ¨ä½ çš„è®¾å¤‡ä¸­ï¼Œåè®®æ ˆä¼šå¤„ç†ä¸ç½‘ç»œé€šä¿¡ç›¸å…³çš„æ‰€æœ‰ä»»åŠ¡ï¼ŒåŒ…æ‹¬æ•°æ®åŒ…çš„å‘é€å’Œæ¥æ”¶ã€‚</li><li><strong>TCP</strong>ï¼šHTTPè¯·æ±‚é€šå¸¸ä½¿ç”¨TCPåè®®è¿›è¡Œä¼ è¾“ï¼Œè¿™éœ€è¦åœ¨æµè§ˆå™¨å’ŒæœåŠ¡å™¨ä¹‹é—´å»ºç«‹ä¸€ä¸ªTCPè¿æ¥ã€‚TCPåè®®ä¼šé€šè¿‡&quot;ä¸‰æ¬¡æ¡æ‰‹&quot;çš„è¿‡ç¨‹ç¡®ä¿è¿æ¥çš„å»ºç«‹ã€‚</li><li><strong>IP</strong>ï¼šIPæ˜¯ä¸€ä¸ªç”¨äºåœ¨ç½‘ç»œä¸­æ ‡è¯†å’Œå®šä½è®¾å¤‡çš„åè®®ã€‚HTTPè¯·æ±‚è¢«åˆ†æˆå¤šä¸ªæ•°æ®åŒ…è¿›è¡Œä¼ è¾“ï¼Œæ¯ä¸ªæ•°æ®åŒ…éƒ½åŒ…å«äº†æºIPåœ°å€ï¼ˆä½ çš„è®¾å¤‡ï¼‰å’Œç›®æ ‡IPåœ°å€ï¼ˆæœåŠ¡å™¨ï¼‰ã€‚</li><li><strong>MAC</strong>ï¼šMACåœ°å€æ˜¯ç½‘ç»œæ¥å£æ§åˆ¶å™¨ï¼ˆç½‘å¡ï¼‰çš„å”¯ä¸€æ ‡è¯†ç¬¦ã€‚åœ¨æœ¬åœ°ç½‘ç»œä¸­ï¼Œæ•°æ®åŒ…æ˜¯é€šè¿‡MACåœ°å€è¿›è¡Œè·¯ç”±çš„ã€‚</li><li><strong>ç½‘å¡</strong>ï¼šç½‘å¡æ˜¯ä¸€ç§ç¡¬ä»¶è®¾å¤‡ï¼Œå®ƒå…è®¸è®¡ç®—æœºè¿æ¥å¹¶é€šä¿¡åˆ°ç½‘ç»œã€‚å½“æ•°æ®åŒ…å‡†å¤‡å¥½è¢«å‘é€æ—¶ï¼Œå®ƒä»¬ä¼šè¢«ä¼ é€’ç»™ç½‘å¡ï¼Œç„¶åç”±ç½‘å¡å‘é€åˆ°ç½‘ç»œã€‚</li><li><strong>äº¤æ¢å™¨</strong>ï¼šäº¤æ¢å™¨æ˜¯ä¸€ç§ç½‘ç»œè®¾å¤‡ï¼Œå®ƒç”¨äºè¿æ¥ç½‘ç»œä¸­çš„è®¾å¤‡ï¼Œå¹¶æ ¹æ®æ•°æ®åŒ…çš„MACåœ°å€å°†å…¶è½¬å‘åˆ°æ­£ç¡®çš„è®¾å¤‡ã€‚</li><li><strong>è·¯ç”±å™¨</strong>ï¼šè·¯ç”±å™¨æ˜¯ä¸€ç§ç½‘ç»œè®¾å¤‡ï¼Œå®ƒå¯ä»¥å°†æ•°æ®åŒ…ä»ä¸€ä¸ªç½‘ç»œè½¬å‘åˆ°å¦ä¸€ä¸ªç½‘ç»œã€‚åœ¨å‘é€HTTPè¯·æ±‚çš„è¿‡ç¨‹ä¸­ï¼Œæ•°æ®åŒ…å¯èƒ½éœ€è¦ç»è¿‡å¤šä¸ªè·¯ç”±å™¨ï¼Œæ‰èƒ½æœ€ç»ˆåˆ°è¾¾æœåŠ¡å™¨ã€‚</li><li><strong>æ•°æ®åŒ…</strong>ï¼šæ•°æ®åŒ…æ˜¯ç½‘ç»œé€šä¿¡çš„åŸºæœ¬å•ä½ã€‚HTTPè¯·æ±‚å’Œå“åº”éƒ½ä¼šè¢«åˆ†å‰²æˆå¤šä¸ªæ•°æ®åŒ…ï¼Œæ¯ä¸ªæ•°æ®åŒ…éƒ½ä¼šç‹¬ç«‹åœ°é€šè¿‡ç½‘ç»œä¼ è¾“ã€‚</li></ul></blockquote><h4 id="http-1" tabindex="-1"><a class="header-anchor" href="#http-1" aria-hidden="true">#</a> HTTP</h4><blockquote><p>æµè§ˆå™¨åšçš„ç¬¬ä¸€æ­¥å·¥ä½œæ˜¯è§£æ URL</p></blockquote><p>é¦–å…ˆæµè§ˆå™¨åšçš„ç¬¬ä¸€æ­¥å·¥ä½œå°±æ˜¯è¦å¯¹ <code>URL</code> è¿›è¡Œè§£æï¼Œä»è€Œç”Ÿæˆå‘é€ç»™ <code>Web</code> æœåŠ¡å™¨çš„è¯·æ±‚ä¿¡æ¯ã€‚</p><p>è®©æˆ‘ä»¬çœ‹çœ‹ä¸€æ¡é•¿é•¿çš„ URL é‡Œçš„å„ä¸ªå…ƒç´ çš„ä»£è¡¨ä»€ä¹ˆï¼Œè§ä¸‹å›¾ï¼š</p><figure><img src="'+J+'" alt="image-20220718150512474" tabindex="0" loading="lazy"><figcaption>image-20220718150512474</figcaption></figure><p>æ‰€ä»¥å›¾ä¸­çš„é•¿é•¿çš„ URL å®é™…ä¸Šæ˜¯è¯·æ±‚æœåŠ¡å™¨é‡Œçš„æ–‡ä»¶èµ„æºã€‚</p><blockquote><p>è¦æ˜¯ä¸Šå›¾ä¸­çš„è“è‰²éƒ¨åˆ† URL å…ƒç´ éƒ½çœç•¥äº†ï¼Œé‚£åº”è¯¥æ˜¯è¯·æ±‚å“ªä¸ªæ–‡ä»¶å‘¢ï¼Ÿ</p></blockquote><p>å½“æ²¡æœ‰è·¯å¾„åæ—¶ï¼Œå°±ä»£è¡¨è®¿é—®æ ¹ç›®å½•ä¸‹äº‹å…ˆè®¾ç½®çš„<strong>é»˜è®¤æ–‡ä»¶</strong>ï¼Œä¹Ÿå°±æ˜¯ <code>/index.html</code> æˆ–è€… <code>/default.html</code> è¿™äº›æ–‡ä»¶ï¼Œè¿™æ ·å°±ä¸ä¼šå‘ç”Ÿæ··ä¹±äº†ã€‚</p><blockquote><p>ç”Ÿäº§ HTTP è¯·æ±‚ä¿¡æ¯</p></blockquote><p>å¯¹ <code>URL</code> è¿›è¡Œè§£æä¹‹åï¼Œæµè§ˆå™¨ç¡®å®šäº† Web æœåŠ¡å™¨å’Œæ–‡ä»¶åï¼Œæ¥ä¸‹æ¥å°±æ˜¯æ ¹æ®è¿™äº›ä¿¡æ¯æ¥ç”Ÿæˆ HTTP è¯·æ±‚æ¶ˆæ¯äº†ã€‚</p><figure><img src="'+G+'" alt="image-20220718150623675" tabindex="0" loading="lazy"><figcaption>image-20220718150623675</figcaption></figure><blockquote><p>ä¸€ä¸ªå­¤å• HTTP æ•°æ®åŒ…è¡¨ç¤ºï¼šâ€œæˆ‘è¿™ä¹ˆä¸€ä¸ªå°å°çš„æ•°æ®åŒ…ï¼Œæ²¡äº²æ²¡å‹ï¼Œç›´æ¥å‘åˆ°æµ©ç€šçš„ç½‘ç»œï¼Œè°ä¼šçŸ¥é“æˆ‘å‘¢ï¼Ÿè°èƒ½è½½æˆ‘ä¸€ç¨‹å‘¢ï¼Ÿè°èƒ½ä¿æŠ¤æˆ‘å‘¢ï¼Ÿæˆ‘çš„ç›®çš„åœ°åœ¨å“ªå‘¢ï¼Ÿâ€ã€‚å……æ»¡å„ç§ç–‘é—®çš„å®ƒï¼Œæ²¡æœ‰åœæ»ä¸å‰ï¼Œä¾ç„¶è¸ä¸Šäº†å¾é€”ï¼</p></blockquote><h4 id="dns" tabindex="-1"><a class="header-anchor" href="#dns" aria-hidden="true">#</a> DNS</h4><p>é€šè¿‡æµè§ˆå™¨è§£æ URL å¹¶ç”Ÿæˆ HTTP æ¶ˆæ¯åï¼Œéœ€è¦å§”æ‰˜æ“ä½œç³»ç»Ÿå°†æ¶ˆæ¯å‘é€ç»™ <code>Web</code> æœåŠ¡å™¨ã€‚</p><p>ä½†åœ¨å‘é€ä¹‹å‰ï¼Œè¿˜æœ‰ä¸€é¡¹å·¥ä½œéœ€è¦å®Œæˆï¼Œé‚£å°±æ˜¯<strong>æŸ¥è¯¢æœåŠ¡å™¨åŸŸåå¯¹åº”çš„ IP åœ°å€</strong>ï¼Œå› ä¸ºå§”æ‰˜æ“ä½œç³»ç»Ÿå‘é€æ¶ˆæ¯æ—¶ï¼Œå¿…é¡»æä¾›é€šä¿¡å¯¹è±¡çš„ IP åœ°å€ã€‚</p><p>æ¯”å¦‚æˆ‘ä»¬æ‰“ç”µè¯çš„æ—¶å€™ï¼Œå¿…é¡»è¦çŸ¥é“å¯¹æ–¹çš„ç”µè¯å·ç ï¼Œä½†ç”±äºç”µè¯å·ç éš¾ä»¥è®°å¿†ï¼Œæ‰€ä»¥é€šå¸¸æˆ‘ä»¬ä¼šå°†å¯¹æ–¹ç”µè¯å· + å§“åä¿å­˜åœ¨é€šè®¯å½•é‡Œã€‚</p><p>æ‰€ä»¥ï¼Œæœ‰ä¸€ç§æœåŠ¡å™¨å°±ä¸“é—¨ä¿å­˜äº† <code>Web</code> æœåŠ¡å™¨åŸŸåä¸ <code>IP</code> çš„å¯¹åº”å…³ç³»ï¼Œå®ƒå°±æ˜¯ <code>DNS</code> æœåŠ¡å™¨ã€‚</p><blockquote><p>åŸŸåçš„å±‚çº§å…³ç³»</p></blockquote><p>DNS ä¸­çš„åŸŸåéƒ½æ˜¯ç”¨<strong>å¥ç‚¹</strong>æ¥åˆ†éš”çš„ï¼Œæ¯”å¦‚ <code>www.server.com</code>ï¼Œè¿™é‡Œçš„å¥ç‚¹ä»£è¡¨äº†ä¸åŒå±‚æ¬¡ä¹‹é—´çš„<strong>ç•Œé™</strong>ã€‚</p><p>åœ¨åŸŸåä¸­ï¼Œ<strong>è¶Šé å³</strong>çš„ä½ç½®è¡¨ç¤ºå…¶å±‚çº§<strong>è¶Šé«˜</strong>ã€‚</p><p>æ¯•ç«ŸåŸŸåæ˜¯å¤–å›½äººå‘æ˜ï¼Œæ‰€ä»¥æ€ç»´å’Œä¸­å›½äººç›¸åï¼Œæ¯”å¦‚è¯´ä¸€ä¸ªåŸå¸‚åœ°ç‚¹çš„æ—¶å€™ï¼Œå¤–å›½å–œæ¬¢ä»å°åˆ°å¤§çš„æ–¹å¼é¡ºåºè¯´èµ·ï¼ˆå¦‚ XX è¡—é“ XX åŒº XX å¸‚ XX çœï¼‰ï¼Œè€Œä¸­å›½åˆ™å–œæ¬¢ä»å¤§åˆ°å°çš„é¡ºåºï¼ˆå¦‚ XX çœ XX å¸‚ XX åŒº XX è¡—é“ï¼‰ã€‚</p><p>å®é™…ä¸ŠåŸŸåæœ€åè¿˜æœ‰ä¸€ä¸ªç‚¹ï¼Œæ¯”å¦‚ <code>www.server.com.</code>ï¼Œè¿™ä¸ªæœ€åçš„ä¸€ä¸ªç‚¹ä»£è¡¨æ ¹åŸŸåã€‚</p><p>ä¹Ÿå°±æ˜¯ï¼Œ<code>.</code> æ ¹åŸŸæ˜¯åœ¨æœ€é¡¶å±‚ï¼Œå®ƒçš„ä¸‹ä¸€å±‚å°±æ˜¯ <code>.com</code> é¡¶çº§åŸŸï¼Œå†ä¸‹é¢æ˜¯ <code>server.com</code>ã€‚</p><p>æ‰€ä»¥åŸŸåçš„å±‚çº§å…³ç³»ç±»ä¼¼ä¸€ä¸ªæ ‘çŠ¶ç»“æ„ï¼š</p>',98),lt=e("li",null,"æ ¹ DNS æœåŠ¡å™¨ï¼ˆ.ï¼‰",-1),ct=e("li",null,"é¡¶çº§åŸŸ DNS æœåŠ¡å™¨ï¼ˆ.comï¼‰",-1),gt={href:"http://server.com",target:"_blank",rel:"noopener noreferrer"},dt=n('<figure><img src="'+$+'" alt="image-20220718151134708" tabindex="0" loading="lazy"><figcaption>image-20220718151134708</figcaption></figure><p>æ ¹åŸŸçš„ DNS æœåŠ¡å™¨ä¿¡æ¯ä¿å­˜åœ¨äº’è”ç½‘ä¸­æ‰€æœ‰çš„ DNS æœåŠ¡å™¨ä¸­ã€‚</p><p>è¿™æ ·ä¸€æ¥ï¼Œä»»ä½• DNS æœåŠ¡å™¨å°±éƒ½å¯ä»¥æ‰¾åˆ°å¹¶è®¿é—®æ ¹åŸŸ DNS æœåŠ¡å™¨äº†ã€‚</p><p>å› æ­¤ï¼Œå®¢æˆ·ç«¯åªè¦èƒ½å¤Ÿæ‰¾åˆ°ä»»æ„ä¸€å° DNS æœåŠ¡å™¨ï¼Œå°±å¯ä»¥é€šè¿‡å®ƒæ‰¾åˆ°æ ¹åŸŸ DNS æœåŠ¡å™¨ï¼Œç„¶åå†ä¸€è·¯é¡ºè—¤æ‘¸ç“œæ‰¾åˆ°ä½äºä¸‹å±‚çš„æŸå°ç›®æ ‡ DNS æœåŠ¡å™¨ã€‚</p><blockquote><p>åŸŸåè§£æçš„å·¥ä½œæµç¨‹</p></blockquote><ol><li>å®¢æˆ·ç«¯é¦–å…ˆä¼šå‘å‡ºä¸€ä¸ª DNS è¯·æ±‚ï¼Œé—® <code>www.server.com</code> çš„ IP æ˜¯å•¥ï¼Œå¹¶å‘ç»™æœ¬åœ° DNS æœåŠ¡å™¨ï¼ˆä¹Ÿå°±æ˜¯å®¢æˆ·ç«¯çš„ TCP/IP è®¾ç½®ä¸­å¡«å†™çš„ DNS æœåŠ¡å™¨åœ°å€ï¼‰ã€‚</li><li>æœ¬åœ°åŸŸåæœåŠ¡å™¨æ”¶åˆ°å®¢æˆ·ç«¯çš„è¯·æ±‚åï¼Œå¦‚æœç¼“å­˜é‡Œçš„è¡¨æ ¼èƒ½æ‰¾åˆ°<code>www.server.com</code>ï¼Œåˆ™å®ƒç›´æ¥è¿”å› IP åœ°å€ã€‚å¦‚æœæ²¡æœ‰ï¼Œæœ¬åœ° DNS ä¼šå»é—®å®ƒçš„æ ¹åŸŸåæœåŠ¡å™¨ï¼šâ€œè€å¤§ï¼Œ èƒ½å‘Šè¯‰æˆ‘ <code>www.server.com</code> çš„ IP åœ°å€å—ï¼Ÿâ€ æ ¹åŸŸåæœåŠ¡å™¨æ˜¯æœ€é«˜å±‚æ¬¡çš„ï¼Œå®ƒä¸ç›´æ¥ç”¨äºåŸŸåè§£æï¼Œä½†èƒ½æŒ‡æ˜ä¸€æ¡é“è·¯ã€‚</li><li>æ ¹ DNS æ”¶åˆ°æ¥è‡ªæœ¬åœ° DNS çš„è¯·æ±‚åï¼Œå‘ç°åç½®æ˜¯ .comï¼Œè¯´ï¼š<code>www.server.com</code> è¿™ä¸ªåŸŸåå½’ .com åŒºåŸŸç®¡ç†â€ï¼Œæˆ‘ç»™ä½  .com é¡¶çº§åŸŸåæœåŠ¡å™¨åœ°å€ç»™ä½ ï¼Œä½ å»é—®é—®å®ƒå§ã€‚â€</li><li>æœ¬åœ° DNS æ”¶åˆ°é¡¶çº§åŸŸåæœåŠ¡å™¨çš„åœ°å€åï¼Œå‘èµ·è¯·æ±‚é—®â€œè€äºŒï¼Œ ä½ èƒ½å‘Šè¯‰æˆ‘ <code>www.server.com</code> çš„ IP åœ°å€å—ï¼Ÿâ€</li><li>é¡¶çº§åŸŸåæœåŠ¡å™¨è¯´ï¼šâ€œæˆ‘ç»™ä½ è´Ÿè´£<code>www.server.com</code>åŒºåŸŸçš„æƒå¨ DNS æœåŠ¡å™¨çš„åœ°å€ï¼Œä½ å»é—®å®ƒåº”è¯¥èƒ½é—®åˆ°â€ã€‚</li><li>æœ¬åœ° DNS äºæ˜¯è½¬å‘é—®æƒå¨ DNS æœåŠ¡å™¨ï¼šâ€œè€ä¸‰ï¼Œ<code>www.server.com</code>å¯¹åº”çš„IPæ˜¯å•¥å‘€ï¼Ÿ<code>www.server.com</code> çš„æƒå¨ DNS æœåŠ¡å™¨ï¼Œå®ƒæ˜¯åŸŸåè§£æç»“æœçš„åŸå‡ºå¤„ã€‚ä¸ºå•¥å«æƒå¨å‘¢ï¼Ÿå°±æ˜¯æˆ‘çš„åŸŸåæˆ‘åšä¸»ã€‚</li><li>æƒå¨ DNS æœåŠ¡å™¨æŸ¥è¯¢åå°†å¯¹åº”çš„ IP åœ°å€ X.X.X.X å‘Šè¯‰æœ¬åœ° DNSã€‚</li><li>æœ¬åœ° DNS å†å°† IP åœ°å€è¿”å›å®¢æˆ·ç«¯ï¼Œå®¢æˆ·ç«¯å’Œç›®æ ‡å»ºç«‹è¿æ¥ã€‚</li></ol><p>è‡³æ­¤ï¼Œæˆ‘ä»¬å®Œæˆäº† DNS çš„è§£æè¿‡ç¨‹ã€‚ç°åœ¨æ€»ç»“ä¸€ä¸‹ï¼Œæ•´ä¸ªè¿‡ç¨‹æˆ‘ç”»æˆäº†ä¸€ä¸ªå›¾ã€‚</p><figure><img src="'+ee+'" alt="image-20220718151150466" tabindex="0" loading="lazy"><figcaption>image-20220718151150466</figcaption></figure><p>DNS åŸŸåè§£æçš„è¿‡ç¨‹è›®æœ‰æ„æ€çš„ï¼Œæ•´ä¸ªè¿‡ç¨‹å°±å’Œæˆ‘ä»¬æ—¥å¸¸ç”Ÿæ´»ä¸­æ‰¾äººé—®è·¯çš„è¿‡ç¨‹ç±»ä¼¼ï¼Œ<strong>åªæŒ‡è·¯ä¸å¸¦è·¯</strong>ã€‚</p><blockquote><p>é‚£æ˜¯ä¸æ˜¯æ¯æ¬¡è§£æåŸŸåéƒ½è¦ç»è¿‡é‚£ä¹ˆå¤šçš„æ­¥éª¤å‘¢ï¼Ÿ</p></blockquote><p>å½“ç„¶ä¸æ˜¯äº†ï¼Œè¿˜æœ‰ç¼“å­˜è¿™ä¸ªä¸œè¥¿çš„å˜›ã€‚</p><p>æµè§ˆå™¨ä¼šå…ˆçœ‹è‡ªèº«æœ‰æ²¡æœ‰å¯¹è¿™ä¸ªåŸŸåçš„ç¼“å­˜ï¼Œå¦‚æœæœ‰ï¼Œå°±ç›´æ¥è¿”å›ï¼Œå¦‚æœæ²¡æœ‰ï¼Œå°±å»é—®æ“ä½œç³»ç»Ÿï¼Œæ“ä½œç³»ç»Ÿä¹Ÿä¼šå»çœ‹è‡ªå·±çš„ç¼“å­˜ï¼Œå¦‚æœæœ‰ï¼Œå°±ç›´æ¥è¿”å›ï¼Œå¦‚æœæ²¡æœ‰ï¼Œå†å» hosts æ–‡ä»¶çœ‹ï¼Œä¹Ÿæ²¡æœ‰ï¼Œæ‰ä¼šå»é—®ã€Œæœ¬åœ° DNS æœåŠ¡å™¨ã€ã€‚</p><blockquote><p>æ•°æ®åŒ…è¡¨ç¤ºï¼šâ€œDNS è€å¤§å“¥å‰å®³å‘€ï¼Œæ‰¾åˆ°äº†ç›®çš„åœ°äº†ï¼æˆ‘è¿˜æ˜¯å¾ˆè¿·èŒ«å‘€ï¼Œæˆ‘è¦å‘å‡ºå»ï¼Œæ¥ä¸‹æ¥æˆ‘éœ€è¦è°çš„å¸®åŠ©å‘¢?â€</p></blockquote><h4 id="åè®®æ ˆ" tabindex="-1"><a class="header-anchor" href="#åè®®æ ˆ" aria-hidden="true">#</a> åè®®æ ˆ</h4><p>é€šè¿‡ DNS è·å–åˆ° IP åï¼Œå°±å¯ä»¥æŠŠ HTTP çš„ä¼ è¾“å·¥ä½œäº¤ç»™æ“ä½œç³»ç»Ÿä¸­çš„<strong>åè®®æ ˆ</strong>ã€‚</p><p>åè®®æ ˆçš„å†…éƒ¨åˆ†ä¸ºå‡ ä¸ªéƒ¨åˆ†ï¼Œåˆ†åˆ«æ‰¿æ‹…ä¸åŒçš„å·¥ä½œã€‚ä¸Šä¸‹å…³ç³»æ˜¯æœ‰ä¸€å®šçš„è§„åˆ™çš„ï¼Œä¸Šé¢çš„éƒ¨åˆ†ä¼šå‘ä¸‹é¢çš„éƒ¨åˆ†å§”æ‰˜å·¥ä½œï¼Œä¸‹é¢çš„éƒ¨åˆ†æ”¶åˆ°å§”æ‰˜çš„å·¥ä½œå¹¶æ‰§è¡Œã€‚</p><figure><img src="'+te+'" alt="image-20220718151430741" tabindex="0" loading="lazy"><figcaption>image-20220718151430741</figcaption></figure><p>åº”ç”¨ç¨‹åºï¼ˆæµè§ˆå™¨ï¼‰é€šè¿‡è°ƒç”¨ Socket åº“ï¼Œæ¥å§”æ‰˜åè®®æ ˆå·¥ä½œã€‚åè®®æ ˆçš„ä¸ŠåŠéƒ¨åˆ†æœ‰ä¸¤å—ï¼Œåˆ†åˆ«æ˜¯è´Ÿè´£æ”¶å‘æ•°æ®çš„ TCP å’Œ UDP åè®®ï¼Œè¿™ä¸¤ä¸ªä¼ è¾“åè®®ä¼šæ¥å—åº”ç”¨å±‚çš„å§”æ‰˜æ‰§è¡Œæ”¶å‘æ•°æ®çš„æ“ä½œã€‚</p><p>åè®®æ ˆçš„ä¸‹é¢ä¸€åŠæ˜¯ç”¨ IP åè®®æ§åˆ¶ç½‘ç»œåŒ…æ”¶å‘æ“ä½œï¼Œåœ¨äº’è”ç½‘ä¸Šä¼ æ•°æ®æ—¶ï¼Œæ•°æ®ä¼šè¢«åˆ‡åˆ†æˆä¸€å—å—çš„ç½‘ç»œåŒ…ï¼Œè€Œå°†ç½‘ç»œåŒ…å‘é€ç»™å¯¹æ–¹çš„æ“ä½œå°±æ˜¯ç”± IP è´Ÿè´£çš„ã€‚</p><p>æ­¤å¤– IP ä¸­è¿˜åŒ…æ‹¬ <code>ICMP</code> åè®®å’Œ <code>ARP</code> åè®®ã€‚</p><ul><li><code>ICMP</code> ç”¨äºå‘ŠçŸ¥ç½‘ç»œåŒ…ä¼ é€è¿‡ç¨‹ä¸­äº§ç”Ÿçš„é”™è¯¯ä»¥åŠå„ç§æ§åˆ¶ä¿¡æ¯ã€‚</li><li><code>ARP</code> ç”¨äºæ ¹æ® IP åœ°å€æŸ¥è¯¢ç›¸åº”çš„ä»¥å¤ªç½‘ MAC åœ°å€ã€‚</li></ul><p>IP ä¸‹é¢çš„ç½‘å¡é©±åŠ¨ç¨‹åºè´Ÿè´£æ§åˆ¶ç½‘å¡ç¡¬ä»¶ï¼Œè€Œæœ€ä¸‹é¢çš„ç½‘å¡åˆ™è´Ÿè´£å®Œæˆå®é™…çš„æ”¶å‘æ“ä½œï¼Œä¹Ÿå°±æ˜¯å¯¹ç½‘çº¿ä¸­çš„ä¿¡å·æ‰§è¡Œå‘é€å’Œæ¥æ”¶æ“ä½œã€‚</p><blockquote><p>æ•°æ®åŒ…çœ‹äº†è¿™ä»½æŒ‡å—è¡¨ç¤ºï¼šâ€œåŸæ¥æˆ‘éœ€è¦é‚£ä¹ˆå¤šå¤§ä½¬çš„ååŠ©å•Šï¼Œé‚£æˆ‘å…ˆå»æ‰¾æ‰¾ TCP å¤§ä½¬ï¼â€</p></blockquote><h4 id="tcp" tabindex="-1"><a class="header-anchor" href="#tcp" aria-hidden="true">#</a> TCP</h4><p>HTTP æ˜¯åŸºäº TCP åè®®ä¼ è¾“çš„ï¼Œæ‰€ä»¥åœ¨è¿™æˆ‘ä»¬å…ˆäº†è§£ä¸‹ TCP åè®®ã€‚</p><blockquote><p>TCP åŒ…å¤´æ ¼å¼</p></blockquote><p>æˆ‘ä»¬å…ˆçœ‹çœ‹ TCP æŠ¥æ–‡å¤´éƒ¨çš„æ ¼å¼ï¼š</p><figure><img src="'+ie+'" alt="image-20220718151452778" tabindex="0" loading="lazy"><figcaption>image-20220718151452778</figcaption></figure><p>é¦–å…ˆï¼Œ<strong>æºç«¯å£å·</strong>å’Œ<strong>ç›®æ ‡ç«¯å£</strong>å·æ˜¯ä¸å¯å°‘çš„ï¼Œå¦‚æœæ²¡æœ‰è¿™ä¸¤ä¸ªç«¯å£å·ï¼Œæ•°æ®å°±ä¸çŸ¥é“åº”è¯¥å‘ç»™å“ªä¸ªåº”ç”¨ã€‚</p><p>æ¥ä¸‹æ¥æœ‰åŒ…çš„<strong>åº</strong>å·ï¼Œè¿™ä¸ªæ˜¯ä¸ºäº†è§£å†³åŒ…ä¹±åºçš„é—®é¢˜ã€‚</p><p>è¿˜æœ‰åº”è¯¥æœ‰çš„æ˜¯<strong>ç¡®è®¤å·</strong>ï¼Œç›®çš„æ˜¯ç¡®è®¤å‘å‡ºå»å¯¹æ–¹æ˜¯å¦æœ‰æ”¶åˆ°ã€‚å¦‚æœæ²¡æœ‰æ”¶åˆ°å°±åº”è¯¥é‡æ–°å‘é€ï¼Œç›´åˆ°é€è¾¾ï¼Œè¿™ä¸ªæ˜¯ä¸ºäº†è§£å†³ä¸ä¸¢åŒ…çš„é—®é¢˜ã€‚</p><p>æ¥ä¸‹æ¥è¿˜æœ‰ä¸€äº›<strong>çŠ¶æ€ä½</strong>ã€‚ä¾‹å¦‚ <code>SYN</code> æ˜¯å‘èµ·ä¸€ä¸ªè¿æ¥ï¼Œ<code>ACK</code> æ˜¯å›å¤ï¼Œ<code>RST</code> æ˜¯é‡æ–°è¿æ¥ï¼Œ<code>FIN</code> æ˜¯ç»“æŸè¿æ¥ç­‰ã€‚TCP æ˜¯é¢å‘è¿æ¥çš„ï¼Œå› è€ŒåŒæ–¹è¦ç»´æŠ¤è¿æ¥çš„çŠ¶æ€ï¼Œè¿™äº›å¸¦çŠ¶æ€ä½çš„åŒ…çš„å‘é€ï¼Œä¼šå¼•èµ·åŒæ–¹çš„çŠ¶æ€å˜æ›´ã€‚</p><p>è¿˜æœ‰ä¸€ä¸ªé‡è¦çš„å°±æ˜¯<strong>çª—å£å¤§å°</strong>ã€‚TCP è¦åš<strong>æµé‡æ§åˆ¶</strong>ï¼Œé€šä¿¡åŒæ–¹å„å£°æ˜ä¸€ä¸ªçª—å£ï¼ˆç¼“å­˜å¤§å°ï¼‰ï¼Œæ ‡è¯†è‡ªå·±å½“å‰èƒ½å¤Ÿçš„å¤„ç†èƒ½åŠ›ï¼Œåˆ«å‘é€çš„å¤ªå¿«ï¼Œæ’‘æ­»æˆ‘ï¼Œä¹Ÿåˆ«å‘çš„å¤ªæ…¢ï¼Œé¥¿æ­»æˆ‘ã€‚</p><p>é™¤äº†åšæµé‡æ§åˆ¶ä»¥å¤–ï¼ŒTCPè¿˜ä¼šåš<strong>æ‹¥å¡æ§åˆ¶</strong>ï¼Œå¯¹äºçœŸæ­£çš„é€šè·¯å µè½¦ä¸å µè½¦ï¼Œå®ƒæ— èƒ½ä¸ºåŠ›ï¼Œå”¯ä¸€èƒ½åšçš„å°±æ˜¯æ§åˆ¶è‡ªå·±ï¼Œä¹Ÿå³æ§åˆ¶å‘é€çš„é€Ÿåº¦ã€‚ä¸èƒ½æ”¹å˜ä¸–ç•Œï¼Œå°±æ”¹å˜è‡ªå·±å˜›ã€‚</p><blockquote><p>TCP ä¼ è¾“æ•°æ®ä¹‹å‰ï¼Œè¦å…ˆä¸‰æ¬¡æ¡æ‰‹å»ºç«‹è¿æ¥</p></blockquote><p>åœ¨ HTTP ä¼ è¾“æ•°æ®ä¹‹å‰ï¼Œé¦–å…ˆéœ€è¦ TCP å»ºç«‹è¿æ¥ï¼ŒTCP è¿æ¥çš„å»ºç«‹ï¼Œé€šå¸¸ç§°ä¸º<strong>ä¸‰æ¬¡æ¡æ‰‹</strong>ã€‚</p><p>è¿™ä¸ªæ‰€è°“çš„ã€Œè¿æ¥ã€ï¼Œåªæ˜¯åŒæ–¹è®¡ç®—æœºé‡Œç»´æŠ¤ä¸€ä¸ªçŠ¶æ€æœºï¼Œåœ¨è¿æ¥å»ºç«‹çš„è¿‡ç¨‹ä¸­ï¼ŒåŒæ–¹çš„çŠ¶æ€å˜åŒ–æ—¶åºå›¾å°±åƒè¿™æ ·ã€‚</p><figure><img src="'+oe+'" alt="image-20220718151501747" tabindex="0" loading="lazy"><figcaption>image-20220718151501747</figcaption></figure><ul><li>ä¸€å¼€å§‹ï¼Œå®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯éƒ½å¤„äº <code>CLOSED</code> çŠ¶æ€ã€‚å…ˆæ˜¯æœåŠ¡ç«¯ä¸»åŠ¨ç›‘å¬æŸä¸ªç«¯å£ï¼Œå¤„äº <code>LISTEN</code> çŠ¶æ€ã€‚</li><li>ç„¶åå®¢æˆ·ç«¯ä¸»åŠ¨å‘èµ·è¿æ¥ <code>SYN</code>ï¼Œä¹‹åå¤„äº <code>SYN-SENT</code> çŠ¶æ€ã€‚</li><li>æœåŠ¡ç«¯æ”¶åˆ°å‘èµ·çš„è¿æ¥ï¼Œè¿”å› <code>SYN</code>ï¼Œå¹¶ä¸” <code>ACK</code> å®¢æˆ·ç«¯çš„ <code>SYN</code>ï¼Œä¹‹åå¤„äº <code>SYN-RCVD</code> çŠ¶æ€ã€‚</li><li>å®¢æˆ·ç«¯æ”¶åˆ°æœåŠ¡ç«¯å‘é€çš„ <code>SYN</code> å’Œ <code>ACK</code> ä¹‹åï¼Œå‘é€å¯¹ <code>SYN</code> ç¡®è®¤çš„ <code>ACK</code>ï¼Œä¹‹åå¤„äº <code>ESTABLISHED</code> çŠ¶æ€ï¼Œå› ä¸ºå®ƒä¸€å‘ä¸€æ”¶æˆåŠŸäº†ã€‚</li><li>æœåŠ¡ç«¯æ”¶åˆ° <code>ACK</code> çš„ <code>ACK</code> ä¹‹åï¼Œå¤„äº <code>ESTABLISHED</code> çŠ¶æ€ï¼Œå› ä¸ºå®ƒä¹Ÿä¸€å‘ä¸€æ”¶äº†ã€‚</li></ul><p>æ‰€ä»¥ä¸‰æ¬¡æ¡æ‰‹ç›®çš„æ˜¯<strong>ä¿è¯åŒæ–¹éƒ½æœ‰å‘é€å’Œæ¥æ”¶çš„èƒ½åŠ›</strong>ã€‚</p><blockquote><p>å¦‚ä½•æŸ¥çœ‹ TCP çš„è¿æ¥çŠ¶æ€ï¼Ÿ</p></blockquote><p>TCP çš„è¿æ¥çŠ¶æ€æŸ¥çœ‹ï¼Œåœ¨ Linux å¯ä»¥é€šè¿‡ <code>netstat -napt</code> å‘½ä»¤æŸ¥çœ‹ã€‚</p><figure><img src="'+ne+'" alt="image-20220718151518568" tabindex="0" loading="lazy"><figcaption>image-20220718151518568</figcaption></figure><blockquote><p>TCP åˆ†å‰²æ•°æ®</p></blockquote><p>å¦‚æœ HTTP è¯·æ±‚æ¶ˆæ¯æ¯”è¾ƒé•¿ï¼Œè¶…è¿‡äº† <code>MSS</code> çš„é•¿åº¦ï¼Œè¿™æ—¶ TCP å°±éœ€è¦æŠŠ HTTP çš„æ•°æ®æ‹†è§£æˆä¸€å—å—çš„æ•°æ®å‘é€ï¼Œè€Œä¸æ˜¯ä¸€æ¬¡æ€§å‘é€æ‰€æœ‰æ•°æ®ã€‚</p><figure><img src="'+ae+'" alt="image-20220718151526400" tabindex="0" loading="lazy"><figcaption>image-20220718151526400</figcaption></figure><ul><li><code>MTU</code>ï¼šä¸€ä¸ªç½‘ç»œåŒ…çš„æœ€å¤§é•¿åº¦ï¼Œä»¥å¤ªç½‘ä¸­ä¸€èˆ¬ä¸º <code>1500</code> å­—èŠ‚ã€‚</li><li><code>MSS</code>ï¼šé™¤å» IP å’Œ TCP å¤´éƒ¨ä¹‹åï¼Œä¸€ä¸ªç½‘ç»œåŒ…æ‰€èƒ½å®¹çº³çš„ TCP æ•°æ®çš„æœ€å¤§é•¿åº¦ã€‚</li></ul><p>æ•°æ®ä¼šè¢«ä»¥ <code>MSS</code> çš„é•¿åº¦ä¸ºå•ä½è¿›è¡Œæ‹†åˆ†ï¼Œæ‹†åˆ†å‡ºæ¥çš„æ¯ä¸€å—æ•°æ®éƒ½ä¼šè¢«æ”¾è¿›å•ç‹¬çš„ç½‘ç»œåŒ…ä¸­ã€‚ä¹Ÿå°±æ˜¯åœ¨æ¯ä¸ªè¢«æ‹†åˆ†çš„æ•°æ®åŠ ä¸Š TCP å¤´ä¿¡æ¯ï¼Œç„¶åäº¤ç»™ IP æ¨¡å—æ¥å‘é€æ•°æ®ã€‚</p><figure><img src="'+se+'" alt="image-20220718151534470" tabindex="0" loading="lazy"><figcaption>image-20220718151534470</figcaption></figure><blockquote><p>TCP æŠ¥æ–‡ç”Ÿæˆ</p></blockquote><p>TCP åè®®é‡Œé¢ä¼šæœ‰ä¸¤ä¸ªç«¯å£ï¼Œä¸€ä¸ªæ˜¯æµè§ˆå™¨ç›‘å¬çš„ç«¯å£ï¼ˆé€šå¸¸æ˜¯éšæœºç”Ÿæˆçš„ï¼‰ï¼Œä¸€ä¸ªæ˜¯ Web æœåŠ¡å™¨ç›‘å¬çš„ç«¯å£ï¼ˆHTTP é»˜è®¤ç«¯å£å·æ˜¯ <code>80</code>ï¼Œ HTTPS é»˜è®¤ç«¯å£å·æ˜¯ <code>443</code>ï¼‰ã€‚</p><p>åœ¨åŒæ–¹å»ºç«‹äº†è¿æ¥åï¼ŒTCP æŠ¥æ–‡ä¸­çš„æ•°æ®éƒ¨åˆ†å°±æ˜¯å­˜æ”¾ HTTP å¤´éƒ¨ + æ•°æ®ï¼Œç»„è£…å¥½ TCP æŠ¥æ–‡ä¹‹åï¼Œå°±éœ€äº¤ç»™ä¸‹é¢çš„ç½‘ç»œå±‚å¤„ç†ã€‚</p><p>è‡³æ­¤ï¼Œç½‘ç»œåŒ…çš„æŠ¥æ–‡å¦‚ä¸‹å›¾ã€‚</p><figure><img src="'+re+'" alt="image-20220718151542331" tabindex="0" loading="lazy"><figcaption>image-20220718151542331</figcaption></figure><blockquote><p>æ­¤æ—¶ï¼Œé‡ä¸Šäº† TCP çš„ æ•°æ®åŒ…æ¿€åŠ¨è¡¨ç¤ºï¼šâ€œå¤ªå¥½äº†ï¼Œç¢°åˆ°äº†å¯é ä¼ è¾“çš„ TCP ä¼ è¾“ï¼Œå®ƒç»™æˆ‘åŠ ä¸Š TCP å¤´éƒ¨ï¼Œæˆ‘ä¸å†å­¤å•äº†ï¼Œå®‰å…¨æ„Ÿåè¶³å•Šï¼æœ‰å¤§ä½¬å¯ä»¥ä¿æŠ¤æˆ‘çš„å¯é é€è¾¾ï¼ä½†æˆ‘åº”è¯¥å¾€å“ªèµ°å‘¢ï¼Ÿâ€</p></blockquote><h4 id="ip" tabindex="-1"><a class="header-anchor" href="#ip" aria-hidden="true">#</a> IP</h4><p>TCP æ¨¡å—åœ¨æ‰§è¡Œè¿æ¥ã€æ”¶å‘ã€æ–­å¼€ç­‰å„é˜¶æ®µæ“ä½œæ—¶ï¼Œéƒ½éœ€è¦å§”æ‰˜ IP æ¨¡å—å°†æ•°æ®å°è£…æˆ<strong>ç½‘ç»œåŒ…</strong>å‘é€ç»™é€šä¿¡å¯¹è±¡ã€‚</p><blockquote><p>IP åŒ…å¤´æ ¼å¼</p></blockquote><p>æˆ‘ä»¬å…ˆçœ‹çœ‹ IP æŠ¥æ–‡å¤´éƒ¨çš„æ ¼å¼ï¼š</p><figure><img src="'+pe+'" alt="image-20220718151640795" tabindex="0" loading="lazy"><figcaption>image-20220718151640795</figcaption></figure><p>åœ¨ IP åè®®é‡Œé¢éœ€è¦æœ‰<strong>æºåœ°å€ IP</strong> å’Œ <strong>ç›®æ ‡åœ°å€ IP</strong>ï¼š</p><ul><li>æºåœ°å€IPï¼Œå³æ˜¯å®¢æˆ·ç«¯è¾“å‡ºçš„ IP åœ°å€ï¼›</li><li>ç›®æ ‡åœ°å€ï¼Œå³é€šè¿‡ DNS åŸŸåè§£æå¾—åˆ°çš„ Web æœåŠ¡å™¨ IPã€‚</li></ul><p>å› ä¸º HTTP æ˜¯ç»è¿‡ TCP ä¼ è¾“çš„ï¼Œæ‰€ä»¥åœ¨ IP åŒ…å¤´çš„<strong>åè®®å·</strong>ï¼Œè¦å¡«å†™ä¸º <code>06</code>ï¼ˆåå…­è¿›åˆ¶ï¼‰ï¼Œè¡¨ç¤ºåè®®ä¸º TCPã€‚</p><blockquote><p>å‡è®¾å®¢æˆ·ç«¯æœ‰å¤šä¸ªç½‘å¡ï¼Œå°±ä¼šæœ‰å¤šä¸ª IP åœ°å€ï¼Œé‚£ IP å¤´éƒ¨çš„æºåœ°å€åº”è¯¥é€‰æ‹©å“ªä¸ª IP å‘¢ï¼Ÿ</p></blockquote><p>å½“å­˜åœ¨å¤šä¸ªç½‘å¡æ—¶ï¼Œåœ¨å¡«å†™æºåœ°å€ IP æ—¶ï¼Œå°±éœ€è¦åˆ¤æ–­åˆ°åº•åº”è¯¥å¡«å†™å“ªä¸ªåœ°å€ã€‚è¿™ä¸ªåˆ¤æ–­ç›¸å½“äºåœ¨å¤šå—ç½‘å¡ä¸­åˆ¤æ–­åº”è¯¥ä½¿ç”¨å“ªä¸ªä¸€å—ç½‘å¡æ¥å‘é€åŒ…ã€‚</p><p>è¿™ä¸ªæ—¶å€™å°±éœ€è¦æ ¹æ®<strong>è·¯ç”±è¡¨</strong>è§„åˆ™ï¼Œæ¥åˆ¤æ–­å“ªä¸€ä¸ªç½‘å¡ä½œä¸ºæºåœ°å€ IPã€‚</p><p>åœ¨ Linux æ“ä½œç³»ç»Ÿï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ <code>route -n</code> å‘½ä»¤æŸ¥çœ‹å½“å‰ç³»ç»Ÿçš„è·¯ç”±è¡¨ã€‚</p><figure><img src="'+le+'" alt="image-20220718151649816" tabindex="0" loading="lazy"><figcaption>image-20220718151649816</figcaption></figure><p>ä¸¾ä¸ªä¾‹å­ï¼Œæ ¹æ®ä¸Šé¢çš„è·¯ç”±è¡¨ï¼Œæˆ‘ä»¬å‡è®¾ Web æœåŠ¡å™¨çš„ç›®æ ‡åœ°å€æ˜¯ <code>192.168.10.200</code>ã€‚</p><figure><img src="'+ce+'" alt="image-20220718151659105" tabindex="0" loading="lazy"><figcaption>image-20220718151659105</figcaption></figure><ol><li>é¦–å…ˆå…ˆå’Œç¬¬ä¸€æ¡ç›®çš„å­ç½‘æ©ç ï¼ˆ<code>Genmask</code>ï¼‰è¿›è¡Œ <strong>ä¸è¿ç®—</strong>ï¼Œå¾—åˆ°ç»“æœä¸º <code>192.168.10.0</code>ï¼Œä½†æ˜¯ç¬¬ä¸€ä¸ªæ¡ç›®çš„ <code>Destination</code> æ˜¯ <code>192.168.3.0</code>ï¼Œä¸¤è€…ä¸ä¸€è‡´æ‰€ä»¥åŒ¹é…å¤±è´¥ã€‚</li><li>å†ä¸ç¬¬äºŒæ¡ç›®çš„å­ç½‘æ©ç è¿›è¡Œ <strong>ä¸è¿ç®—</strong>ï¼Œå¾—åˆ°çš„ç»“æœä¸º <code>192.168.10.0</code>ï¼Œä¸ç¬¬äºŒæ¡ç›®çš„ <code>Destination 192.168.10.0</code> åŒ¹é…æˆåŠŸï¼Œæ‰€ä»¥å°†ä½¿ç”¨ <code>eth1</code> ç½‘å¡çš„ IP åœ°å€ä½œä¸º IP åŒ…å¤´çš„æºåœ°å€ã€‚</li></ol><p>é‚£ä¹ˆå‡è®¾ Web æœåŠ¡å™¨çš„ç›®æ ‡åœ°å€æ˜¯ <code>10.100.20.100</code>ï¼Œé‚£ä¹ˆä¾ç„¶ä¾ç…§ä¸Šé¢çš„è·¯ç”±è¡¨è§„åˆ™åˆ¤æ–­ï¼Œåˆ¤æ–­åçš„ç»“æœæ˜¯å’Œç¬¬ä¸‰æ¡ç›®åŒ¹é…ã€‚</p><p>ç¬¬ä¸‰æ¡ç›®æ¯”è¾ƒç‰¹æ®Šï¼Œå®ƒç›®æ ‡åœ°å€å’Œå­ç½‘æ©ç éƒ½æ˜¯ <code>0.0.0.0</code>ï¼Œè¿™è¡¨ç¤º<strong>é»˜è®¤ç½‘å…³</strong>ï¼Œå¦‚æœå…¶ä»–æ‰€æœ‰æ¡ç›®éƒ½æ— æ³•åŒ¹é…ï¼Œå°±ä¼šè‡ªåŠ¨åŒ¹é…è¿™ä¸€è¡Œã€‚å¹¶ä¸”åç»­å°±æŠŠåŒ…å‘ç»™è·¯ç”±å™¨ï¼Œ<code>Gateway</code> å³æ˜¯è·¯ç”±å™¨çš„ IP åœ°å€ã€‚</p><blockquote><p>IP æŠ¥æ–‡ç”Ÿæˆ</p></blockquote><p>è‡³æ­¤ï¼Œç½‘ç»œåŒ…çš„æŠ¥æ–‡å¦‚ä¸‹å›¾ã€‚</p><figure><img src="'+ge+'" alt="image-20220718151712840" tabindex="0" loading="lazy"><figcaption>image-20220718151712840</figcaption></figure><blockquote><p>æ­¤æ—¶ï¼ŒåŠ ä¸Šäº† IP å¤´éƒ¨çš„æ•°æ®åŒ…è¡¨ç¤º ï¼šâ€œæœ‰ IP å¤§ä½¬ç»™æˆ‘æŒ‡è·¯äº†ï¼Œæ„Ÿè°¢ IP å±‚ç»™æˆ‘åŠ ä¸Šäº† IP åŒ…å¤´ï¼Œè®©æˆ‘æœ‰äº†è¿œç¨‹å®šä½çš„èƒ½åŠ›ï¼ä¸ä¼šå®³æ€•åœ¨æµ©ç€šçš„äº’è”ç½‘è¿·èŒ«äº†ï¼å¯æ˜¯ç›®çš„åœ°å¥½è¿œå•Šï¼Œæˆ‘ä¸‹ä¸€ç«™åº”è¯¥å»å“ªå‘¢ï¼Ÿâ€</p></blockquote><h4 id="mac" tabindex="-1"><a class="header-anchor" href="#mac" aria-hidden="true">#</a> MAC</h4><p>ç”Ÿæˆäº† IP å¤´éƒ¨ä¹‹åï¼Œæ¥ä¸‹æ¥ç½‘ç»œåŒ…è¿˜éœ€è¦åœ¨ IP å¤´éƒ¨çš„å‰é¢åŠ ä¸Š <strong>MAC å¤´éƒ¨</strong>ã€‚</p><blockquote><p>MAC åŒ…å¤´æ ¼å¼</p></blockquote><p>MAC å¤´éƒ¨æ˜¯ä»¥å¤ªç½‘ä½¿ç”¨çš„å¤´éƒ¨ï¼Œå®ƒåŒ…å«äº†æ¥æ”¶æ–¹å’Œå‘é€æ–¹çš„ MAC åœ°å€ç­‰ä¿¡æ¯ã€‚</p><figure><img src="'+de+'" alt="MAC åŒ…å¤´æ ¼å¼" tabindex="0" loading="lazy"><figcaption>MAC åŒ…å¤´æ ¼å¼</figcaption></figure><p>åœ¨ MAC åŒ…å¤´é‡Œéœ€è¦<strong>å‘é€æ–¹ MAC åœ°å€</strong>å’Œ<strong>æ¥æ”¶æ–¹ç›®æ ‡ MAC åœ°å€</strong>ï¼Œç”¨äº<strong>ä¸¤ç‚¹ä¹‹é—´çš„ä¼ è¾“</strong>ã€‚</p><p>ä¸€èˆ¬åœ¨ TCP/IP é€šä¿¡é‡Œï¼ŒMAC åŒ…å¤´çš„<strong>åè®®ç±»å‹</strong>åªä½¿ç”¨ï¼š</p><ul><li><code>0800</code> ï¼š IP åè®®</li><li><code>0806</code> ï¼š ARP åè®®</li></ul><blockquote><p>MAC å‘é€æ–¹å’Œæ¥æ”¶æ–¹å¦‚ä½•ç¡®è®¤?</p></blockquote><p><strong>å‘é€æ–¹</strong>çš„ MAC åœ°å€è·å–å°±æ¯”è¾ƒç®€å•äº†ï¼ŒMAC åœ°å€æ˜¯åœ¨ç½‘å¡ç”Ÿäº§æ—¶å†™å…¥åˆ° ROM é‡Œçš„ï¼Œåªè¦å°†è¿™ä¸ªå€¼è¯»å–å‡ºæ¥å†™å…¥åˆ° MAC å¤´éƒ¨å°±å¯ä»¥äº†ã€‚</p><p><strong>æ¥æ”¶æ–¹</strong>çš„ MAC åœ°å€å°±æœ‰ç‚¹å¤æ‚äº†ï¼Œåªè¦å‘Šè¯‰ä»¥å¤ªç½‘å¯¹æ–¹çš„ MAC çš„åœ°å€ï¼Œä»¥å¤ªç½‘å°±ä¼šå¸®æˆ‘ä»¬æŠŠåŒ…å‘é€è¿‡å»ï¼Œé‚£ä¹ˆå¾ˆæ˜¾ç„¶è¿™é‡Œåº”è¯¥å¡«å†™å¯¹æ–¹çš„ MAC åœ°å€ã€‚</p><p>æ‰€ä»¥å…ˆå¾—ææ¸…æ¥šåº”è¯¥æŠŠåŒ…å‘ç»™è°ï¼Œè¿™ä¸ªåªè¦æŸ¥ä¸€ä¸‹<strong>è·¯ç”±è¡¨</strong>å°±çŸ¥é“äº†ã€‚åœ¨è·¯ç”±è¡¨ä¸­æ‰¾åˆ°ç›¸åŒ¹é…çš„æ¡ç›®ï¼Œç„¶åæŠŠåŒ…å‘ç»™ <code>Gateway</code> åˆ—ä¸­çš„ IP åœ°å€å°±å¯ä»¥äº†ã€‚</p><blockquote><p>æ—¢ç„¶çŸ¥é“è¦å‘ç»™è°ï¼ŒæŒ‰å¦‚ä½•è·å–å¯¹æ–¹çš„ MAC åœ°å€å‘¢ï¼Ÿ</p></blockquote><p>ä¸çŸ¥é“å¯¹æ–¹ MAC åœ°å€ï¼Ÿä¸çŸ¥é“å°±å–Šå‘—ã€‚</p><p>æ­¤æ—¶å°±éœ€è¦ <code>ARP</code> åè®®å¸®æˆ‘ä»¬æ‰¾åˆ°è·¯ç”±å™¨çš„ MAC åœ°å€ã€‚</p><figure><img src="'+ue+'" alt="ARP å¹¿æ’­" tabindex="0" loading="lazy"><figcaption>ARP å¹¿æ’­</figcaption></figure><p>ARP åè®®ä¼šåœ¨ä»¥å¤ªç½‘ä¸­ä»¥<strong>å¹¿æ’­</strong>çš„å½¢å¼ï¼Œå¯¹ä»¥å¤ªç½‘æ‰€æœ‰çš„è®¾å¤‡å–Šå‡ºï¼šâ€œè¿™ä¸ª IP åœ°å€æ˜¯è°çš„ï¼Ÿè¯·æŠŠä½ çš„ MAC åœ°å€å‘Šè¯‰æˆ‘â€ã€‚</p><p>ç„¶åå°±ä¼šæœ‰äººå›ç­”ï¼šâ€œè¿™ä¸ª IP åœ°å€æ˜¯æˆ‘çš„ï¼Œæˆ‘çš„ MAC åœ°å€æ˜¯ XXXXâ€ã€‚</p><p>å¦‚æœå¯¹æ–¹å’Œè‡ªå·±å¤„äºåŒä¸€ä¸ªå­ç½‘ä¸­ï¼Œé‚£ä¹ˆé€šè¿‡ä¸Šé¢çš„æ“ä½œå°±å¯ä»¥å¾—åˆ°å¯¹æ–¹çš„ MAC åœ°å€ã€‚ç„¶åï¼Œæˆ‘ä»¬å°†è¿™ä¸ª MAC åœ°å€å†™å…¥ MAC å¤´éƒ¨ï¼ŒMAC å¤´éƒ¨å°±å®Œæˆäº†ã€‚</p><blockquote><p>å¥½åƒæ¯æ¬¡éƒ½è¦å¹¿æ’­è·å–ï¼Œè¿™ä¸æ˜¯å¾ˆéº»çƒ¦å—ï¼Ÿ</p></blockquote><p>æ”¾å¿ƒï¼Œåœ¨åç»­æ“ä½œç³»ç»Ÿä¼šæŠŠæœ¬æ¬¡æŸ¥è¯¢ç»“æœæ”¾åˆ°ä¸€å—å«åš <strong>ARP ç¼“å­˜</strong>çš„å†…å­˜ç©ºé—´ç•™ç€ä»¥åç”¨ï¼Œä¸è¿‡ç¼“å­˜çš„æ—¶é—´å°±å‡ åˆ†é’Ÿã€‚</p><p>ä¹Ÿå°±æ˜¯è¯´ï¼Œåœ¨å‘åŒ…æ—¶ï¼š</p><ul><li>å…ˆæŸ¥è¯¢ ARP ç¼“å­˜ï¼Œå¦‚æœå…¶ä¸­å·²ç»ä¿å­˜äº†å¯¹æ–¹çš„ MAC åœ°å€ï¼Œå°±ä¸éœ€è¦å‘é€ ARP æŸ¥è¯¢ï¼Œç›´æ¥ä½¿ç”¨ ARP ç¼“å­˜ä¸­çš„åœ°å€ã€‚</li><li>è€Œå½“ ARP ç¼“å­˜ä¸­ä¸å­˜åœ¨å¯¹æ–¹ MAC åœ°å€æ—¶ï¼Œåˆ™å‘é€ ARP å¹¿æ’­æŸ¥è¯¢ã€‚</li></ul><blockquote><p>æŸ¥çœ‹ ARP ç¼“å­˜å†…å®¹</p></blockquote><p>åœ¨ Linux ç³»ç»Ÿä¸­ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ <code>arp -a</code> å‘½ä»¤æ¥æŸ¥çœ‹ ARP ç¼“å­˜çš„å†…å®¹ã€‚</p><figure><img src="'+he+'" alt="ARP ç¼“å­˜å†…å®¹" tabindex="0" loading="lazy"><figcaption>ARP ç¼“å­˜å†…å®¹</figcaption></figure><blockquote><p>MAC æŠ¥æ–‡ç”Ÿæˆ</p></blockquote><p>è‡³æ­¤ï¼Œç½‘ç»œåŒ…çš„æŠ¥æ–‡å¦‚ä¸‹å›¾ã€‚</p><figure><img src="'+fe+'" alt="MAC å±‚æŠ¥æ–‡" tabindex="0" loading="lazy"><figcaption>MAC å±‚æŠ¥æ–‡</figcaption></figure><blockquote><p>æ­¤æ—¶ï¼ŒåŠ ä¸Šäº† MAC å¤´éƒ¨çš„æ•°æ®åŒ…ä¸‡åˆ†æ„Ÿè°¢ï¼Œè¯´é“ ï¼šâ€œæ„Ÿè°¢ MAC å¤§ä½¬ï¼Œæˆ‘çŸ¥é“æˆ‘ä¸‹ä¸€æ­¥è¦å»å“ªäº†ï¼æˆ‘ç°åœ¨æœ‰å¾ˆå¤šå¤´éƒ¨å…„å¼Ÿï¼Œç›¸ä¿¡æˆ‘å¯ä»¥åˆ°è¾¾æœ€ç»ˆçš„ç›®çš„åœ°ï¼â€ã€‚ å¸¦ç€ä¼—å¤šå¤´éƒ¨å…„å¼Ÿçš„æ•°æ®åŒ…ï¼Œç»ˆäºå‡†å¤‡è¦å‡ºé—¨äº†ã€‚</p></blockquote><h4 id="ç½‘å¡" tabindex="-1"><a class="header-anchor" href="#ç½‘å¡" aria-hidden="true">#</a> ç½‘å¡</h4><p>ç½‘ç»œåŒ…åªæ˜¯å­˜æ”¾åœ¨å†…å­˜ä¸­çš„ä¸€ä¸²äºŒè¿›åˆ¶æ•°å­—ä¿¡æ¯ï¼Œæ²¡æœ‰åŠæ³•ç›´æ¥å‘é€ç»™å¯¹æ–¹ã€‚å› æ­¤ï¼Œæˆ‘ä»¬éœ€è¦å°†<strong>æ•°å­—ä¿¡æ¯è½¬æ¢ä¸ºç”µä¿¡å·</strong>ï¼Œæ‰èƒ½åœ¨ç½‘çº¿ä¸Šä¼ è¾“ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œè¿™æ‰æ˜¯çœŸæ­£çš„æ•°æ®å‘é€è¿‡ç¨‹ã€‚</p><p>è´Ÿè´£æ‰§è¡Œè¿™ä¸€æ“ä½œçš„æ˜¯<strong>ç½‘å¡</strong>ï¼Œè¦æ§åˆ¶ç½‘å¡è¿˜éœ€è¦é <strong>ç½‘å¡é©±åŠ¨ç¨‹åº</strong>ã€‚</p><p>ç½‘å¡é©±åŠ¨è·å–ç½‘ç»œåŒ…ä¹‹åï¼Œä¼šå°†å…¶<strong>å¤åˆ¶</strong>åˆ°ç½‘å¡å†…çš„ç¼“å­˜åŒºä¸­ï¼Œæ¥ç€ä¼šåœ¨å…¶<strong>å¼€å¤´åŠ ä¸ŠæŠ¥å¤´å’Œèµ·å§‹å¸§åˆ†ç•Œç¬¦ï¼Œåœ¨æœ«å°¾åŠ ä¸Šç”¨äºæ£€æµ‹é”™è¯¯çš„å¸§æ ¡éªŒåºåˆ—</strong>ã€‚</p><figure><img src="'+me+'" alt="æ•°æ®åŒ…" tabindex="0" loading="lazy"><figcaption>æ•°æ®åŒ…</figcaption></figure><ul><li>èµ·å§‹å¸§åˆ†ç•Œç¬¦æ˜¯ä¸€ä¸ªç”¨æ¥è¡¨ç¤ºåŒ…èµ·å§‹ä½ç½®çš„æ ‡è®°</li><li>æœ«å°¾çš„ <code>FCS</code>ï¼ˆå¸§æ ¡éªŒåºåˆ—ï¼‰ç”¨æ¥æ£€æŸ¥åŒ…ä¼ è¾“è¿‡ç¨‹æ˜¯å¦æœ‰æŸå</li></ul><p>æœ€åç½‘å¡ä¼šå°†åŒ…è½¬ä¸ºç”µä¿¡å·ï¼Œé€šè¿‡ç½‘çº¿å‘é€å‡ºå»ã€‚</p><blockquote><p>å”‰ï¼ŒçœŸæ˜¯ä¸å®¹æ˜“ï¼Œå‘ä¸€ä¸ªåŒ…ï¼ŒçœŸæ˜¯å†ç»åƒè¾›ä¸‡è‹¦ã€‚è‡´æ­¤ï¼Œä¸€ä¸ªå¸¦æœ‰è®¸å¤šå¤´éƒ¨çš„æ•°æ®ç»ˆäºè¸ä¸Šå¯»æ‰¾ç›®çš„åœ°çš„å¾é€”äº†ï¼</p></blockquote><h4 id="äº¤æ¢æœº" tabindex="-1"><a class="header-anchor" href="#äº¤æ¢æœº" aria-hidden="true">#</a> äº¤æ¢æœº</h4><p>ä¸‹é¢æ¥çœ‹ä¸€ä¸‹åŒ…æ˜¯å¦‚ä½•é€šè¿‡äº¤æ¢æœºçš„ã€‚äº¤æ¢æœºçš„è®¾è®¡æ˜¯å°†ç½‘ç»œåŒ…<strong>åŸæ ·</strong>è½¬å‘åˆ°ç›®çš„åœ°ã€‚äº¤æ¢æœºå·¥ä½œåœ¨ MAC å±‚ï¼Œä¹Ÿç§°ä¸º<strong>äºŒå±‚ç½‘ç»œè®¾å¤‡</strong>ã€‚</p><blockquote><p>äº¤æ¢æœºçš„åŒ…æ¥æ”¶æ“ä½œ</p></blockquote><p>é¦–å…ˆï¼Œç”µä¿¡å·åˆ°è¾¾ç½‘çº¿æ¥å£ï¼Œäº¤æ¢æœºé‡Œçš„æ¨¡å—è¿›è¡Œæ¥æ”¶ï¼Œæ¥ä¸‹æ¥äº¤æ¢æœºé‡Œçš„æ¨¡å—å°†ç”µä¿¡å·è½¬æ¢ä¸ºæ•°å­—ä¿¡å·ã€‚</p><p>ç„¶åé€šè¿‡åŒ…æœ«å°¾çš„ <code>FCS</code> æ ¡éªŒé”™è¯¯ï¼Œå¦‚æœæ²¡é—®é¢˜åˆ™æ”¾åˆ°ç¼“å†²åŒºã€‚è¿™éƒ¨åˆ†æ“ä½œåŸºæœ¬å’Œè®¡ç®—æœºçš„ç½‘å¡ç›¸åŒï¼Œä½†äº¤æ¢æœºçš„å·¥ä½œæ–¹å¼å’Œç½‘å¡ä¸åŒã€‚</p><p>è®¡ç®—æœºçš„ç½‘å¡æœ¬èº«å…·æœ‰ MAC åœ°å€ï¼Œå¹¶é€šè¿‡æ ¸å¯¹æ”¶åˆ°çš„åŒ…çš„æ¥æ”¶æ–¹ MAC åœ°å€åˆ¤æ–­æ˜¯ä¸æ˜¯å‘ç»™è‡ªå·±çš„ï¼Œå¦‚æœä¸æ˜¯å‘ç»™è‡ªå·±çš„åˆ™ä¸¢å¼ƒï¼›ç›¸å¯¹åœ°ï¼Œäº¤æ¢æœºçš„ç«¯å£ä¸æ ¸å¯¹æ¥æ”¶æ–¹ MAC åœ°å€ï¼Œè€Œæ˜¯ç›´æ¥æ¥æ”¶æ‰€æœ‰çš„åŒ…å¹¶å­˜æ”¾åˆ°ç¼“å†²åŒºä¸­ã€‚å› æ­¤ï¼Œå’Œç½‘å¡ä¸åŒï¼Œ<strong>äº¤æ¢æœºçš„ç«¯å£ä¸å…·æœ‰ MAC åœ°å€</strong>ã€‚</p><p>å°†åŒ…å­˜å…¥ç¼“å†²åŒºåï¼Œæ¥ä¸‹æ¥éœ€è¦æŸ¥è¯¢ä¸€ä¸‹è¿™ä¸ªåŒ…çš„æ¥æ”¶æ–¹ MAC åœ°å€æ˜¯å¦å·²ç»åœ¨ MAC åœ°å€è¡¨ä¸­æœ‰è®°å½•äº†ã€‚</p><p>äº¤æ¢æœºçš„ MAC åœ°å€è¡¨ä¸»è¦åŒ…å«ä¸¤ä¸ªä¿¡æ¯ï¼š</p><ul><li>ä¸€ä¸ªæ˜¯è®¾å¤‡çš„ MAC åœ°å€ï¼Œ</li><li>å¦ä¸€ä¸ªæ˜¯è¯¥è®¾å¤‡è¿æ¥åœ¨äº¤æ¢æœºçš„å“ªä¸ªç«¯å£ä¸Šã€‚</li></ul><figure><img src="'+Pe+'" alt="äº¤æ¢æœºçš„ MAC åœ°å€è¡¨" tabindex="0" loading="lazy"><figcaption>äº¤æ¢æœºçš„ MAC åœ°å€è¡¨</figcaption></figure><p>ä¸¾ä¸ªä¾‹å­ï¼Œå¦‚æœæ”¶åˆ°çš„åŒ…çš„æ¥æ”¶æ–¹ MAC åœ°å€ä¸º <code>00-02-B3-1C-9C-F9</code>ï¼Œåˆ™ä¸å›¾ä¸­è¡¨ä¸­çš„ç¬¬ 3 è¡ŒåŒ¹é…ï¼Œæ ¹æ®ç«¯å£åˆ—çš„ä¿¡æ¯ï¼Œå¯çŸ¥è¿™ä¸ªåœ°å€ä½äº <code>3</code> å·ç«¯å£ä¸Šï¼Œç„¶åå°±å¯ä»¥é€šè¿‡äº¤æ¢ç”µè·¯å°†åŒ…å‘é€åˆ°ç›¸åº”çš„ç«¯å£äº†ã€‚</p><p>æ‰€ä»¥ï¼Œ<strong>äº¤æ¢æœºæ ¹æ® MAC åœ°å€è¡¨æŸ¥æ‰¾ MAC åœ°å€ï¼Œç„¶åå°†ä¿¡å·å‘é€åˆ°ç›¸åº”çš„ç«¯å£</strong>ã€‚</p><blockquote><p>å½“ MAC åœ°å€è¡¨æ‰¾ä¸åˆ°æŒ‡å®šçš„ MAC åœ°å€ä¼šæ€ä¹ˆæ ·ï¼Ÿ</p></blockquote><p>åœ°å€è¡¨ä¸­æ‰¾ä¸åˆ°æŒ‡å®šçš„ MAC åœ°å€ã€‚è¿™å¯èƒ½æ˜¯å› ä¸ºå…·æœ‰è¯¥åœ°å€çš„è®¾å¤‡è¿˜æ²¡æœ‰å‘äº¤æ¢æœºå‘é€è¿‡åŒ…ï¼Œæˆ–è€…è¿™ä¸ªè®¾å¤‡ä¸€æ®µæ—¶é—´æ²¡æœ‰å·¥ä½œå¯¼è‡´åœ°å€è¢«ä»åœ°å€è¡¨ä¸­åˆ é™¤äº†ã€‚</p><p>è¿™ç§æƒ…å†µä¸‹ï¼Œäº¤æ¢æœºæ— æ³•åˆ¤æ–­åº”è¯¥æŠŠåŒ…è½¬å‘åˆ°å“ªä¸ªç«¯å£ï¼Œåªèƒ½å°†åŒ…è½¬å‘åˆ°é™¤äº†æºç«¯å£ä¹‹å¤–çš„æ‰€æœ‰ç«¯å£ä¸Šï¼Œæ— è®ºè¯¥è®¾å¤‡è¿æ¥åœ¨å“ªä¸ªç«¯å£ä¸Šéƒ½èƒ½æ”¶åˆ°è¿™ä¸ªåŒ…ã€‚</p><p>è¿™æ ·åšä¸ä¼šäº§ç”Ÿä»€ä¹ˆé—®é¢˜ï¼Œå› ä¸ºä»¥å¤ªç½‘çš„è®¾è®¡æœ¬æ¥å°±æ˜¯å°†åŒ…å‘é€åˆ°æ•´ä¸ªç½‘ç»œçš„ï¼Œç„¶å<strong>åªæœ‰ç›¸åº”çš„æ¥æ”¶è€…æ‰æ¥æ”¶åŒ…ï¼Œè€Œå…¶ä»–è®¾å¤‡åˆ™ä¼šå¿½ç•¥è¿™ä¸ªåŒ…</strong>ã€‚</p><p>æœ‰äººä¼šè¯´ï¼šâ€œè¿™æ ·åšä¼šå‘é€å¤šä½™çš„åŒ…ï¼Œä¼šä¸ä¼šé€ æˆç½‘ç»œæ‹¥å¡å‘¢ï¼Ÿâ€</p><p>å…¶å®å®Œå…¨ä¸ç”¨è¿‡äºæ‹…å¿ƒï¼Œå› ä¸ºå‘é€äº†åŒ…ä¹‹åç›®æ ‡è®¾å¤‡ä¼šä½œå‡ºå“åº”ï¼Œåªè¦è¿”å›äº†å“åº”åŒ…ï¼Œäº¤æ¢æœºå°±å¯ä»¥å°†å®ƒçš„åœ°å€å†™å…¥ MAC åœ°å€è¡¨ï¼Œä¸‹æ¬¡ä¹Ÿå°±ä¸éœ€è¦æŠŠåŒ…å‘åˆ°æ‰€æœ‰ç«¯å£äº†ã€‚</p><p>å±€åŸŸç½‘ä¸­æ¯ç§’å¯ä»¥ä¼ è¾“ä¸Šåƒä¸ªåŒ…ï¼Œå¤šå‡ºä¸€ä¸¤ä¸ªåŒ…å¹¶æ— å¤§ç¢ã€‚</p><p>æ­¤å¤–ï¼Œå¦‚æœæ¥æ”¶æ–¹ MAC åœ°å€æ˜¯ä¸€ä¸ª<strong>å¹¿æ’­åœ°å€</strong>ï¼Œé‚£ä¹ˆäº¤æ¢æœºä¼šå°†åŒ…å‘é€åˆ°é™¤æºç«¯å£ä¹‹å¤–çš„æ‰€æœ‰ç«¯å£ã€‚</p><p>ä»¥ä¸‹ä¸¤ä¸ªå±äºå¹¿æ’­åœ°å€ï¼š</p><ul><li>MAC åœ°å€ä¸­çš„ <code>FF:FF:FF:FF:FF:FF</code></li><li>IP åœ°å€ä¸­çš„ <code>255.255.255.255</code></li></ul><blockquote><p>æ•°æ®åŒ…é€šè¿‡äº¤æ¢æœºè½¬å‘æŠµè¾¾äº†è·¯ç”±å™¨ï¼Œå‡†å¤‡è¦ç¦»å¼€åœŸç”ŸåœŸé•¿çš„å­ç½‘äº†ã€‚æ­¤æ—¶ï¼Œæ•°æ®åŒ…å’Œäº¤æ¢æœºç¦»åˆ«æ—¶è¯´é“ï¼šâ€œæ„Ÿè°¢äº¤æ¢æœºå…„å¼Ÿï¼Œå¸®æˆ‘è½¬å‘åˆ°å‡ºå¢ƒçš„å¤§é—¨ï¼Œæˆ‘è¦å‡ºè¿œé—¨å•¦ï¼â€</p></blockquote><h4 id="è·¯ç”±å™¨" tabindex="-1"><a class="header-anchor" href="#è·¯ç”±å™¨" aria-hidden="true">#</a> è·¯ç”±å™¨</h4><blockquote><p>è·¯ç”±å™¨ä¸äº¤æ¢æœºçš„åŒºåˆ«</p></blockquote><p>ç½‘ç»œåŒ…ç»è¿‡äº¤æ¢æœºä¹‹åï¼Œç°åœ¨åˆ°è¾¾äº†<strong>è·¯ç”±å™¨</strong>ï¼Œå¹¶åœ¨æ­¤è¢«è½¬å‘åˆ°ä¸‹ä¸€ä¸ªè·¯ç”±å™¨æˆ–ç›®æ ‡è®¾å¤‡ã€‚</p><p>è¿™ä¸€æ­¥è½¬å‘çš„å·¥ä½œåŸç†å’Œäº¤æ¢æœºç±»ä¼¼ï¼Œä¹Ÿæ˜¯é€šè¿‡æŸ¥è¡¨åˆ¤æ–­åŒ…è½¬å‘çš„ç›®æ ‡ã€‚</p><p>ä¸è¿‡åœ¨å…·ä½“çš„æ“ä½œè¿‡ç¨‹ä¸Šï¼Œè·¯ç”±å™¨å’Œäº¤æ¢æœºæ˜¯æœ‰åŒºåˆ«çš„ã€‚</p><ul><li>å› ä¸º<strong>è·¯ç”±å™¨</strong>æ˜¯åŸºäº IP è®¾è®¡çš„ï¼Œä¿—ç§°<strong>ä¸‰å±‚</strong>ç½‘ç»œè®¾å¤‡ï¼Œè·¯ç”±å™¨çš„å„ä¸ªç«¯å£éƒ½å…·æœ‰ MAC åœ°å€å’Œ IP åœ°å€ï¼›</li><li>è€Œ<strong>äº¤æ¢æœº</strong>æ˜¯åŸºäºä»¥å¤ªç½‘è®¾è®¡çš„ï¼Œä¿—ç§°<strong>äºŒå±‚</strong>ç½‘ç»œè®¾å¤‡ï¼Œäº¤æ¢æœºçš„ç«¯å£ä¸å…·æœ‰ MAC åœ°å€ã€‚</li></ul><blockquote><p>è·¯ç”±å™¨åŸºæœ¬åŸç†</p></blockquote><p>è·¯ç”±å™¨çš„ç«¯å£å…·æœ‰ MAC åœ°å€ï¼Œå› æ­¤å®ƒå°±èƒ½å¤Ÿæˆä¸ºä»¥å¤ªç½‘çš„å‘é€æ–¹å’Œæ¥æ”¶æ–¹ï¼›åŒæ—¶è¿˜å…·æœ‰ IP åœ°å€ï¼Œä»è¿™ä¸ªæ„ä¹‰ä¸Šæ¥è¯´ï¼Œå®ƒå’Œè®¡ç®—æœºçš„ç½‘å¡æ˜¯ä¸€æ ·çš„ã€‚</p><p>å½“è½¬å‘åŒ…æ—¶ï¼Œé¦–å…ˆè·¯ç”±å™¨ç«¯å£ä¼šæ¥æ”¶å‘ç»™è‡ªå·±çš„ä»¥å¤ªç½‘åŒ…ï¼Œç„¶å<strong>è·¯ç”±è¡¨</strong>æŸ¥è¯¢è½¬å‘ç›®æ ‡ï¼Œå†ç”±ç›¸åº”çš„ç«¯å£ä½œä¸ºå‘é€æ–¹å°†ä»¥å¤ªç½‘åŒ…å‘é€å‡ºå»ã€‚</p><blockquote><p>è·¯ç”±å™¨çš„åŒ…æ¥æ”¶æ“ä½œ</p></blockquote><p>é¦–å…ˆï¼Œç”µä¿¡å·åˆ°è¾¾ç½‘çº¿æ¥å£éƒ¨åˆ†ï¼Œè·¯ç”±å™¨ä¸­çš„æ¨¡å—ä¼šå°†ç”µä¿¡å·è½¬æˆæ•°å­—ä¿¡å·ï¼Œç„¶åé€šè¿‡åŒ…æœ«å°¾çš„ <code>FCS</code> è¿›è¡Œé”™è¯¯æ ¡éªŒã€‚</p><p>å¦‚æœæ²¡é—®é¢˜åˆ™æ£€æŸ¥ MAC å¤´éƒ¨ä¸­çš„<strong>æ¥æ”¶æ–¹ MAC åœ°å€</strong>ï¼Œçœ‹çœ‹æ˜¯ä¸æ˜¯å‘ç»™è‡ªå·±çš„åŒ…ï¼Œå¦‚æœæ˜¯å°±æ”¾åˆ°æ¥æ”¶ç¼“å†²åŒºä¸­ï¼Œå¦åˆ™å°±ä¸¢å¼ƒè¿™ä¸ªåŒ…ã€‚</p><p>æ€»çš„æ¥è¯´ï¼Œè·¯ç”±å™¨çš„ç«¯å£éƒ½å…·æœ‰ MAC åœ°å€ï¼Œåªæ¥æ”¶ä¸è‡ªèº«åœ°å€åŒ¹é…çš„åŒ…ï¼Œé‡åˆ°ä¸åŒ¹é…çš„åŒ…åˆ™ç›´æ¥ä¸¢å¼ƒã€‚</p><blockquote><p>æŸ¥è¯¢è·¯ç”±è¡¨ç¡®å®šè¾“å‡ºç«¯å£</p></blockquote><p>å®ŒæˆåŒ…æ¥æ”¶æ“ä½œä¹‹åï¼Œè·¯ç”±å™¨å°±ä¼š<strong>å»æ‰</strong>åŒ…å¼€å¤´çš„ MAC å¤´éƒ¨ã€‚</p><p><strong>MAC å¤´éƒ¨çš„ä½œç”¨å°±æ˜¯å°†åŒ…é€è¾¾è·¯ç”±å™¨</strong>ï¼Œå…¶ä¸­çš„æ¥æ”¶æ–¹ MAC åœ°å€å°±æ˜¯è·¯ç”±å™¨ç«¯å£çš„ MAC åœ°å€ã€‚å› æ­¤ï¼Œå½“åŒ…åˆ°è¾¾è·¯ç”±å™¨ä¹‹åï¼ŒMAC å¤´éƒ¨çš„ä»»åŠ¡å°±å®Œæˆäº†ï¼Œäºæ˜¯ MAC å¤´éƒ¨å°±ä¼š<strong>è¢«ä¸¢å¼ƒ</strong>ã€‚</p><p>æ¥ä¸‹æ¥ï¼Œè·¯ç”±å™¨ä¼šæ ¹æ® MAC å¤´éƒ¨åæ–¹çš„ <code>IP</code> å¤´éƒ¨ä¸­çš„å†…å®¹è¿›è¡ŒåŒ…çš„è½¬å‘æ“ä½œã€‚</p><p>è½¬å‘æ“ä½œåˆ†ä¸ºå‡ ä¸ªé˜¶æ®µï¼Œé¦–å…ˆæ˜¯æŸ¥è¯¢<strong>è·¯ç”±è¡¨</strong>åˆ¤æ–­è½¬å‘ç›®æ ‡ã€‚</p><figure><img src="'+Te+'" alt="è·¯ç”±å™¨è½¬å‘" tabindex="0" loading="lazy"><figcaption>è·¯ç”±å™¨è½¬å‘</figcaption></figure><p>å…·ä½“çš„å·¥ä½œæµç¨‹æ ¹æ®ä¸Šå›¾ï¼Œä¸¾ä¸ªä¾‹å­ã€‚</p><p>å‡è®¾åœ°å€ä¸º <code>10.10.1.101</code> çš„è®¡ç®—æœºè¦å‘åœ°å€ä¸º <code>192.168.1.100</code> çš„æœåŠ¡å™¨å‘é€ä¸€ä¸ªåŒ…ï¼Œè¿™ä¸ªåŒ…å…ˆåˆ°è¾¾å›¾ä¸­çš„è·¯ç”±å™¨ã€‚</p><p>åˆ¤æ–­è½¬å‘ç›®æ ‡çš„ç¬¬ä¸€æ­¥ï¼Œå°±æ˜¯æ ¹æ®åŒ…çš„æ¥æ”¶æ–¹ IP åœ°å€æŸ¥è¯¢è·¯ç”±è¡¨ä¸­çš„ç›®æ ‡åœ°å€æ ï¼Œä»¥æ‰¾åˆ°ç›¸åŒ¹é…çš„è®°å½•ã€‚</p><p>è·¯ç”±åŒ¹é…å’Œå‰é¢è®²çš„ä¸€æ ·ï¼Œæ¯ä¸ªæ¡ç›®çš„å­ç½‘æ©ç å’Œ <code>192.168.1.100</code> IP åš <strong>&amp; ä¸è¿ç®—</strong>åï¼Œå¾—åˆ°çš„ç»“æœä¸å¯¹åº”æ¡ç›®çš„ç›®æ ‡åœ°å€è¿›è¡ŒåŒ¹é…ï¼Œå¦‚æœåŒ¹é…å°±ä¼šä½œä¸ºå€™é€‰è½¬å‘ç›®æ ‡ï¼Œå¦‚æœä¸åŒ¹é…å°±ç»§ç»­ä¸ä¸‹ä¸ªæ¡ç›®è¿›è¡Œè·¯ç”±åŒ¹é…ã€‚</p><p>å¦‚ç¬¬äºŒæ¡ç›®çš„å­ç½‘æ©ç  <code>255.255.255.0</code> ä¸ <code>192.168.1.100</code> IP åš <strong>&amp; ä¸è¿ç®—</strong>åï¼Œå¾—åˆ°ç»“æœæ˜¯ <code>192.168.1.0</code> ï¼Œè¿™ä¸ç¬¬äºŒæ¡ç›®çš„ç›®æ ‡åœ°å€ <code>192.168.1.0</code> åŒ¹é…ï¼Œè¯¥ç¬¬äºŒæ¡ç›®è®°å½•å°±ä¼šè¢«ä½œä¸ºè½¬å‘ç›®æ ‡ã€‚</p><p>å®åœ¨æ‰¾ä¸åˆ°åŒ¹é…è·¯ç”±æ—¶ï¼Œå°±ä¼šé€‰æ‹©<strong>é»˜è®¤è·¯ç”±</strong>ï¼Œè·¯ç”±è¡¨ä¸­å­ç½‘æ©ç ä¸º <code>0.0.0.0</code> çš„è®°å½•è¡¨ç¤ºã€Œé»˜è®¤è·¯ç”±ã€ã€‚</p><blockquote><p>è·¯ç”±å™¨çš„å‘é€æ“ä½œ</p></blockquote><p>æ¥ä¸‹æ¥å°±ä¼šè¿›å…¥åŒ…çš„<strong>å‘é€æ“ä½œ</strong>ã€‚</p><p>é¦–å…ˆï¼Œæˆ‘ä»¬éœ€è¦æ ¹æ®<strong>è·¯ç”±è¡¨çš„ç½‘å…³åˆ—</strong>åˆ¤æ–­å¯¹æ–¹çš„åœ°å€ã€‚</p><ul><li>å¦‚æœç½‘å…³æ˜¯ä¸€ä¸ª IP åœ°å€ï¼Œåˆ™è¿™ä¸ªIP åœ°å€å°±æ˜¯æˆ‘ä»¬è¦è½¬å‘åˆ°çš„ç›®æ ‡åœ°å€ï¼Œ<strong>è¿˜æœªæŠµè¾¾ç»ˆç‚¹</strong>ï¼Œè¿˜éœ€ç»§ç»­éœ€è¦è·¯ç”±å™¨è½¬å‘ã€‚</li><li>å¦‚æœç½‘å…³ä¸ºç©ºï¼Œåˆ™ IP å¤´éƒ¨ä¸­çš„æ¥æ”¶æ–¹ IP åœ°å€å°±æ˜¯è¦è½¬å‘åˆ°çš„ç›®æ ‡åœ°å€ï¼Œä¹Ÿæ˜¯å°±ç»ˆäºæ‰¾åˆ° IP åŒ…å¤´é‡Œçš„ç›®æ ‡åœ°å€äº†ï¼Œè¯´æ˜<strong>å·²æŠµè¾¾ç»ˆç‚¹</strong>ã€‚</li></ul><p>çŸ¥é“å¯¹æ–¹çš„ IP åœ°å€ä¹‹åï¼Œæ¥ä¸‹æ¥éœ€è¦é€šè¿‡ <code>ARP</code> åè®®æ ¹æ® IP åœ°å€æŸ¥è¯¢ MAC åœ°å€ï¼Œå¹¶å°†æŸ¥è¯¢çš„ç»“æœä½œä¸ºæ¥æ”¶æ–¹ MAC åœ°å€ã€‚</p><p>è·¯ç”±å™¨ä¹Ÿæœ‰ ARP ç¼“å­˜ï¼Œå› æ­¤é¦–å…ˆä¼šåœ¨ ARP ç¼“å­˜ä¸­æŸ¥è¯¢ï¼Œå¦‚æœæ‰¾ä¸åˆ°åˆ™å‘é€ ARP æŸ¥è¯¢è¯·æ±‚ã€‚</p><p>æ¥ä¸‹æ¥æ˜¯å‘é€æ–¹ MAC åœ°å€å­—æ®µï¼Œè¿™é‡Œå¡«å†™è¾“å‡ºç«¯å£çš„ MAC åœ°å€ã€‚è¿˜æœ‰ä¸€ä¸ªä»¥å¤ªç±»å‹å­—æ®µï¼Œå¡«å†™ <code>0800</code> ï¼ˆåå…­è¿›åˆ¶ï¼‰è¡¨ç¤º IP åè®®ã€‚</p><p>ç½‘ç»œåŒ…å®Œæˆåï¼Œæ¥ä¸‹æ¥ä¼šå°†å…¶è½¬æ¢æˆç”µä¿¡å·å¹¶é€šè¿‡ç«¯å£å‘é€å‡ºå»ã€‚è¿™ä¸€æ­¥çš„å·¥ä½œè¿‡ç¨‹å’Œè®¡ç®—æœºä¹Ÿæ˜¯ç›¸åŒçš„ã€‚</p><p>å‘é€å‡ºå»çš„ç½‘ç»œåŒ…ä¼šé€šè¿‡<strong>äº¤æ¢æœº</strong>åˆ°è¾¾ä¸‹ä¸€ä¸ªè·¯ç”±å™¨ã€‚ç”±äºæ¥æ”¶æ–¹ MAC åœ°å€å°±æ˜¯ä¸‹ä¸€ä¸ªè·¯ç”±å™¨çš„åœ°å€ï¼Œæ‰€ä»¥äº¤æ¢æœºä¼šæ ¹æ®è¿™ä¸€åœ°å€å°†åŒ…ä¼ è¾“åˆ°ä¸‹ä¸€ä¸ªè·¯ç”±å™¨ã€‚</p><p>æ¥ä¸‹æ¥ï¼Œä¸‹ä¸€ä¸ªè·¯ç”±å™¨ä¼šå°†åŒ…è½¬å‘ç»™å†ä¸‹ä¸€ä¸ªè·¯ç”±å™¨ï¼Œç»è¿‡å±‚å±‚è½¬å‘ä¹‹åï¼Œç½‘ç»œåŒ…å°±åˆ°è¾¾äº†æœ€ç»ˆçš„ç›®çš„åœ°ã€‚</p><p>ä¸çŸ¥ä½ å‘ç°äº†æ²¡æœ‰ï¼Œåœ¨ç½‘ç»œåŒ…ä¼ è¾“çš„è¿‡ç¨‹ä¸­ï¼Œ<strong>æº IP å’Œç›®æ ‡ IP å§‹ç»ˆæ˜¯ä¸ä¼šå˜çš„ï¼Œä¸€ç›´å˜åŒ–çš„æ˜¯ MAC åœ°å€</strong>ï¼Œå› ä¸ºéœ€è¦ MAC åœ°å€åœ¨ä»¥å¤ªç½‘å†…è¿›è¡Œ<strong>ä¸¤ä¸ªè®¾å¤‡</strong>ä¹‹é—´çš„åŒ…ä¼ è¾“ã€‚</p><blockquote><p>æ•°æ®åŒ…é€šè¿‡å¤šä¸ªè·¯ç”±å™¨é“å‹çš„å¸®åŠ©ï¼Œåœ¨ç½‘ç»œä¸–ç•Œé€”ç»äº†å¾ˆå¤šè·¯ç¨‹ï¼Œæœ€ç»ˆæŠµè¾¾äº†ç›®çš„åœ°çš„åŸé—¨ï¼åŸé—¨å€¼å®ˆçš„è·¯ç”±å™¨ï¼Œå‘ç°äº†è¿™ä¸ªå°å…„å¼Ÿæ•°æ®åŒ…åŸæ¥æ˜¯æ‰¾åŸå†…çš„äººï¼Œäºæ˜¯å®ƒå°±å°†æ•°æ®åŒ…é€è¿›äº†åŸå†…ï¼Œå†ç»ç”±åŸå†…çš„äº¤æ¢æœºå¸®åŠ©ä¸‹ï¼Œæœ€ç»ˆè½¬å‘åˆ°äº†ç›®çš„åœ°äº†ã€‚æ•°æ®åŒ…æ„Ÿæ…¨ä¸‡åƒçš„è¯´é“ï¼šâ€œå¤šè°¢è¿™ä¸€è·¯ä¸Šï¼Œå„è·¯å¤§ä¾ çš„ç›¸åŠ©ï¼â€</p></blockquote><h4 id="æœåŠ¡å™¨-ä¸-å®¢æˆ·ç«¯" tabindex="-1"><a class="header-anchor" href="#æœåŠ¡å™¨-ä¸-å®¢æˆ·ç«¯" aria-hidden="true">#</a> æœåŠ¡å™¨ ä¸ å®¢æˆ·ç«¯</h4><p>æ•°æ®åŒ…æŠµè¾¾äº†æœåŠ¡å™¨ï¼ŒæœåŠ¡å™¨è‚¯å®šé«˜å…´å‘€ï¼Œæ­£æ‰€è°“æœ‰æœ‹è‡ªè¿œæ–¹æ¥ï¼Œä¸äº¦ä¹ä¹ï¼Ÿ</p><p>æœåŠ¡å™¨é«˜å…´çš„ä¸å¾—äº†ï¼Œäºæ˜¯å¼€å§‹æ‰’æ•°æ®åŒ…çš„çš®ï¼å°±å¥½åƒä½ æ”¶åˆ°å¿«é€’ï¼Œèƒ½ä¸å…´å¥‹å—ï¼Ÿ</p><figure><img src="'+be+'" alt="ç½‘ç»œåˆ†å±‚æ¨¡å‹" tabindex="0" loading="lazy"><figcaption>ç½‘ç»œåˆ†å±‚æ¨¡å‹</figcaption></figure><p>æ•°æ®åŒ…æŠµè¾¾æœåŠ¡å™¨åï¼ŒæœåŠ¡å™¨ä¼šå…ˆæ‰’å¼€æ•°æ®åŒ…çš„ MAC å¤´éƒ¨ï¼ŒæŸ¥çœ‹æ˜¯å¦å’ŒæœåŠ¡å™¨è‡ªå·±çš„ MAC åœ°å€ç¬¦åˆï¼Œç¬¦åˆå°±å°†åŒ…æ”¶èµ·æ¥ã€‚</p><p>æ¥ç€ç»§ç»­æ‰’å¼€æ•°æ®åŒ…çš„ IP å¤´ï¼Œå‘ç° IP åœ°å€ç¬¦åˆï¼Œæ ¹æ® IP å¤´ä¸­åè®®é¡¹ï¼ŒçŸ¥é“è‡ªå·±ä¸Šå±‚æ˜¯ TCP åè®®ã€‚</p><p>äºæ˜¯ï¼Œæ‰’å¼€ TCP çš„å¤´ï¼Œé‡Œé¢æœ‰åºåˆ—å·ï¼Œéœ€è¦çœ‹ä¸€çœ‹è¿™ä¸ªåºåˆ—åŒ…æ˜¯ä¸æ˜¯æˆ‘æƒ³è¦çš„ï¼Œå¦‚æœæ˜¯å°±æ”¾å…¥ç¼“å­˜ä¸­ç„¶åè¿”å›ä¸€ä¸ª ACKï¼Œå¦‚æœä¸æ˜¯å°±ä¸¢å¼ƒã€‚TCPå¤´éƒ¨é‡Œé¢è¿˜æœ‰ç«¯å£å·ï¼Œ HTTP çš„æœåŠ¡å™¨æ­£åœ¨ç›‘å¬è¿™ä¸ªç«¯å£å·ã€‚</p><p>äºæ˜¯ï¼ŒæœåŠ¡å™¨è‡ªç„¶å°±çŸ¥é“æ˜¯ HTTP è¿›ç¨‹æƒ³è¦è¿™ä¸ªåŒ…ï¼Œäºæ˜¯å°±å°†åŒ…å‘ç»™ HTTP è¿›ç¨‹ã€‚</p><p>æœåŠ¡å™¨çš„ HTTP è¿›ç¨‹çœ‹åˆ°ï¼ŒåŸæ¥è¿™ä¸ªè¯·æ±‚æ˜¯è¦è®¿é—®ä¸€ä¸ªé¡µé¢ï¼Œäºæ˜¯å°±æŠŠè¿™ä¸ªç½‘é¡µå°è£…åœ¨ HTTP å“åº”æŠ¥æ–‡é‡Œã€‚</p><p>HTTP å“åº”æŠ¥æ–‡ä¹Ÿéœ€è¦ç©¿ä¸Š TCPã€IPã€MAC å¤´éƒ¨ï¼Œä¸è¿‡è¿™æ¬¡æ˜¯æºåœ°å€æ˜¯æœåŠ¡å™¨ IP åœ°å€ï¼Œç›®çš„åœ°å€æ˜¯å®¢æˆ·ç«¯ IP åœ°å€ã€‚</p><p>ç©¿å¥½å¤´éƒ¨è¡£æœåï¼Œä»ç½‘å¡å‡ºå»ï¼Œäº¤ç”±äº¤æ¢æœºè½¬å‘åˆ°å‡ºåŸçš„è·¯ç”±å™¨ï¼Œè·¯ç”±å™¨å°±æŠŠå“åº”æ•°æ®åŒ…å‘åˆ°äº†ä¸‹ä¸€ä¸ªè·¯ç”±å™¨ï¼Œå°±è¿™æ ·è·³å•Šè·³ã€‚</p><p>æœ€åè·³åˆ°äº†å®¢æˆ·ç«¯çš„åŸé—¨æŠŠå®ˆçš„è·¯ç”±å™¨ï¼Œè·¯ç”±å™¨æ‰’å¼€ IP å¤´éƒ¨å‘ç°æ˜¯è¦æ‰¾åŸå†…çš„äººï¼Œäºæ˜¯åˆæŠŠåŒ…å‘ç»™äº†åŸå†…çš„äº¤æ¢æœºï¼Œå†ç”±äº¤æ¢æœºè½¬å‘åˆ°å®¢æˆ·ç«¯ã€‚</p><p>å®¢æˆ·ç«¯æ”¶åˆ°äº†æœåŠ¡å™¨çš„å“åº”æ•°æ®åŒ…åï¼ŒåŒæ ·ä¹Ÿéå¸¸çš„é«˜å…´ï¼Œå®¢æˆ·èƒ½æ‹†å¿«é€’äº†ï¼</p><p>äºæ˜¯ï¼Œå®¢æˆ·ç«¯å¼€å§‹æ‰’çš®ï¼ŒæŠŠæ”¶åˆ°çš„æ•°æ®åŒ…çš„çš®æ‰’å‰© HTTP å“åº”æŠ¥æ–‡åï¼Œäº¤ç»™æµè§ˆå™¨å»æ¸²æŸ“é¡µé¢ï¼Œä¸€ä»½ç‰¹åˆ«çš„æ•°æ®åŒ…å¿«é€’ï¼Œå°±è¿™æ ·æ˜¾ç¤ºå‡ºæ¥äº†ï¼</p><p>æœ€åï¼Œå®¢æˆ·ç«¯è¦ç¦»å¼€äº†ï¼Œå‘æœåŠ¡å™¨å‘èµ·äº† TCP å››æ¬¡æŒ¥æ‰‹ï¼Œè‡³æ­¤åŒæ–¹çš„è¿æ¥å°±æ–­å¼€äº†ã€‚</p><h4 id="æ•°æ®åŒ…" tabindex="-1"><a class="header-anchor" href="#æ•°æ®åŒ…" aria-hidden="true">#</a> æ•°æ®åŒ…</h4><blockquote><p>ä¸‹é¢å†…å®¹çš„ ã€Œæˆ‘ã€ï¼Œä»£è¡¨ã€Œè‡­ç¾çš„æ•°æ®åŒ…è§’è‰²ã€ã€‚æ³¨ï¼šï¼ˆæ‹¬å·çš„å†…å®¹ï¼‰ä»£è¡¨æˆ‘çš„åæ§½ï¼Œä¸‰è¿å‘¸ï¼</p></blockquote><p>æˆ‘ä¸€å¼€å§‹æˆ‘è™½ç„¶å­¤å•ã€ä¸çŸ¥æ‰€æªï¼Œä½†æ²¡æœ‰åœæ»ä¸å‰ã€‚æˆ‘ä¾ç„¶æ»¡æ€€ä¿¡å¿ƒå’Œå‹‡æ°”å¼€å§‹äº†å¾é€”ã€‚ï¼ˆ<strong>ä½ å½“ç„¶æœ‰å‹‡æ°”ï¼Œä½ æ˜¯åº”ç”¨å±‚æ•°æ®ï¼Œåé¢æœ‰åº•å±‚å…„å¼Ÿå½“é å±±ï¼Œæˆ‘å‘¸ï¼</strong>ï¼‰</p><p>æˆ‘å¾ˆåº†å¹¸é‡åˆ°äº†å„è·¯ç¥é€šå¹¿å¤§çš„å¤§ä½¬ï¼Œæœ‰å¯é ä¼ è¾“çš„ TCPã€æœ‰è¿œç¨‹å®šä½åŠŸèƒ½çš„ IPã€æœ‰æŒ‡æ˜ä¸‹ä¸€ç«™ä½ç½®çš„ MAC ç­‰ï¼ˆ<strong>ä½ å½“ç„¶ä¼šé‡åˆ°ï¼Œå› ä¸ºéƒ½è¢«è®¡ç®—æœºå®‰æ’å¥½çš„ï¼Œæˆ‘å‘¸ï¼</strong>ï¼‰ã€‚</p><p>è¿™äº›å¤§ä½¬éƒ½ç»™æˆ‘å‰é¢åŠ ä¸Šäº†å¤´éƒ¨ï¼Œä½¿å¾—æˆ‘èƒ½åœ¨äº¤æ¢æœºå’Œè·¯ç”±å™¨çš„è½¬å‘ä¸‹ï¼ŒæŠµè¾¾åˆ°äº†ç›®çš„åœ°ï¼ï¼ˆ<strong>å“ï¼Œä½ ä¹Ÿä¸å®¹æ˜“ï¼Œä¸åæ§½äº†ï¼Œæ”¾è¿‡ä½ ï¼</strong>ï¼‰</p><p>è¿™ä¸€è·¯ä¸Šçš„ç»å†ï¼Œè®©æˆ‘è®¤è¯†åˆ°äº†ç½‘ç»œä¸–ç•Œä¸­å„è·¯å¤§ä¾ åä½œçš„é‡è¦æ€§ï¼Œæ˜¯ä»–ä»¬ç»´æŠ¤äº†ç½‘ç»œä¸–ç•Œçš„ç§©åºï¼Œæ„Ÿè°¢ä»–ä»¬ï¼ï¼ˆ<strong>æˆ‘å‘¸ï¼Œä½ åº”è¯¥æ„Ÿè°¢ä¼—å¤šè®¡ç®—æœºç§‘å­¦å®¶ï¼</strong>ï¼‰</p><h3 id="ç½‘å¡ä»æ”¶åˆ°æ•°æ®åˆ°è¿›ç¨‹æ‹¿åˆ°æ•°æ®çš„è¿‡ç¨‹" tabindex="-1"><a class="header-anchor" href="#ç½‘å¡ä»æ”¶åˆ°æ•°æ®åˆ°è¿›ç¨‹æ‹¿åˆ°æ•°æ®çš„è¿‡ç¨‹" aria-hidden="true">#</a> ç½‘å¡ä»æ”¶åˆ°æ•°æ®åˆ°è¿›ç¨‹æ‹¿åˆ°æ•°æ®çš„è¿‡ç¨‹</h3><ul><li><strong>ç‰©ç†å±‚</strong>ï¼šé¦–å…ˆï¼Œæ•°æ®åŒ…ä¼šé€šè¿‡ç‰©ç†åª’ä»‹ï¼ˆä¾‹å¦‚ï¼Œä»¥å¤ªç½‘ç”µç¼†æˆ–è€…Wi-Fiä¿¡å·ï¼‰åˆ°è¾¾ä½ çš„è®¾å¤‡çš„ç½‘ç»œæ¥å£å¡ï¼ˆç½‘å¡ï¼‰ã€‚åœ¨è¿™ä¸ªé˜¶æ®µï¼Œæ•°æ®åŒ…æ˜¯ç”±äºŒè¿›åˆ¶ä¿¡å·ç»„æˆã€‚</li><li><strong>æ•°æ®é“¾è·¯å±‚</strong>ï¼šæ¥ç€ï¼Œç½‘å¡å°†è¿™äº›äºŒè¿›åˆ¶ä¿¡å·è½¬åŒ–ä¸ºæ•°æ®å¸§ã€‚æ¯ä¸€ä¸ªæ•°æ®å¸§åŒ…å«æœ‰ç›®æ ‡MACåœ°å€ã€æºMACåœ°å€ã€æœ‰æ•ˆè½½è·ï¼ˆå³å®é™…çš„æ•°æ®ï¼‰å’Œä¸€äº›å…¶å®ƒçš„æ§åˆ¶ä¿¡æ¯ã€‚</li><li><strong>ç½‘ç»œå±‚</strong>ï¼šç½‘å¡æŠŠè¿™äº›æ•°æ®å¸§ä¼ ç»™è®¾å¤‡çš„æ“ä½œç³»ç»Ÿã€‚æ“ä½œç³»ç»Ÿåœ¨ç½‘ç»œå±‚å°†æ•°æ®å¸§è§£å°è£…ä¸ºæ•°æ®åŒ…ï¼Œå¹¶æ ¹æ®å…¶ä¸­çš„IPåœ°å€è¿›è¡Œè·¯ç”±ã€‚</li><li><strong>ä¼ è¾“å±‚</strong>ï¼šæ•°æ®åŒ…ç»§ç»­å‘ä¸Šåˆ°è¾¾ä¼ è¾“å±‚ï¼Œåœ¨è¿™ä¸€å±‚ï¼Œæ•°æ®åŒ…ä¼šè¢«è¿›ä¸€æ­¥è§£å°è£…ä¸ºæ•°æ®æ®µï¼Œå¹¶æ ¹æ®å…¶ä¸­çš„ç«¯å£å·ï¼Œå†³å®šå°†æ•°æ®å‘é€ç»™å“ªä¸ªåº”ç”¨ç¨‹åºã€‚</li><li><strong>åº”ç”¨å±‚</strong>ï¼šæœ€åï¼Œæ•°æ®æ®µä¼šè¢«ä¼ è¾“åˆ°åº”ç”¨å±‚ï¼Œæ­¤æ—¶ï¼Œæ“ä½œç³»ç»Ÿçš„å†…æ ¸æŠŠæ•°æ®ä»å†…æ ¸ç©ºé—´å¤åˆ¶åˆ°ç”¨æˆ·ç©ºé—´ï¼Œåº”ç”¨ç¨‹åºå¯ä»¥é€šè¿‡ç³»ç»Ÿè°ƒç”¨ï¼ˆä¾‹å¦‚ï¼ŒUnixçš„readæˆ–Windowsçš„recvï¼‰æ¥è¯»å–è¿™äº›æ•°æ®ã€‚</li><li><strong>ç³»ç»Ÿè°ƒç”¨</strong>ï¼šåº”ç”¨ç¨‹åºé€šè¿‡ç³»ç»Ÿè°ƒç”¨ï¼ˆå¦‚readæˆ–recvï¼‰ä»å†…æ ¸ç©ºé—´è·å–æ•°æ®ï¼Œç„¶ååœ¨ç”¨æˆ·ç©ºé—´è¿›è¡Œå¤„ç†ã€‚</li></ul><h3 id="tcpå¦‚ä½•ä¿è¯å¯é ä¼ è¾“" tabindex="-1"><a class="header-anchor" href="#tcpå¦‚ä½•ä¿è¯å¯é ä¼ è¾“" aria-hidden="true">#</a> TCPå¦‚ä½•ä¿è¯å¯é ä¼ è¾“ï¼Ÿ</h3><ol><li>åº”ç”¨æ•°æ®è¢«åˆ†å‰²æˆ TCP è®¤ä¸ºæœ€é€‚åˆå‘é€çš„æ•°æ®å—ã€‚</li><li>TCP ç»™å‘é€çš„æ¯ä¸€ä¸ªåŒ…è¿›è¡Œç¼–å·ï¼Œæ¥æ”¶æ–¹å¯¹æ•°æ®åŒ…è¿›è¡Œæ’åºï¼ŒæŠŠæœ‰åºæ•°æ®ä¼ é€ç»™åº”ç”¨å±‚ã€‚</li><li><strong>æ ¡éªŒå’Œï¼š</strong> TCP å°†ä¿æŒå®ƒé¦–éƒ¨å’Œæ•°æ®çš„æ£€éªŒå’Œã€‚è¿™æ˜¯ä¸€ä¸ªç«¯åˆ°ç«¯çš„æ£€éªŒå’Œï¼Œç›®çš„æ˜¯æ£€æµ‹æ•°æ®åœ¨ä¼ è¾“è¿‡ç¨‹ä¸­çš„ä»»ä½•å˜åŒ–ã€‚å¦‚æœæ”¶åˆ°æ®µçš„æ£€éªŒå’Œæœ‰å·®é”™ï¼ŒTCP å°†ä¸¢å¼ƒè¿™ä¸ªæŠ¥æ–‡æ®µå’Œä¸ç¡®è®¤æ”¶åˆ°æ­¤æŠ¥æ–‡æ®µã€‚</li><li>TCP çš„æ¥æ”¶ç«¯ä¼šä¸¢å¼ƒé‡å¤çš„æ•°æ®ã€‚</li><li><strong>æµé‡æ§åˆ¶ï¼š</strong> TCP è¿æ¥çš„æ¯ä¸€æ–¹éƒ½æœ‰å›ºå®šå¤§å°çš„ç¼“å†²ç©ºé—´ï¼ŒTCP çš„æ¥æ”¶ç«¯åªå…è®¸å‘é€ç«¯å‘é€æ¥æ”¶ç«¯ç¼“å†²åŒºèƒ½æ¥çº³çš„æ•°æ®ã€‚å½“æ¥æ”¶æ–¹æ¥ä¸åŠå¤„ç†å‘é€æ–¹çš„æ•°æ®ï¼Œèƒ½æç¤ºå‘é€æ–¹é™ä½å‘é€çš„é€Ÿç‡ï¼Œé˜²æ­¢åŒ…ä¸¢å¤±ã€‚TCP ä½¿ç”¨çš„æµé‡æ§åˆ¶åè®®æ˜¯å¯å˜å¤§å°çš„æ»‘åŠ¨çª—å£åè®®ã€‚ ï¼ˆTCP åˆ©ç”¨æ»‘åŠ¨çª—å£å®ç°æµé‡æ§åˆ¶ï¼‰</li><li><strong>æ‹¥å¡æ§åˆ¶ï¼š</strong> å½“ç½‘ç»œæ‹¥å¡æ—¶ï¼Œå‡å°‘æ•°æ®çš„å‘é€ã€‚</li><li><strong>ARQ åè®®ï¼š</strong> ä¹Ÿæ˜¯ä¸ºäº†å®ç°å¯é ä¼ è¾“çš„ï¼Œå®ƒçš„åŸºæœ¬åŸç†å°±æ˜¯æ¯å‘å®Œä¸€ä¸ªåˆ†ç»„å°±åœæ­¢å‘é€ï¼Œç­‰å¾…å¯¹æ–¹ç¡®è®¤ã€‚åœ¨æ”¶åˆ°ç¡®è®¤åå†å‘ä¸‹ä¸€ä¸ªåˆ†ç»„ã€‚</li><li><strong>è¶…æ—¶é‡ä¼ ï¼š</strong> å½“ TCP å‘å‡ºä¸€ä¸ªæ®µåï¼Œå®ƒå¯åŠ¨ä¸€ä¸ªå®šæ—¶å™¨ï¼Œç­‰å¾…ç›®çš„ç«¯ç¡®è®¤æ”¶åˆ°è¿™ä¸ªæŠ¥æ–‡æ®µã€‚å¦‚æœä¸èƒ½åŠæ—¶æ”¶åˆ°ä¸€ä¸ªç¡®è®¤ï¼Œå°†é‡å‘è¿™ä¸ªæŠ¥æ–‡æ®µã€‚</li></ol><h3 id="â­ï¸tcp-ä¸‰æ¬¡æ¡æ‰‹å’Œå››æ¬¡æŒ¥æ‰‹-æé™æ‹“å±•" tabindex="-1"><a class="header-anchor" href="#â­ï¸tcp-ä¸‰æ¬¡æ¡æ‰‹å’Œå››æ¬¡æŒ¥æ‰‹-æé™æ‹“å±•" aria-hidden="true">#</a> â­ï¸TCP ä¸‰æ¬¡æ¡æ‰‹å’Œå››æ¬¡æŒ¥æ‰‹ï¼ˆ+++æé™æ‹“å±•ï¼‰</h3>',201),ut={href:"https://xiaolincoding.com/network/3_tcp/tcp_interview.html#tcp-%E8%BF%9E%E6%8E%A5%E5%BB%BA%E7%AB%8B",target:"_blank",rel:"noopener noreferrer"},ht=n('<blockquote><p>å‰ææ¦‚è¦ï¼š</p><p><em>SYNï¼ˆåŒæ­¥åºåˆ—ç¼–å· <strong>Synchronize Sequence Numbers</strong> ï¼‰</em>ï¼šè¯¥ä½ä¸º <code>1</code> æ—¶ï¼Œè¡¨ç¤ºå¸Œæœ›å»ºç«‹è¿æ¥ï¼Œå¹¶åœ¨å…¶ã€Œåºåˆ—å·ã€çš„å­—æ®µè¿›è¡Œåºåˆ—å·åˆå§‹å€¼çš„è®¾å®šã€‚</p><p><em>ACKï¼ˆç¡®è®¤å­—ç¬¦ <strong>Acknowledge character</strong>ï¼‰</em>ï¼šè¯¥ä½ä¸º <code>1</code> æ—¶ï¼Œã€Œç¡®è®¤åº”ç­”ã€çš„å­—æ®µå˜ä¸ºæœ‰æ•ˆï¼ŒTCP è§„å®šé™¤äº†æœ€åˆå»ºç«‹è¿æ¥æ—¶çš„ <code>SYN</code> åŒ…ä¹‹å¤–è¯¥ä½å¿…é¡»è®¾ç½®ä¸º <code>1</code> ã€‚</p></blockquote><figure><img src="'+Ce+'" alt="image-20220622162158478" tabindex="0" loading="lazy"><figcaption>image-20220622162158478</figcaption></figure><ul><li>å®¢æˆ·ç«¯â€“å‘é€å¸¦æœ‰ SYN æ ‡å¿—çš„æ•°æ®åŒ…â€“ä¸€æ¬¡æ¡æ‰‹â€“æœåŠ¡ç«¯</li><li>æœåŠ¡ç«¯â€“å‘é€å¸¦æœ‰ SYN/ACK æ ‡å¿—çš„æ•°æ®åŒ…â€“äºŒæ¬¡æ¡æ‰‹â€“å®¢æˆ·ç«¯</li><li>å®¢æˆ·ç«¯â€“å‘é€å¸¦æœ‰å¸¦æœ‰ ACK æ ‡å¿—çš„æ•°æ®åŒ…â€“ä¸‰æ¬¡æ¡æ‰‹â€“æœåŠ¡ç«¯</li></ul><p>or å¯ä»¥è¿™æ ·å›ç­”ğŸ§â€â™‚ï¸ï¼š</p><ol><li>ç¬¬ä¸€æ¬¡æ¡æ‰‹ğŸ¤ï¼šå®¢æˆ·ç«¯ç»™æœåŠ¡å™¨å‘é€ä¸€ä¸ª SYN æŠ¥æ–‡ã€‚</li><li>ç¬¬äºŒæ¬¡æ¡æ‰‹ğŸ¤ï¼šæœåŠ¡å™¨æ”¶åˆ° SYN æŠ¥æ–‡ä¹‹åï¼Œä¼šåº”ç­”ä¸€ä¸ª SYN+ACK æŠ¥æ–‡ã€‚</li><li>ç¬¬ä¸‰æ¬¡æ¡æ‰‹ğŸ¤ï¼šå®¢æˆ·ç«¯æ”¶åˆ° SYN+ACK æŠ¥æ–‡ä¹‹åï¼Œä¼šå›åº”ä¸€ä¸ª ACK æŠ¥æ–‡ã€‚</li></ol><p>æœåŠ¡å™¨æ”¶åˆ° ACK æŠ¥æ–‡ä¹‹åï¼Œä¸‰æ¬¡æ¡æ‰‹å»ºç«‹å®Œæˆã€‚</p><blockquote><p>å¼ºåŒ–ç†è§£ï¼š</p><p>Aï¼šæ˜¯Bå—ï¼Ÿæˆ‘è¦è·Ÿä½ é€šä¿¡ï¼Œå¬å¾—åˆ°æˆ‘è¯´è¯å—ï¼Ÿ Bï¼šå¯ä»¥é€šä¿¡ï¼Œä½ å¬å¾—åˆ°æˆ‘è¯´è¯å—ï¼Ÿ Aï¼šæˆ‘ä¹Ÿå¬å¾—åˆ°ã€‚</p></blockquote><blockquote><p>å‰ææ¦‚è¦ï¼š</p><p><em>FINï¼ˆç»ˆæ­¢ <strong>FINish</strong>ï¼‰</em>ï¼šè¯¥ä½ä¸º <code>1</code> æ—¶ï¼Œè¡¨ç¤ºä»Šåä¸ä¼šå†æœ‰æ•°æ®å‘é€ï¼Œå¸Œæœ›æ–­å¼€è¿æ¥ã€‚å½“é€šä¿¡ç»“æŸå¸Œæœ›æ–­å¼€è¿æ¥æ—¶ï¼Œé€šä¿¡åŒæ–¹çš„ä¸»æœºä¹‹é—´å°±å¯ä»¥ç›¸äº’äº¤æ¢ <code>FIN</code> ä½ä¸º 1 çš„ TCP æ®µã€‚</p></blockquote><figure><img src="'+Ae+'" alt="image-20220622171739797" tabindex="0" loading="lazy"><figcaption>image-20220622171739797</figcaption></figure><ul><li>å®¢æˆ·ç«¯-å‘é€ä¸€ä¸ª FINï¼Œç”¨æ¥å…³é—­å®¢æˆ·ç«¯åˆ°æœåŠ¡å™¨çš„æ•°æ®ä¼ é€</li><li>æœåŠ¡å™¨-æ”¶åˆ°è¿™ä¸ª FINï¼Œå®ƒå‘å›ä¸€ä¸ª ACKï¼Œç¡®è®¤åºå·ä¸ºæ”¶åˆ°çš„åºå·åŠ  1 ã€‚å’Œ SYN ä¸€æ ·ï¼Œä¸€ä¸ª FIN å°†å ç”¨ä¸€ä¸ªåºå·</li><li>æœåŠ¡å™¨-å…³é—­ä¸å®¢æˆ·ç«¯çš„è¿æ¥ï¼Œå‘é€ä¸€ä¸ª FIN ç»™å®¢æˆ·ç«¯</li><li>å®¢æˆ·ç«¯-å‘å› ACK æŠ¥æ–‡ç¡®è®¤ï¼Œå¹¶å°†ç¡®è®¤åºå·è®¾ç½®ä¸ºæ”¶åˆ°åºå·åŠ  1</li></ul><blockquote><p>å¼ºåŒ–ç†è§£ï¼š</p><p>Aï¼šå‘¼å«Bï¼Œæˆ‘è¦è·Ÿä½ æ–­å¼€ã€‚ Bï¼šçŸ¥é“äº†ï¼Œç­‰ä¸€ä¸‹æˆ‘è¿˜æœ‰è¯æ²¡è¯´å®Œ Bï¼šæˆ‘è¯´å®Œäº†ï¼Œå¯ä»¥æ–­å¼€äº† Aï¼šå¥½çš„</p><hr><p>Aï¼šå›°äº†ï¼Œåœ¨å¹²å˜›ï¼Ÿ Bï¼šåœ¨åˆ·è§†é¢‘ã€‚ Bï¼šä½ è¦ç¡äº†å—ï¼Ÿ Aï¼šå¯¹ï¼Œæ™šå®‰ã€‚ï¼ˆç­‰å¥¹çœ‹åˆ°æ¶ˆæ¯å®‰å¿ƒå…¥ç¡ï¼‰</p></blockquote><h5 id="æé™æ‹“å±•" tabindex="-1"><a class="header-anchor" href="#æé™æ‹“å±•" aria-hidden="true">#</a> æé™æ‹“å±•</h5>',12),ft={href:"https://www.bilibili.com/video/BV1kV411j7hA?vd_source=e300c0e56286b6c321abd6aac8da8682",target:"_blank",rel:"noopener noreferrer"},mt=e("blockquote",null,[e("p",null,"ä¸ºä»€ä¹ˆéœ€è¦ä¸‰æ¬¡æ¡æ‰‹ï¼Ÿä¸¤æ¬¡ä¸è¡Œï¼Ÿ")],-1),Pt=e("ul",null,[e("li",null,"ç¬¬ä¸€æ¬¡æ¡æ‰‹ï¼šå®¢æˆ·ç«¯å‘é€ç½‘ç»œåŒ…ï¼ŒæœåŠ¡ç«¯æ”¶åˆ°äº†ã€‚è¿™æ ·æœåŠ¡ç«¯å°±èƒ½å¾—å‡ºç»“è®ºï¼šå®¢æˆ·ç«¯çš„å‘é€èƒ½åŠ›ã€æœåŠ¡ç«¯çš„æ¥æ”¶èƒ½åŠ›æ˜¯æ­£å¸¸çš„ã€‚"),e("li",null,"ç¬¬äºŒæ¬¡æ¡æ‰‹ï¼šæœåŠ¡ç«¯å‘åŒ…ï¼Œå®¢æˆ·ç«¯æ”¶åˆ°äº†ã€‚è¿™æ ·å®¢æˆ·ç«¯å°±èƒ½å¾—å‡ºç»“è®ºï¼šæœåŠ¡ç«¯çš„æ¥æ”¶ã€å‘é€èƒ½åŠ›ï¼Œå®¢æˆ·ç«¯çš„æ¥æ”¶ã€å‘é€èƒ½åŠ›æ˜¯æ­£å¸¸çš„ã€‚ä¸è¿‡æ­¤æ—¶æœåŠ¡å™¨å¹¶ä¸èƒ½ç¡®è®¤å®¢æˆ·ç«¯çš„æ¥æ”¶èƒ½åŠ›æ˜¯å¦æ­£å¸¸ã€‚"),e("li",null,"ç¬¬ä¸‰æ¬¡æ¡æ‰‹ï¼šå®¢æˆ·ç«¯å‘åŒ…ï¼ŒæœåŠ¡ç«¯æ”¶åˆ°äº†ã€‚è¿™æ ·æœåŠ¡ç«¯å°±èƒ½å¾—å‡ºç»“è®ºï¼šå®¢æˆ·ç«¯çš„æ¥æ”¶ã€å‘é€èƒ½åŠ›æ­£å¸¸ï¼ŒæœåŠ¡å™¨è‡ªå·±çš„å‘é€ã€æ¥æ”¶èƒ½åŠ›ä¹Ÿæ­£å¸¸ã€‚")],-1),Tt=e("p",null,"å› æ­¤ï¼Œéœ€è¦ä¸‰æ¬¡æ¡æ‰‹æ‰èƒ½ç¡®è®¤åŒæ–¹çš„æ¥æ”¶ä¸å‘é€èƒ½åŠ›æ˜¯å¦æ­£å¸¸ã€‚",-1),bt=e("p",null,"å¦å¤–è¿˜æœ‰ï¼š",-1),Ct={href:"https://www.xiaolincoding.com/network/3_tcp/tcp_interview.html#%E7%AC%AC%E4%B8%80%E6%AC%A1%E6%8F%A1%E6%89%8B%E4%B8%A2%E5%A4%B1%E4%BA%86-%E4%BC%9A%E5%8F%91%E7%94%9F%E4%BB%80%E4%B9%88",target:"_blank",rel:"noopener noreferrer"},At={href:"https://www.xiaolincoding.com/network/3_tcp/tcp_interview.html#%E7%AC%AC%E4%BA%8C%E6%AC%A1%E6%8F%A1%E6%89%8B%E4%B8%A2%E5%A4%B1%E4%BA%86-%E4%BC%9A%E5%8F%91%E7%94%9F%E4%BB%80%E4%B9%88",target:"_blank",rel:"noopener noreferrer"},kt={href:"https://www.xiaolincoding.com/network/3_tcp/tcp_interview.html#%E7%AC%AC%E4%B8%89%E6%AC%A1%E6%8F%A1%E6%89%8B%E4%B8%A2%E5%A4%B1%E4%BA%86-%E4%BC%9A%E5%8F%91%E7%94%9F%E4%BB%80%E4%B9%88",target:"_blank",rel:"noopener noreferrer"},St=e("blockquote",null,[e("p",null,"ä¸ºä»€ä¹ˆéœ€è¦å››æ¬¡æŒ¥æ‰‹ï¼Ÿä¸‰æ¬¡ä¸è¡Œï¼Ÿ")],-1),wt={href:"https://www.zhihu.com/question/50646354",target:"_blank",rel:"noopener noreferrer"},It=e("p",null,"åˆšå¼€å§‹åŒæ–¹éƒ½å¤„äº establised çŠ¶æ€ï¼Œå‡å¦‚æ˜¯å®¢æˆ·ç«¯å…ˆå‘èµ·å…³é—­è¯·æ±‚ï¼Œåˆ™ï¼š",-1),_t=e("ol",null,[e("li",null,"ç¬¬ä¸€æ¬¡æŒ¥æ‰‹ï¼šå®¢æˆ·ç«¯å‘é€ä¸€ä¸ª FIN æŠ¥æ–‡ï¼ŒæŠ¥æ–‡ä¸­ä¼šæŒ‡å®šä¸€ä¸ªåºåˆ—å·ã€‚æ­¤æ—¶å®¢æˆ·ç«¯å¤„äºFIN_WAIT1çŠ¶æ€ã€‚"),e("li",null,"ç¬¬äºŒæ¬¡æŒ¥æ‰‹ï¼šæœåŠ¡ç«¯æ”¶åˆ° FIN ä¹‹åï¼Œä¼šå‘é€ ACK æŠ¥æ–‡ï¼Œä¸”æŠŠå®¢æˆ·ç«¯çš„åºåˆ—å·å€¼ + 1 ä½œä¸º ACK æŠ¥æ–‡çš„åºåˆ—å·å€¼ï¼Œè¡¨æ˜å·²ç»æ”¶åˆ°å®¢æˆ·ç«¯çš„æŠ¥æ–‡äº†ï¼Œæ­¤æ—¶æœåŠ¡ç«¯å¤„äº CLOSE_WAITçŠ¶æ€ã€‚"),e("li",null,"ç¬¬ä¸‰æ¬¡æŒ¥æ‰‹ï¼šå¦‚æœæœåŠ¡ç«¯ä¹Ÿæƒ³æ–­å¼€è¿æ¥äº†ï¼Œå’Œå®¢æˆ·ç«¯çš„ç¬¬ä¸€æ¬¡æŒ¥æ‰‹ä¸€æ ·ï¼Œå‘ç»™ FIN æŠ¥æ–‡ï¼Œä¸”æŒ‡å®šä¸€ä¸ªåºåˆ—å·ã€‚æ­¤æ—¶æœåŠ¡ç«¯å¤„äº LAST_ACK çš„çŠ¶æ€ã€‚"),e("li",null,"ç¬¬å››æ¬¡æŒ¥æ‰‹ï¼šå®¢æˆ·ç«¯æ”¶åˆ° FIN ä¹‹åï¼Œä¸€æ ·å‘é€ä¸€ä¸ª ACK æŠ¥æ–‡ä½œä¸ºåº”ç­”ï¼Œä¸”æŠŠæœåŠ¡ç«¯çš„åºåˆ—å·å€¼ + 1 ä½œä¸ºè‡ªå·± ACK æŠ¥æ–‡çš„åºåˆ—å·å€¼ï¼Œæ­¤æ—¶å®¢æˆ·ç«¯å¤„äº TIME_WAIT çŠ¶æ€ã€‚éœ€è¦è¿‡ä¸€é˜µå­ä»¥ç¡®ä¿æœåŠ¡ç«¯æ”¶åˆ°è‡ªå·±çš„ ACK æŠ¥æ–‡ä¹‹åæ‰ä¼šè¿›å…¥ CLOSED çŠ¶æ€"),e("li",null,"æœåŠ¡ç«¯æ”¶åˆ° ACK æŠ¥æ–‡ä¹‹åï¼Œå°±å¤„äºå…³é—­è¿æ¥äº†ï¼Œå¤„äº CLOSED çŠ¶æ€ã€‚")],-1),Et=e("p",null,"å¦å¤–æ¨èé˜…è¯»ï¼š",-1),Nt={href:"https://www.xiaolincoding.com/network/3_tcp/tcp_interview.html#%E7%AC%AC%E4%B8%80%E6%AC%A1%E6%8C%A5%E6%89%8B%E4%B8%A2%E5%A4%B1%E4%BA%86-%E4%BC%9A%E5%8F%91%E7%94%9F%E4%BB%80%E4%B9%88",target:"_blank",rel:"noopener noreferrer"},vt={href:"https://www.xiaolincoding.com/network/3_tcp/tcp_interview.html#%E7%AC%AC%E4%BA%8C%E6%AC%A1%E6%8C%A5%E6%89%8B%E4%B8%A2%E5%A4%B1%E4%BA%86-%E4%BC%9A%E5%8F%91%E7%94%9F%E4%BB%80%E4%B9%88",target:"_blank",rel:"noopener noreferrer"},Lt={href:"https://www.xiaolincoding.com/network/3_tcp/tcp_interview.html#%E7%AC%AC%E4%B8%89%E6%AC%A1%E6%8C%A5%E6%89%8B%E4%B8%A2%E5%A4%B1%E4%BA%86-%E4%BC%9A%E5%8F%91%E7%94%9F%E4%BB%80%E4%B9%88",target:"_blank",rel:"noopener noreferrer"},xt={href:"https://www.xiaolincoding.com/network/3_tcp/tcp_interview.html#%E7%AC%AC%E5%9B%9B%E6%AC%A1%E6%8C%A5%E6%89%8B%E4%B8%A2%E5%A4%B1%E4%BA%86-%E4%BC%9A%E5%8F%91%E7%94%9F%E4%BB%80%E4%B9%88",target:"_blank",rel:"noopener noreferrer"},yt=e("blockquote",null,[e("p",null,"ä¸ºä»€ä¹ˆç¬¬äºŒæ¬¡æŒ¥æ‰‹å’Œç¬¬ä¸‰æ¬¡æŒ¥æ‰‹ä¸èƒ½åƒæ¡æ‰‹ä¸€æ ·åœ¨åŒä¸€ä¸ªåŒ…ä¸­è®¾ç½® ACK å’Œ SYNï¼Ÿ")],-1),Dt={href:"https://stackoverflow.com/questions/46212623/why-tcp-termination-need-4-way-handshake",target:"_blank",rel:"noopener noreferrer"},Bt={href:"http://www.tcpipguide.com/index.html",target:"_blank",rel:"noopener noreferrer"},qt=n('<p>åœ¨æ­£å¸¸æƒ…å†µä¸‹ï¼Œæ¯ä¸€æ–¹é€šè¿‡å‘é€ä¸€ä¸ªè®¾ç½®äº†FINï¼ˆç»“æŸï¼‰ä½çš„ç‰¹æ®Šæ¶ˆæ¯æ¥ç»ˆæ­¢å…¶è¿æ¥çš„æœ«ç«¯ã€‚è¿™ä¸ªæ¶ˆæ¯ï¼Œæœ‰æ—¶è¢«ç§°ä¸ºFINï¼Œä½œä¸ºå¯¹å¦ä¸€è®¾å¤‡çš„è¿æ¥ç»ˆæ­¢è¯·æ±‚ï¼ŒåŒæ—¶ä¹Ÿå¯èƒ½åƒæ™®é€šç½‘æ®µä¸€æ ·æºå¸¦æ•°æ®ã€‚æ”¶åˆ°FINçš„è®¾å¤‡ä¼šå¯¹FINè¿›è¡Œç¡®è®¤ï¼Œä»¥è¡¨ç¤ºæ”¶åˆ°äº†å®ƒã€‚åœ¨åŒæ–¹é€šè¿‡å‘é€FINå’Œæ¥æ”¶ACKå®Œæˆå…³é—­ç¨‹åºä¹‹å‰ï¼Œæ•´ä¸ªè¿æ¥ä¸è¢«è®¤ä¸ºæ˜¯ç»ˆæ­¢çš„ã€‚ å› æ­¤ï¼Œç»ˆæ­¢å¹¶ä¸åƒå»ºç«‹é‚£æ ·æ˜¯ä¸€ä¸ªä¸‰æ–¹æ¡æ‰‹ï¼šå®ƒæ˜¯ä¸€å¯¹åŒå‘æ¡æ‰‹ã€‚åœ¨æ­£å¸¸çš„è¿æ¥å…³é—­è¿‡ç¨‹ä¸­ï¼Œè¿æ¥ä¸­çš„ä¸¤ä¸ªè®¾å¤‡æ‰€ç»å†çš„çŠ¶æ€æ˜¯ä¸åŒçš„ï¼Œå› ä¸ºå‘èµ·å…³é—­çš„è®¾å¤‡çš„è¡Œä¸ºå¿…é¡»ä¸æ¥æ”¶ç»ˆæ­¢è¯·æ±‚çš„è®¾å¤‡ä¸åŒã€‚ç‰¹åˆ«æ˜¯ï¼Œæ”¶åˆ°åˆå§‹ç»ˆæ­¢è¯·æ±‚çš„è®¾å¤‡ä¸Šçš„TCPå¿…é¡»é€šçŸ¥å…¶åº”ç”¨è¿›ç¨‹ï¼Œå¹¶ç­‰å¾…è¯¥è¿›ç¨‹å‡†å¤‡ç»§ç»­çš„ä¿¡å·ã€‚å‘èµ·çš„è®¾å¤‡ä¸éœ€è¦è¿™æ ·åšï¼Œå› ä¸ºåº”ç”¨ç¨‹åºæ˜¯é¦–å…ˆå¼€å§‹çš„ã€‚</p><p>æ€»ç»“ï¼šç¬¬äºŒæ¬¡æŒ¥æ‰‹å’Œç¬¬ä¸‰æ¬¡æŒ¥æ‰‹ä¸èƒ½åˆå¹¶æˆä¸€ä¸ªåŒ…ï¼Œå› ä¸ºå®ƒä»¬å±äºä¸åŒçš„çŠ¶æ€ã€‚ä½†æ˜¯ï¼Œå¦‚æœæœåŠ¡å™¨åœ¨ä»å®¢æˆ·ç«¯æ”¶åˆ° FIN æ—¶æ²¡æœ‰æ›´å¤šçš„æ•°æ®æˆ–æ ¹æœ¬æ²¡æœ‰è¦å‘é€çš„æ•°æ®ï¼Œé‚£ä¹ˆå¯ä»¥å°†ç¬¬äºŒæ¬¡æŒ¥æ‰‹å’Œç¬¬ä¸‰æ¬¡æŒ¥æ‰‹åˆå¹¶åˆ°ä¸€ä¸ªåŒ…ä¸­ã€‚</p><h4 id="æ¡æ‰‹çš„ä¸€äº›ç»†èŠ‚-å…¨è¿æ¥é˜Ÿåˆ—å’ŒåŠè¿æ¥é˜Ÿåˆ—" tabindex="-1"><a class="header-anchor" href="#æ¡æ‰‹çš„ä¸€äº›ç»†èŠ‚-å…¨è¿æ¥é˜Ÿåˆ—å’ŒåŠè¿æ¥é˜Ÿåˆ—" aria-hidden="true">#</a> æ¡æ‰‹çš„ä¸€äº›ç»†èŠ‚ï¼ˆå…¨è¿æ¥é˜Ÿåˆ—å’ŒåŠè¿æ¥é˜Ÿåˆ—ï¼‰</h4><p><strong>å‰è¨€</strong></p><p>æœåŠ¡ç«¯ä»£ç ï¼Œå¯¹socketæ‰§è¡Œbindæ–¹æ³•å¯ä»¥ç»‘å®šç›‘å¬ç«¯å£ï¼Œç„¶åæ‰§è¡Œlistenæ–¹æ³•åï¼Œå°±ä¼šè¿›å…¥ç›‘å¬ï¼ˆLISTENï¼‰çŠ¶æ€ã€‚å†…æ ¸ä¼šä¸ºæ¯ä¸€ä¸ªå¤„äºLISTENçŠ¶æ€çš„socket åˆ†é…ä¸¤ä¸ªé˜Ÿåˆ—ï¼Œåˆ†åˆ«å«åŠè¿æ¥é˜Ÿåˆ—å’Œå…¨è¿æ¥é˜Ÿåˆ—ã€‚</p><figure><img src="'+ke+'" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>æ¯ä¸ªlisten Socketéƒ½æœ‰ä¸€ä¸ªå…¨è¿æ¥å’ŒåŠè¿æ¥é˜Ÿåˆ—</p><p><strong>åŠè¿æ¥é˜Ÿåˆ—ã€å…¨è¿æ¥é˜Ÿåˆ—æ˜¯ä»€ä¹ˆï¼Ÿ</strong></p><ul><li>åŠè¿æ¥é˜Ÿåˆ—ï¼ˆSYNé˜Ÿåˆ—ï¼‰ç”¨äºå­˜å‚¨å°šæœªå®Œæˆä¸‰æ¬¡æ¡æ‰‹çš„è¿æ¥è¯·æ±‚ï¼Œå½“æ”¶åˆ°å®¢æˆ·ç«¯å‘é€çš„SYNæŠ¥æ–‡æ—¶ï¼ŒæœåŠ¡å™¨ä¼šå°†è¿æ¥ä¿¡æ¯å­˜å‚¨åœ¨åŠè¿æ¥é˜Ÿåˆ—ä¸­ï¼Œç­‰å¾…å®¢æˆ·ç«¯å‘é€çš„ç¬¬äºŒæ¬¡æ¡æ‰‹æŠ¥æ–‡ã€‚åŠè¿æ¥é˜Ÿåˆ—ä¸­çš„è¿æ¥çŠ¶æ€ä¸ºSYN_RECEIVEDã€‚</li><li>å…¨è¿æ¥é˜Ÿåˆ—ï¼ˆACCEPTé˜Ÿåˆ—ï¼‰ç”¨äºå­˜å‚¨å·²ç»å®Œæˆä¸‰æ¬¡æ¡æ‰‹çš„è¿æ¥ã€‚å½“æœåŠ¡å™¨æ”¶åˆ°å®¢æˆ·ç«¯å‘é€çš„ç¬¬ä¸‰æ¬¡æ¡æ‰‹æŠ¥æ–‡åï¼Œä¼šå°†å¯¹åº”çš„è¿æ¥ä»åŠè¿æ¥é˜Ÿåˆ—ç§»è‡³å…¨è¿æ¥é˜Ÿåˆ—ï¼Œå¹¶å°†è¿æ¥çŠ¶æ€è®¾ä¸ºESTABLISHEDã€‚æ­¤æ—¶ï¼ŒæœåŠ¡å™¨å¯ä»¥è°ƒç”¨accept()å‡½æ•°æ¥æ¥æ”¶è¿æ¥ï¼Œè¿›è¡Œæ•°æ®ä¼ è¾“å’Œå¤„ç†ã€‚ <img src="'+Se+'" alt="" loading="lazy"></li></ul><p><strong>åŠè¿æ¥å…¨è¿æ¥é˜Ÿåˆ—çš„å†…éƒ¨ç»“æ„</strong></p><p>å…¨è¿æ¥é˜Ÿåˆ—æ˜¯ä¸€ä¸ªé“¾è¡¨ç»“æ„ï¼Œç”¨æ¥å­˜æ”¾å·²å®Œæˆä¸‰æ¬¡æ¡æ‰‹çš„è¿æ¥ï¼Œç­‰å¾…æœåŠ¡ç«¯æ‰§è¡Œaccept()æ¥å–å‡ºè¿æ¥å¹¶è¿›è¡Œå¤„ç†ã€‚è€ŒåŠè¿æ¥é˜Ÿåˆ—åˆ™æ˜¯ä¸€ä¸ªå“ˆå¸Œè¡¨ï¼Œå­˜æ”¾ç€SYN_RECVçŠ¶æ€çš„è¿æ¥ã€‚é€šè¿‡å°†åŠè¿æ¥é˜Ÿåˆ—è®¾è®¡ä¸ºå“ˆå¸Œè¡¨ï¼Œå¯ä»¥åœ¨æ”¶åˆ°ç¬¬ä¸‰æ¬¡æ¡æ‰‹åå¿«é€Ÿæ‰¾åˆ°å¯¹åº”çš„è¿æ¥ï¼Œæé«˜æ•ˆç‡ã€‚</p><figure><img src="'+we+`" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p><strong>ä¸ºä»€ä¹ˆåŠè¿æ¥é˜Ÿåˆ—è¦è®¾è®¡æˆå“ˆå¸Œè¡¨</strong></p><p>å…ˆå¯¹æ¯”ä¸‹å…¨è¿æ¥é‡Œé˜Ÿåˆ—ï¼Œä»–æœ¬è´¨æ˜¯ä¸ªé“¾è¡¨ï¼Œå› ä¸ºä¹Ÿæ˜¯çº¿æ€§ç»“æ„ï¼Œè¯´å®ƒæ˜¯ä¸ªé˜Ÿåˆ—ä¹Ÿæ²¡æ¯›ç—…ã€‚å®ƒé‡Œé¢æ”¾çš„éƒ½æ˜¯å·²ç»å»ºç«‹å®Œæˆçš„è¿æ¥ï¼Œè¿™äº›è¿æ¥æ­£ç­‰å¾…è¢«å–èµ°ã€‚è€ŒæœåŠ¡ç«¯å–èµ°è¿æ¥çš„è¿‡ç¨‹ä¸­ï¼Œå¹¶ä¸å…³å¿ƒå…·ä½“æ˜¯å“ªä¸ªè¿æ¥ï¼Œåªè¦æ˜¯ä¸ªè¿æ¥å°±è¡Œï¼Œæ‰€ä»¥ç›´æ¥ä»é˜Ÿåˆ—å¤´å–å°±è¡Œäº†ã€‚è¿™ä¸ªè¿‡ç¨‹ç®—æ³•å¤æ‚åº¦ä¸ºO(1)ã€‚</p><p>è€ŒåŠè¿æ¥é˜Ÿåˆ—å´ä¸å¤ªä¸€æ ·ï¼Œå› ä¸ºé˜Ÿåˆ—é‡Œçš„éƒ½æ˜¯ä¸å®Œæ•´çš„è¿æ¥ï¼Œå—·å—·ç­‰å¾…ç€ç¬¬ä¸‰æ¬¡æ¡æ‰‹çš„åˆ°æ¥ã€‚é‚£ä¹ˆç°åœ¨æœ‰ä¸€ä¸ªç¬¬ä¸‰æ¬¡æ¡æ‰‹æ¥äº†ï¼Œåˆ™éœ€è¦ä»é˜Ÿåˆ—é‡ŒæŠŠç›¸åº”IPç«¯å£çš„è¿æ¥å–å‡ºï¼Œå¦‚æœåŠè¿æ¥é˜Ÿåˆ—è¿˜æ˜¯ä¸ªé“¾è¡¨ï¼Œé‚£æˆ‘ä»¬å°±éœ€è¦ä¾æ¬¡éå†ï¼Œæ‰èƒ½æ‹¿åˆ°æˆ‘ä»¬æƒ³è¦çš„é‚£ä¸ªè¿æ¥ï¼Œç®—æ³•å¤æ‚åº¦å°±æ˜¯O(n)ã€‚</p><p>è€Œå¦‚æœå°†åŠè¿æ¥é˜Ÿåˆ—è®¾è®¡æˆå“ˆå¸Œè¡¨ï¼Œé‚£ä¹ˆæŸ¥æ‰¾åŠè¿æ¥çš„ç®—æ³•å¤æ‚åº¦å°±å›åˆ°O(1)äº†ã€‚</p><p>å› æ­¤å‡ºäºæ•ˆç‡è€ƒè™‘ï¼Œå…¨è¿æ¥é˜Ÿåˆ—è¢«è®¾è®¡æˆé“¾è¡¨ï¼Œè€ŒåŠè¿æ¥é˜Ÿåˆ—è¢«è®¾è®¡ä¸ºå“ˆå¸Œè¡¨ã€‚</p><p><strong>å¦‚æœå…¨è¿æ¥é˜Ÿåˆ—æ»¡äº†</strong> å¦‚æœé˜Ÿåˆ—æ»¡äº†,æœåŠ¡ç«¯è¿˜æ”¶åˆ°å®¢æˆ·ç«¯çš„ç¬¬ä¸‰æ¬¡æ¡æ‰‹ACK,é»˜è®¤å½“ç„¶ä¼šä¸¢å¼ƒè¿™ä¸ªACKã€‚</p><p>ä½†é™¤äº†ä¸¢å¼ƒä¹‹å¤–,è¿˜æœ‰ä¸€äº›é™„å¸¦è¡Œä¸º,è¿™ä¼šå—tcp_abort_on_overflow å‚æ•°çš„å½±å“ã€‚</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token comment"># cat /proc/sys/net/ipv4/tcp_abort_on_overflow  </span>
<span class="token number">0</span> 
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p><em>tcp_abort_on_overflow</em>è®¾ç½®ä¸º 0</p><ul><li>å…¨è¿æ¥é˜Ÿåˆ—æ»¡äº†ä¹‹å,ä¼šä¸¢å¼ƒè¿™ä¸ªç¬¬ä¸‰æ¬¡æ¡æ‰‹ACKåŒ…</li><li>å¼€å¯å®šæ—¶å™¨,é‡ä¼ ç¬¬äºŒæ¬¡æ¡æ‰‹çš„SYN+ACK</li><li>å¦‚æœé‡ä¼ è¶…è¿‡ä¸€å®šé™åˆ¶æ¬¡æ•°,è¿˜ä¼šæŠŠå¯¹åº”çš„åŠè¿æ¥é˜Ÿåˆ—é‡Œçš„è¿æ¥ç»™åˆ é™¤</li><li>è¿™ç§æƒ…å†µä¸‹,è¿æ¥å¯èƒ½ä¼šå¤±è´¥,ä½†åªä¼šåœ¨è¶…è¿‡é‡è¯•æ¬¡æ•°åæ–­å¼€ã€‚ <img src="`+Ie+'" alt="" loading="lazy"><em>tcp_abort_on_overflow</em>è®¾ç½®ä¸º 1</li><li>å…¨è¿æ¥é˜Ÿåˆ—æ»¡äº†ä¹‹å,å°±ç›´æ¥å‘RSTç»™å®¢æˆ·ç«¯</li><li>æ•ˆæœä¸Šçœ‹å°±æ˜¯è¿æ¥æ–­äº† <img src="'+_e+'" alt="" loading="lazy"> è¿™ç§æƒ…å†µä¸‹ï¼Œè¿æ¥ä¼šè¢«ç«‹å³æ‹’ç»å¹¶æ–­å¼€ã€‚</li></ul><p>è¿™ä¸ªç°è±¡æ˜¯ä¸æ˜¯å¾ˆç†Ÿæ‚‰ï¼ŒæœåŠ¡ç«¯ç«¯å£æœªç›‘å¬æ—¶ï¼Œå®¢æˆ·ç«¯å°è¯•å»è¿æ¥ï¼ŒæœåŠ¡ç«¯ä¹Ÿä¼šå›ä¸€ä¸ªRSTã€‚è¿™ä¸¤ä¸ªæƒ…å†µé•¿ä¸€æ ·ï¼Œæ‰€ä»¥å®¢æˆ·ç«¯è¿™æ—¶å€™æ”¶åˆ°RSTä¹‹åï¼Œå…¶å®æ— æ³•åŒºåˆ†åˆ°åº•æ˜¯ç«¯å£æœªç›‘å¬ï¼Œè¿˜æ˜¯å…¨è¿æ¥é˜Ÿåˆ—æ»¡äº†ã€‚</p><p>æ€»ç»“ï¼š å½“tcp_abort_on_overflow=0æ—¶ï¼Œå…¨è¿æ¥é˜Ÿåˆ—æ»¡äº†ä¼šé‡è¯•ï¼Œå¯èƒ½ä¼šå¯¼è‡´è¿æ¥å¤±è´¥ï¼Œè¿™æ—¶å®¢æˆ·ç«¯æ”¶åˆ°RSTæ—¶æ— æ³•åˆ¤æ–­åŸå› ã€‚ å½“tcp_abort_on_overflow=1æ—¶ï¼Œå…¨è¿æ¥é˜Ÿåˆ—æ»¡äº†ä¼šç«‹å³æ‹’ç»è¿æ¥ï¼Œè¿™æ—¶å®¢æˆ·ç«¯ä¹Ÿæ”¶åˆ°RSTï¼ŒåŒæ ·æ— æ³•åˆ¤æ–­åŸå› ã€‚</p><p>æ‰€ä»¥æ— è®ºtcp_abort_on_overflowå‚æ•°å¦‚ä½•è®¾ç½®ï¼Œå½“å…¨è¿æ¥é˜Ÿåˆ—æ»¡æ—¶ï¼Œå®¢æˆ·ç«¯éƒ½æ— æ³•å‡†ç¡®åˆ¤æ–­åŸå› ã€‚</p><p><strong>å¦‚æœåŠè¿æ¥é˜Ÿåˆ—æ»¡äº†</strong> ä¸€èˆ¬åŠè¿æ¥é˜Ÿåˆ—æ»¡äº†ä¼šè¢«ä¸¢å¼ƒï¼Œä½†è¿™ä¸ªè¡Œä¸ºå¯ä»¥é€šè¿‡tcp_syncookieså‚æ•°å»æ§åˆ¶ã€‚æ›´é‡è¦çš„æ˜¯å…ˆç†è§£åŠè¿æ¥é˜Ÿåˆ—ä¸ºä»€ä¹ˆä¼šè¢«æ‰“æ»¡ã€‚</p><p>æ­£å¸¸æƒ…å†µä¸‹ï¼ŒåŠè¿æ¥åªå­˜åœ¨äºç¬¬ä¸€æ¬¡å’Œç¬¬ä¸‰æ¬¡æ¡æ‰‹ä¹‹é—´ï¼Œç”Ÿå­˜æ—¶é—´å¾ˆçŸ­ã€‚å¦‚æœåŠè¿æ¥é˜Ÿåˆ—æ»¡äº†ï¼Œè¯´æ˜æœåŠ¡ç«¯ç–¯ç‹‚æ”¶åˆ°å¤§é‡ç¬¬ä¸€æ¬¡æ¡æ‰‹è¯·æ±‚ï¼Œè¿™é€šå¸¸æ„å‘³ç€ï¼š</p><ul><li>å¦‚æœæ˜¯çº¿ä¸ŠæœåŠ¡,ä¸šåŠ¡ç«çˆ†åˆ°æ­¤ç¨‹åº¦,å¯ä»¥å¯Œäº†</li><li>æ›´æœ‰å¯èƒ½é­é‡äº†SYN Floodæ”»å‡»</li></ul><figure><img src="'+Ee+'" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><blockquote><p>SYN Floodæ”»å‡»ï¼šSYN Floodæ”»å‡»åŸç†:æ”»å‡»è€…æ¨¡æ‹Ÿå¤§é‡å®¢æˆ·ç«¯ç¬¬ä¸€æ¬¡æ¡æ‰‹è¯·æ±‚,æœåŠ¡ç«¯å›å¤ç¬¬äºŒæ¬¡æ¡æ‰‹å,å®¢æˆ·ç«¯ä¸å‘ç¬¬ä¸‰æ¬¡æ¡æ‰‹ã€‚è¿™æ ·å¯ä»¥å¡«æ»¡æœåŠ¡ç«¯åŠè¿æ¥é˜Ÿåˆ—,ä½¿æ­£å¸¸è¿æ¥æ— æ³•å»ºç«‹ã€‚</p></blockquote><p>è§£å†³æ–¹æ³•ï¼šä½¿ç”¨tcp_syncookieså¯ä»¥ç»•è¿‡åŠè¿æ¥é˜Ÿåˆ—ã€‚ å½“tcp_syncookies=1æ—¶ï¼š</p><ul><li>å®¢æˆ·ç«¯ç¬¬ä¸€æ¬¡æ¡æ‰‹ï¼ŒæœåŠ¡ç«¯ä¸æ”¾å…¥åŠè¿æ¥é˜Ÿåˆ—ï¼Œç›´æ¥ç”Ÿæˆcookieså‘å›</li><li>å®¢æˆ·ç«¯ç¬¬ä¸‰æ¬¡æ¡æ‰‹åŒ…å«cookiesï¼ŒæœåŠ¡ç«¯éªŒè¯é€šè¿‡ç›´æ¥å»ºç«‹è¿æ¥</li><li>æ•´ä¸ªè¿æ¥å»ºç«‹è¿‡ç¨‹ä¸éœ€è¦åŠè¿æ¥é˜Ÿåˆ—</li></ul><figure><img src="'+Ne+'" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p><em>æ˜¯å¦æœ‰cookiesé˜Ÿåˆ—ï¼Ÿ</em> å¦‚æœæœ‰cookiesé˜Ÿåˆ—ï¼Œä¾ç„¶å¯ä»¥è¢«SYN Floodæ”»å‡»å¡«æ»¡ã€‚å®é™…ä¸Šcookiesä¸ä¿å­˜äºé˜Ÿåˆ—ï¼Œè€Œæ˜¯é€šè¿‡IPã€ç«¯å£ã€æ—¶é—´æˆ³ã€MSSç­‰ä¿¡æ¯å®æ—¶è®¡ç®—ï¼Œä¿å­˜åœ¨TCPæŠ¥æ–‡åºåˆ—å·å­—æ®µã€‚</p><p>æœåŠ¡ç«¯æ”¶åˆ°ç¬¬ä¸‰æ¬¡æ¡æ‰‹æ—¶é€šè¿‡åºåˆ—å·åç®—å‡ºcookiesä¿¡æ¯è¿›è¡ŒéªŒè¯ã€‚</p><figure><img src="'+ve+'" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p><em>ä¸ºä½•ä¸ç›´æ¥ä½¿ç”¨cookiesæ›¿ä»£åŠè¿æ¥é˜Ÿåˆ—ï¼Ÿ</em> è™½ç„¶cookieså¯ä»¥é˜²å¾¡SYN Floodï¼Œä½†ä¹Ÿæœ‰ç¼ºç‚¹ï¼š</p><ul><li>æœåŠ¡ç«¯ä¸ä¿å­˜è¿æ¥ä¿¡æ¯ï¼Œæ•°æ®åŒ…ä¸¢å¤±æ—¶æ— æ³•é‡ä¼ ç¬¬äºŒæ¬¡æ¡æ‰‹</li><li>cookiesç¼–ç è§£ç æ¶ˆè€—CPUèµ„æºï¼Œæ”»å‡»è€…å¯ä»¥æ„é€ å¤§é‡ä¼ªACKåŒ…æ¶ˆè€—æœåŠ¡ç«¯CPUï¼Œè¿™ç§æ”»å‡»ç§°ä¸ºACKæ”»å‡»</li></ul><p>æ‰€ä»¥ï¼Œcookiesä¸ä¼šå®Œå…¨æ›¿ä»£åŠè¿æ¥é˜Ÿåˆ—ã€‚ä¸¤è€…ä¼šæ ¹æ®éœ€è¦å…±åŒä½¿ç”¨ï¼Œå®ç°è¿æ¥çš„å»ºç«‹ä¸ç®¡ç†ã€‚</p><figure><img src="'+Le+'" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>æ€»ä¹‹ï¼Œæ— è®ºè®¾ç½®tcp_syncookiesä¸ºä½•å€¼ï¼Œå½“åŠè¿æ¥é˜Ÿåˆ—æ»¡æ—¶ï¼Œå®¢æˆ·ç«¯éƒ½æ— æ³•å‡†ç¡®åˆ¤æ–­åŸå› ã€‚è¿™ç‚¹ä¸å…¨è¿æ¥é˜Ÿåˆ—ç›¸åŒã€‚</p><p><strong>ä¸ºä»€ä¹ˆæ²¡æœ‰listenä¹Ÿèƒ½å»ºç«‹è¿æ¥ï¼Ÿ</strong> æ‰§è¡Œlistenæ–¹æ³•æ—¶ï¼Œå†…æ ¸ä¸ºsocketåˆ›å»ºåŠè¿æ¥é˜Ÿåˆ—å’Œå…¨è¿æ¥é˜Ÿåˆ—ï¼Œç”¨äºä¿å­˜è¿æ¥ä¿¡æ¯å¹¶å®Œæˆä¸‰æ¬¡æ¡æ‰‹ã€‚</p><p>é‚£ä¹ˆï¼Œæ²¡æœ‰æ‰§è¡Œlistenæ˜¯å¦å°±æ²¡æœ‰é˜Ÿåˆ—æ¥ä¿å­˜è¿æ¥ä¿¡æ¯äº†? ä¸æ˜¯çš„ï¼Œå†…æ ¸è¿˜æœ‰ä¸ªå…¨å±€hashè¡¨ç”¨äºä¿å­˜æ‰€æœ‰socketçš„è¿æ¥ä¿¡æ¯ï¼ŒåŒ…å«ï¼š</p><ul><li>ehash - ç”¨äºä¿å­˜å·²å»ºç«‹è¿æ¥çš„socketä¿¡æ¯</li><li>bhash - ç”¨äºsocketç»‘å®šåˆ°æŸåœ°å€åçš„socketä¿¡æ¯</li><li>listen_hash - ç”¨äºä¿å­˜æ‰§è¡Œäº†listençš„socketä¿¡æ¯</li></ul><p>åœ¨TCPè‡ªè¿æ¥æˆ–åŒæ—¶æ‰“å¼€çš„æƒ…å†µä¸‹ï¼Œå®¢æˆ·ç«¯åœ¨æ‰§è¡Œconnectæ–¹æ³•æ—¶ï¼Œä¼šå°†socketä¿¡æ¯ä¿å­˜åˆ°å…¨å±€hashè¡¨ã€‚ç„¶åå‘å‡ºè¿æ¥è¯·æ±‚ï¼Œè¯¥è¯·æ±‚ä¼šè¢«å›ç¯æ¥å£æ¥æ”¶ï¼Œæ ¹æ®IPå’Œç«¯å£å†ä»å…¨å±€hashè¡¨ä¸­å–å‡ºè¿æ¥ä¿¡æ¯ï¼Œå®Œæˆä¸‰æ¬¡æ¡æ‰‹ã€‚</p><p>æ‰€ä»¥ï¼Œå°½ç®¡æ²¡æœ‰æ‰§è¡Œlistenï¼Œä½†ç”±äºå…¨å±€hashè¡¨çš„å­˜åœ¨ï¼Œè¿æ¥ä¿¡æ¯å¾—ä»¥ä¿å­˜ï¼Œä¸‰æ¬¡æ¡æ‰‹å¾—ä»¥å®Œæˆï¼Œè¿æ¥å¾—ä»¥å»ºç«‹ã€‚</p><p><strong>å®¢æˆ·ç«¯æ˜¯å¦æœ‰åŠè¿æ¥é˜Ÿåˆ—?</strong> æ²¡æœ‰ï¼Œå› ä¸ºåŠè¿æ¥é˜Ÿåˆ—æ˜¯åœ¨æ‰§è¡Œlistenæ—¶å†…æ ¸è‡ªåŠ¨åˆ›å»ºçš„ã€‚å®¢æˆ·ç«¯æ²¡æœ‰æ‰§è¡Œlistenï¼Œæ‰€ä»¥æ²¡æœ‰åŠè¿æ¥é˜Ÿåˆ—ã€‚</p><p>æ€»ç»“</p><ul><li>æ‰§è¡Œlistenä¼šåˆ›å»ºåŠè¿æ¥é˜Ÿåˆ—å’Œå…¨è¿æ¥é˜Ÿåˆ—ï¼Œç”¨äºä¸‰æ¬¡æ¡æ‰‹å’Œä¿å­˜è¿æ¥ä¿¡æ¯</li><li>å†…æ ¸çš„å…¨å±€hashè¡¨ä¹Ÿå¯ä»¥ä¿å­˜è¿æ¥ä¿¡æ¯ï¼Œç”¨äºæ²¡æœ‰listençš„æƒ…å†µä¸‹å®Œæˆä¸‰æ¬¡æ¡æ‰‹</li><li>æ‰€ä»¥ï¼Œæ— è®ºæ˜¯å¦æ‰§è¡Œlistenï¼Œè¿æ¥ä¿¡æ¯æ€»æœ‰åœ°æ–¹ä¿å­˜ï¼Œè¿™ä½¿å¾—è¿æ¥å¾—ä»¥å»ºç«‹</li></ul><h3 id="close-waitçš„ä½œç”¨" tabindex="-1"><a class="header-anchor" href="#close-waitçš„ä½œç”¨" aria-hidden="true">#</a> CLOSE_WAITçš„ä½œç”¨</h3><p>è¿œç¨‹ TCP å¯¹ç­‰æ–¹ï¼ˆå¦ä¸€ç«¯çš„è®¡ç®—æœºæˆ–æœåŠ¡å™¨ï¼‰å·²ç»å‘é€äº†ä¸€ä¸ª FIN åŒ…ï¼Œè¦æ±‚å…³é—­è¿æ¥ã€‚è¿™æ„å‘³ç€å¯¹ç­‰æ–¹å·²ç»å®Œæˆäº†æ•°æ®çš„å‘é€ã€‚æœ¬åœ°åº”ç”¨ç¨‹åºä¸€æ—¦æ¥æ”¶åˆ°è¿™ä¸ªä¿¡å·ï¼Œå°±ä¼šè¿›å…¥ <code>CLOSE_WAIT</code> çŠ¶æ€ã€‚</p><p>åœ¨æ­¤çŠ¶æ€ä¸‹ï¼Œè®¡ç®—æœºæ­£åœ¨ç­‰å¾…æœ¬åœ°åº”ç”¨ç¨‹åºå…³é—­å¥—æ¥å­—è¿æ¥ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œè¿™æ˜¯ä¸€ç§â€œåŠå…³é—­â€çš„çŠ¶æ€ï¼Œå…¶ä¸­è¿œç¨‹å¯¹ç­‰æ–¹å·²ç»å®Œæˆäº†æ•°æ®çš„å‘é€ï¼Œä½†æœ¬åœ°åº”ç”¨ç¨‹åºè¿˜æœªå…³é—­è¿æ¥ã€‚æœ¬åœ°åº”ç”¨ç¨‹åºå¯èƒ½ä»ç„¶éœ€è¦å‘é€ä¸€äº›æ•°æ®ï¼Œæˆ–è€…å®ƒå¯èƒ½åªæ˜¯éœ€è¦ä¸€äº›æ—¶é—´æ¥ç¡®è®¤å®ƒå·²ç»æ¥æ”¶åˆ°äº†æ‰€æœ‰çš„æ•°æ®ã€‚</p><p>å½“æœ¬åœ°åº”ç”¨ç¨‹åºå®Œæˆæ‰€æœ‰çš„æ•°æ®å‘é€ï¼Œå¹¶å‡†å¤‡å¥½å…³é—­è¿æ¥æ—¶ï¼Œå®ƒä¼šå‘é€ä¸€ä¸ª FIN åŒ…ç»™è¿œç¨‹å¯¹ç­‰æ–¹ï¼Œå¹¶è¿›å…¥ <code>LAST_ACK</code> çŠ¶æ€ã€‚ç„¶åï¼Œå®ƒå°±ä¼šå…³é—­è¿æ¥ï¼Œå¹¶ä» <code>CLOSE_WAIT</code> çŠ¶æ€è½¬ç§»åˆ° <code>CLOSED</code> çŠ¶æ€ã€‚</p><h3 id="æœåŠ¡å™¨å‡ºç°å¤§é‡-close-wait-çŠ¶æ€çš„åŸå› æœ‰å“ªäº›" tabindex="-1"><a class="header-anchor" href="#æœåŠ¡å™¨å‡ºç°å¤§é‡-close-wait-çŠ¶æ€çš„åŸå› æœ‰å“ªäº›" aria-hidden="true">#</a> æœåŠ¡å™¨å‡ºç°å¤§é‡ CLOSE_WAIT çŠ¶æ€çš„åŸå› æœ‰å“ªäº›ï¼Ÿ</h3><p>CLOSE_WAIT çŠ¶æ€æ˜¯ã€Œè¢«åŠ¨å…³é—­æ–¹ã€æ‰ä¼šæœ‰çš„çŠ¶æ€ï¼Œè€Œä¸”å¦‚æœã€Œè¢«åŠ¨å…³é—­æ–¹ã€æ²¡æœ‰è°ƒç”¨ close å‡½æ•°å…³é—­è¿æ¥ï¼Œé‚£ä¹ˆå°±æ— æ³•å‘å‡º FIN æŠ¥æ–‡ï¼Œä»è€Œæ— æ³•ä½¿å¾— CLOSE_WAIT çŠ¶æ€çš„è¿æ¥è½¬å˜ä¸º LAST_ACK çŠ¶æ€ã€‚</p><p>æ‰€ä»¥ï¼Œ<strong>å½“æœåŠ¡ç«¯å‡ºç°å¤§é‡ CLOSE_WAIT çŠ¶æ€çš„è¿æ¥çš„æ—¶å€™ï¼Œè¯´æ˜æœåŠ¡ç«¯çš„ç¨‹åºæ²¡æœ‰è°ƒç”¨ close å‡½æ•°å…³é—­è¿æ¥</strong>ã€‚</p><p>é‚£ä»€ä¹ˆæƒ…å†µä¼šå¯¼è‡´æœåŠ¡ç«¯çš„ç¨‹åºæ²¡æœ‰è°ƒç”¨ close å‡½æ•°å…³é—­è¿æ¥ï¼Ÿè¿™æ—¶å€™é€šå¸¸éœ€è¦æ’æŸ¥ä»£ç ã€‚</p><p>æˆ‘ä»¬å…ˆæ¥åˆ†æä¸€ä¸ªæ™®é€šçš„ TCP æœåŠ¡ç«¯çš„æµç¨‹ï¼š</p><ol><li>åˆ›å»ºæœåŠ¡ç«¯ socketï¼Œbind ç»‘å®šç«¯å£ã€listen ç›‘å¬ç«¯å£</li><li>å°†æœåŠ¡ç«¯ socket æ³¨å†Œåˆ° epoll</li><li>epoll_wait ç­‰å¾…è¿æ¥åˆ°æ¥ï¼Œè¿æ¥åˆ°æ¥æ—¶ï¼Œè°ƒç”¨ accpet è·å–å·²è¿æ¥çš„ socket</li><li>å°†å·²è¿æ¥çš„ socket æ³¨å†Œåˆ° epoll</li><li>epoll_wait ç­‰å¾…äº‹ä»¶å‘ç”Ÿ</li><li>å¯¹æ–¹è¿æ¥å…³é—­æ—¶ï¼Œæˆ‘æ–¹è°ƒç”¨ close</li></ol><p>å¯èƒ½å¯¼è‡´æœåŠ¡ç«¯æ²¡æœ‰è°ƒç”¨ close å‡½æ•°çš„åŸå› ï¼Œå¦‚ä¸‹ã€‚</p><p><strong>ç¬¬ä¸€ä¸ªåŸå› </strong>ï¼šç¬¬ 2 æ­¥æ²¡æœ‰åšï¼Œæ²¡æœ‰å°†æœåŠ¡ç«¯ socket æ³¨å†Œåˆ° epollï¼Œè¿™æ ·æœ‰æ–°è¿æ¥åˆ°æ¥æ—¶ï¼ŒæœåŠ¡ç«¯æ²¡åŠæ³•æ„ŸçŸ¥è¿™ä¸ªäº‹ä»¶ï¼Œä¹Ÿå°±æ— æ³•è·å–åˆ°å·²è¿æ¥çš„ socketï¼Œé‚£æœåŠ¡ç«¯è‡ªç„¶å°±æ²¡æœºä¼šå¯¹ socket è°ƒç”¨ close å‡½æ•°äº†ã€‚</p><p>ä¸è¿‡è¿™ç§åŸå› å‘ç”Ÿçš„æ¦‚ç‡æ¯”è¾ƒå°ï¼Œè¿™ç§å±äºæ˜æ˜¾çš„ä»£ç é€»è¾‘ bugï¼Œåœ¨å‰æœŸ read view é˜¶æ®µå°±èƒ½å‘ç°çš„äº†ã€‚</p><p><strong>ç¬¬äºŒä¸ªåŸå› </strong>ï¼š ç¬¬ 3 æ­¥æ²¡æœ‰åšï¼Œæœ‰æ–°è¿æ¥åˆ°æ¥æ—¶æ²¡æœ‰è°ƒç”¨ accpet è·å–è¯¥è¿æ¥çš„ socketï¼Œå¯¼è‡´å½“æœ‰å¤§é‡çš„å®¢æˆ·ç«¯ä¸»åŠ¨æ–­å¼€äº†è¿æ¥ï¼Œè€ŒæœåŠ¡ç«¯æ²¡æœºä¼šå¯¹è¿™äº› socket è°ƒç”¨ close å‡½æ•°ï¼Œä»è€Œå¯¼è‡´æœåŠ¡ç«¯å‡ºç°å¤§é‡ CLOSE_WAIT çŠ¶æ€çš„è¿æ¥ã€‚</p><p>å‘ç”Ÿè¿™ç§æƒ…å†µå¯èƒ½æ˜¯å› ä¸ºæœåŠ¡ç«¯åœ¨æ‰§è¡Œ accpet å‡½æ•°ä¹‹å‰ï¼Œä»£ç å¡åœ¨æŸä¸€ä¸ªé€»è¾‘æˆ–è€…æå‰æŠ›å‡ºäº†å¼‚å¸¸ã€‚</p><p><strong>ç¬¬ä¸‰ä¸ªåŸå› </strong>ï¼šç¬¬ 4 æ­¥æ²¡æœ‰åšï¼Œé€šè¿‡ accpet è·å–å·²è¿æ¥çš„ socket åï¼Œæ²¡æœ‰å°†å…¶æ³¨å†Œåˆ° epollï¼Œå¯¼è‡´åç»­æ”¶åˆ° FIN æŠ¥æ–‡çš„æ—¶å€™ï¼ŒæœåŠ¡ç«¯æ²¡åŠæ³•æ„ŸçŸ¥è¿™ä¸ªäº‹ä»¶ï¼Œé‚£æœåŠ¡ç«¯å°±æ²¡æœºä¼šè°ƒç”¨ close å‡½æ•°äº†ã€‚</p>',65),Ht={href:"https://mp.weixin.qq.com/s?__biz=MzU3Njk0MTc3Ng==&mid=2247486020&idx=1&sn=f7cf41aec28e2e10a46228a64b1c0a5c&scene=21#wechat_redirect",target:"_blank",rel:"noopener noreferrer"},Ut=n('<p><strong>ç¬¬å››ä¸ªåŸå› </strong>ï¼šç¬¬ 6 æ­¥æ²¡æœ‰åšï¼Œå½“å‘ç°å®¢æˆ·ç«¯å…³é—­è¿æ¥åï¼ŒæœåŠ¡ç«¯æ²¡æœ‰æ‰§è¡Œ close å‡½æ•°ï¼Œå¯èƒ½æ˜¯å› ä¸ºä»£ç æ¼å¤„ç†ï¼Œæˆ–è€…æ˜¯åœ¨æ‰§è¡Œ close å‡½æ•°ä¹‹å‰ï¼Œä»£ç å¡åœ¨æŸä¸€ä¸ªé€»è¾‘ï¼Œæ¯”å¦‚å‘ç”Ÿæ­»é”ç­‰ç­‰ã€‚</p><p>å¯ä»¥å‘ç°ï¼Œ<strong>å½“æœåŠ¡ç«¯å‡ºç°å¤§é‡ CLOSE_WAIT çŠ¶æ€çš„è¿æ¥çš„æ—¶å€™ï¼Œé€šå¸¸éƒ½æ˜¯ä»£ç çš„é—®é¢˜ï¼Œè¿™æ—¶å€™æˆ‘ä»¬éœ€è¦é’ˆå¯¹å…·ä½“çš„ä»£ç ä¸€æ­¥ä¸€æ­¥çš„è¿›è¡Œæ’æŸ¥å’Œå®šä½ï¼Œä¸»è¦åˆ†æçš„æ–¹å‘å°±æ˜¯æœåŠ¡ç«¯ä¸ºä»€ä¹ˆæ²¡æœ‰è°ƒç”¨ close</strong>ã€‚</p><h3 id="time-waitçš„ä½œç”¨" tabindex="-1"><a class="header-anchor" href="#time-waitçš„ä½œç”¨" aria-hidden="true">#</a> TIME_WAITçš„ä½œç”¨</h3><p><img src="'+xe+'" alt="å…·ä½“å›¾" loading="lazy"> TCPè¿æ¥ä¸­çš„TIME_WAITçŠ¶æ€æ˜¯ä¸€ä¸ªé‡è¦çš„çŠ¶æ€ï¼Œå®ƒæœ‰å‡ ä¸ªä½œç”¨ï¼š</p><ol><li><strong>ç¡®ä¿æœ€åçš„ACKè¢«æ¥æ”¶</strong>ï¼šå½“TCPè¿æ¥è¢«å…³é—­æ—¶ï¼Œä¸»åŠ¨å…³é—­æ–¹ä¼šå‘é€ä¸€ä¸ªFINåŒ…ï¼Œè¢«åŠ¨å…³é—­æ–¹ä¼šå›åº”ä¸€ä¸ªACKåŒ…ï¼Œç„¶åä¹Ÿå‘é€ä¸€ä¸ªFINåŒ…ï¼Œæœ€åä¸»åŠ¨å…³é—­æ–¹å†å›åº”ä¸€ä¸ªACKåŒ…ã€‚TIME_WAITçŠ¶æ€ç¡®ä¿ä¸»åŠ¨å…³é—­æ–¹çš„æœ€åä¸€ä¸ªACKåŒ…è¢«æ¥æ”¶ã€‚å¦‚æœè¿™ä¸ªACKä¸¢å¤±ï¼Œè¢«åŠ¨å…³é—­æ–¹ä¼šé‡æ–°å‘é€FINåŒ…ï¼Œä¸»åŠ¨å…³é—­æ–¹åœ¨TIME_WAITçŠ¶æ€å°±èƒ½é‡æ–°å‘é€ACKã€‚</li><li><strong>è®©é‡å¤çš„FINåŒ…æ¶ˆé€</strong>ï¼šTIME_WAITçŠ¶æ€èƒ½æŒç»­è¶³å¤Ÿé•¿çš„æ—¶é—´ï¼ˆä¸€èˆ¬æ˜¯4åˆ†é’Ÿï¼‰ï¼Œè®©ç½‘ç»œä¸­å¯èƒ½å­˜åœ¨çš„é‡å¤çš„FINåŒ…æ¶ˆé€ã€‚</li><li><strong>é¿å…æ—§çš„æ•°æ®åŒ…åœ¨æ–°çš„è¿æ¥ä¸­å‡ºç°</strong>ï¼šå¦‚æœç«‹å³å…³é—­åå†æ‰“å¼€ä¸€ä¸ªç›¸åŒçš„TCPè¿æ¥ï¼Œé‚£ä¹ˆä¹‹å‰è¿æ¥ç•™ä¸‹çš„æ•°æ®å¯èƒ½ä¼šè¢«è¯¯è®¤ä¸ºæ˜¯æ–°è¿æ¥çš„æ•°æ®ï¼Œè¿™ä¼šå¼•å‘é”™è¯¯ã€‚TIME_WAITçŠ¶æ€èƒ½é˜²æ­¢è¿™ç§æƒ…å†µå‘ç”Ÿï¼Œå› ä¸ºåœ¨è¿™ä¸ªçŠ¶æ€æœŸé—´ï¼Œç›¸åŒçš„TCPè¿æ¥ä¸èƒ½è¢«æ‰“å¼€ã€‚</li></ol>',5),Ot={href:"https://xiaolincoding.com/network/3_tcp/tcp_interview.html#%E4%B8%BA%E4%BB%80%E4%B9%88%E9%9C%80%E8%A6%81-time-wait-%E7%8A%B6%E6%80%81",target:"_blank",rel:"noopener noreferrer"},Mt=e("p",null,"å‚è€ƒï¼š",-1),Rt={href:"https://www.baeldung.com/linux/close-socket-time_wait",target:"_blank",rel:"noopener noreferrer"},zt={href:"https://www.sobyte.net/post/2021-12/whys-the-design-tcp-time-wait/",target:"_blank",rel:"noopener noreferrer"},Ft=n('<h3 id="å¤§é‡time-waitå‡ºç°æ˜¯å¯èƒ½æ˜¯ä»€ä¹ˆåŸå› å¯¼è‡´çš„-å¦‚ä½•è§£å†³" tabindex="-1"><a class="header-anchor" href="#å¤§é‡time-waitå‡ºç°æ˜¯å¯èƒ½æ˜¯ä»€ä¹ˆåŸå› å¯¼è‡´çš„-å¦‚ä½•è§£å†³" aria-hidden="true">#</a> å¤§é‡TIME_WAITå‡ºç°æ˜¯å¯èƒ½æ˜¯ä»€ä¹ˆåŸå› å¯¼è‡´çš„ï¼Ÿå¦‚ä½•è§£å†³ï¼Ÿ</h3><p>å¤§é‡çš„TIME_WAITçŠ¶æ€å‡ºç°å¯èƒ½æ˜¯ç”±äºä»¥ä¸‹å‡ ç§åŸå› ï¼š</p><ol><li><strong>é«˜å¹¶å‘æˆ–é«˜é¢‘ç‡çš„TCPè¿æ¥</strong>ï¼šå¦‚æœåº”ç”¨ç¨‹åºé¢‘ç¹åœ°åˆ›å»ºå’Œå…³é—­è¿æ¥ï¼Œæ¯”å¦‚æŸäº›HTTPè¯·æ±‚ï¼Œå¯èƒ½å¯¼è‡´å¤§é‡çš„TIME_WAITçŠ¶æ€ã€‚</li><li><strong>TCPè¿æ¥è¿‡æ—©å…³é—­</strong>ï¼šå¦‚æœæœåŠ¡å™¨è¿‡æ—©åœ°å…³é—­äº†è¿æ¥ï¼Œä¾‹å¦‚ç«‹å³å…³é—­äº†æ¥æ”¶åˆ°è¯·æ±‚åçš„è¿æ¥ï¼Œé‚£ä¹ˆæœåŠ¡å™¨å°±å¯èƒ½è¿›å…¥TIME_WAITçŠ¶æ€ã€‚</li></ol><p>è§£å†³ï¼š</p><ul><li>å‡å°TIME_WAITçš„æ—¶é•¿ï¼šå¯ä»¥è°ƒæ•´ç³»ç»Ÿå‚æ•°ï¼Œå‡å°TIME_WAITçš„æ—¶é•¿ï¼Œä½†è¿™ä¹Ÿå¯èƒ½å½±å“TCPçš„ç¨³å®šæ€§ã€‚</li><li>å¯ç”¨TCPç«¯å£å¤ç”¨ï¼ˆSO_REUSEADDRå’ŒSO_REUSEPORTï¼‰ï¼šSO_REUSEADDRå¯ä»¥è®©ä½ åœ¨TIME_WAITçŠ¶æ€ä¸‹ç»‘å®šç›¸åŒçš„ç«¯å£ï¼ŒSO_REUSEPORTå¯ä»¥è®©ä½ åœ¨å·²ç»æ‰“å¼€çš„ç«¯å£ä¸Šå¯åŠ¨å¤šä¸ªç›‘å¬ã€‚è¿™ä¸¤ä¸ªé€‰é¡¹éƒ½èƒ½åœ¨æŸç§ç¨‹åº¦ä¸Šè§£å†³TIME_WAITå¯¼è‡´çš„ç«¯å£è€—å°½é—®é¢˜ã€‚</li><li>ä¼˜åŒ–åº”ç”¨ç¨‹åºçš„è¿æ¥ç®¡ç†ï¼šå¦‚æœå¯èƒ½ï¼Œé¿å…é¢‘ç¹åˆ›å»ºå’Œå…³é—­è¿æ¥ã€‚ä¾‹å¦‚ï¼Œå¯¹äºHTTPè¯·æ±‚ï¼Œå¯ä»¥ä½¿ç”¨é•¿è¿æ¥ï¼ˆKeep-Aliveï¼‰ä»£æ›¿çŸ­è¿æ¥ã€‚å¯¹äºæ•°æ®åº“è¿æ¥ï¼Œå¯ä»¥ä½¿ç”¨è¿æ¥æ± ã€‚</li></ul><h3 id="http2-ç›¸å¯¹äº-http1-æœ‰ä»€ä¹ˆä¸åŒ" tabindex="-1"><a class="header-anchor" href="#http2-ç›¸å¯¹äº-http1-æœ‰ä»€ä¹ˆä¸åŒ" aria-hidden="true">#</a> HTTP2 ç›¸å¯¹äº HTTP1 æœ‰ä»€ä¹ˆä¸åŒï¼Ÿ</h3><p>è¿™ä¸ªå±äº2023å¹´ç§‹å­£æ‹›è˜æ¯”è¾ƒçƒ­é—¨çš„å¤§å‚çš„é—®é¢˜äº†ã€‚ä¸»è¦æ–°å¢äº†ä»¥ä¸‹æ¦‚å¿µï¼š</p><ul><li>äºŒè¿›åˆ¶åè®®ï¼šä¸HTTP/1.1ä½¿ç”¨çš„æ–‡æœ¬åè®®ç›¸æ¯”ï¼ŒäºŒè¿›åˆ¶åè®®æ¶ˆè€—çš„å¸¦å®½æ›´å°‘ï¼Œè§£ææ•ˆç‡æ›´é«˜ï¼Œå‡ºé”™ç‡æ›´ä½ã€‚æ­¤å¤–ï¼Œå®ƒä»¬å¯ä»¥æ›´å¥½åœ°å¤„ç†ç©ºæ ¼ã€å¤§å†™å’Œè¡Œå°¾ç­‰å…ƒç´ ã€‚</li><li>å¤šè·¯å¤ç”¨+æµï¼šHTTP/2æ˜¯å¤šè·¯å¤ç”¨çš„ï¼Œå³å®ƒå¯ä»¥é€šè¿‡å•ä¸ªä¼ è¾“æ§åˆ¶åè®®å¹¶è¡Œå‘èµ·å¤šä¸ªè¯·æ±‚ã€‚å› æ­¤ï¼ŒåŒ…å«å¤šä¸ªå…ƒç´ çš„ç½‘é¡µé€šè¿‡ä¸€ä¸ªä¼ è¾“æ§åˆ¶åè®®ä¼ é€’ã€‚è¿™äº›åŠŸèƒ½è§£å†³äº†HTTP/1.1ä¸­çš„è¡Œå¤´é˜»å¡é—®é¢˜ï¼Œå³è¡Œå‰é¢çš„æ•°æ®åŒ…é˜»æ­¢å…¶ä»–æ•°æ®åŒ…è¢«ä¼ è¾“ã€‚ä¸”å¤šä¸ªæµå¯ä»¥åœ¨åŒä¸€TCPè¿æ¥ä¸Šå¹¶å‘ä¼ è¾“ï¼Œè§£å†³äº†HTTP/1.1çš„é˜Ÿå¤´é˜»å¡é—®é¢˜</li><li>å¤´éƒ¨å‹ç¼©ï¼šé€šè¿‡é™æ€è¡¨å’ŒåŠ¨æ€è¡¨ç´¢å¼•é‡å¤å­—æ®µï¼ŒåŒæ—¶é‡‡ç”¨Huffmanç¼–ç ç­‰æ–¹å¼ compressionï¼Œå¯ä»¥å‹ç¼©50%è‡³90%çš„å¤´éƒ¨ä½“ç§¯</li><li>æœåŠ¡ç«¯æ¨é€ï¼šHTTP/2å…è®¸æœåŠ¡å™¨ä¸»åŠ¨æ¨é€å®¢æˆ·ç«¯å¯èƒ½éœ€è¦çš„èµ„æºï¼Œå¦‚CSSã€JSç­‰,å¤§å¤§æé«˜ä¼ é€’æ•ˆç‡</li></ul>',8),Wt=e("p",null,"å‚è€ƒï¼š",-1),Xt={href:"https://xiaolincoding.com/network/2_http/http2.html",target:"_blank",rel:"noopener noreferrer"},Kt={href:"https://web.dev/performance-http2/",target:"_blank",rel:"noopener noreferrer"},Qt={href:"https://www.digitalocean.com/community/tutorials/http-1-1-vs-http-2-what-s-the-difference",target:"_blank",rel:"noopener noreferrer"},Vt={href:"https://www.imperva.com/learn/performance/http2/",target:"_blank",rel:"noopener noreferrer"},Yt=n('<h3 id="http3-å‰ç»-é‡Šæ”¾quicçš„åŠ›é‡" tabindex="-1"><a class="header-anchor" href="#http3-å‰ç»-é‡Šæ”¾quicçš„åŠ›é‡" aria-hidden="true">#</a> HTTP3 å‰ç»ï¼šé‡Šæ”¾QUICçš„åŠ›é‡</h3><h4 id="åºè¨€" tabindex="-1"><a class="header-anchor" href="#åºè¨€" aria-hidden="true">#</a> åºè¨€</h4><p>HTTP/2å·²ç»åšå‡ºå¾ˆå¤šä¸ä¼ è¾“å±‚è€¦åˆçš„è®¾è®¡ï¼Œç›´æ¥è¿è¡Œåœ¨QUICä¸Šæ•ˆç‡ä¸é«˜ï¼Œå­˜åœ¨åŠŸèƒ½é‡å¤ã€‚</p><p>æ­¤å¤–ï¼ŒHTTP/2æœ¬èº«ä»ä¾èµ–äºä¸æ–­è¿›è¡Œæ”¹è¿›çš„TCPï¼Œä»»ä½•TCPçº§åˆ«é—®é¢˜éƒ½ä¼šå½±å“HTTP/2ã€‚</p><blockquote><p>HTTP2ï¼šTCPé™åˆ¶äº†å“¥ä»¬çš„æ€§èƒ½å•¦ï¼ğŸ’¢</p></blockquote><h4 id="æ— é˜Ÿå¤´é˜»å¡" tabindex="-1"><a class="header-anchor" href="#æ— é˜Ÿå¤´é˜»å¡" aria-hidden="true">#</a> æ— é˜Ÿå¤´é˜»å¡</h4>',6),jt={href:"https://xiaolincoding.com/network/3_tcp/tcp_feature.html#%E9%87%8D%E4%BC%A0%E6%9C%BA%E5%88%B6",target:"_blank",rel:"noopener noreferrer"},Zt=n('<p>è€ŒQUICä¸åŒï¼Œå®ƒç”±äºæ”¯æŒå¤šä¸ªå­—èŠ‚æµçš„æ¦‚å¿µï¼ˆä¼šé’ˆå¯¹æ¯ä¸ªå­—èŠ‚æµå•ç‹¬è¿›è¡ŒåŒ…ä¸¢å¤±æ£€æµ‹å’Œé‡ä¼ ï¼Œåªå¯¹ç›¸å…³æµæ•°æ®è¿›è¡Œé˜»å¡ï¼Œè€Œéé˜»å¡æ‰€æœ‰æµã€‚è¿™æ ·å°±é¿å…äº†TCPå±‚é¢å‘ç”Ÿçš„å¤´é˜»å¡é—®é¢˜ï¼‰ã€‚æ¯”å¦‚ç‹¬ç«‹çš„æµAã€Bã€Cç­‰ã€‚å¦‚æœæµBçš„ä¸€ä¸ªåŒ…ä¸¢å¤±äº†ï¼ŒQUICåªä¼šé˜»å¡Bæµåç»­åŒ…çš„ä¼ è¾“ï¼Œè€Œä¸ä¼šå½±å“Aå’ŒCæµã€‚æ‰€ä»¥é€šè¿‡å°†æµä½œä¸ºåŸºæœ¬ä¼ è¾“å•å…ƒï¼Œç»“åˆæ¯ä¸ªæµç‹¬ç«‹å¤„ç†é‡ä¼ æœºåˆ¶ï¼ŒQUICå…·å¤‡äº†TCPæ²¡æœ‰çš„èƒ½åŠ›æ¥åœ¨æµçº§åˆ«éš”ç¦»ä¸¢åŒ…å¼•å‘çš„å»¶è¿Ÿå½±å“ï¼Œä»è€Œå®ç°æ›´é«˜æ•ˆçš„ç½‘ç»œåˆ©ç”¨ã€‚è¿™å°±æ˜¯å®ƒå¦‚ä½•è§£å†³å¤´é˜»å¡çš„åŸç†ã€‚</p><figure><img src="https://www.debugbear.com/assets/images/http2-vs-quic-multiplexing-36d594c1c356cae410fe60cfc2945d91.jpg" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><h4 id="æ›´å¿«çš„è¿æ¥å»ºç«‹" tabindex="-1"><a class="header-anchor" href="#æ›´å¿«çš„è¿æ¥å»ºç«‹" aria-hidden="true">#</a> æ›´å¿«çš„è¿æ¥å»ºç«‹</h4><p>æ ‡å‡†QUICä½¿ç”¨TLS 1.3ç›´æ¥æ¥å»ºç«‹ä¼šè¯ï¼Œè€Œéé‡‡ç”¨ç‹¬ç«‹çš„TLSæ¡æ‰‹ã€‚è¿™æ ·QUICå°±å¯ä»¥æŠŠä¼ è¾“å±‚å»ºç«‹å’Œå¯†é’¥åå•†â€œåˆäºŒä¸ºä¸€â€ï¼Œåªéœ€ä¸€ä¸ªRTTå³å¯å®Œæˆï¼ŒèŠ‚çœäº†ä¸€ä¸ªè½®è¯¢æ—¶é—´ã€‚QUICå°†TLS æ·±åº¦é›†æˆåˆ°è‡ªå·±åè®®å†…éƒ¨ï¼Œè€ŒéåƒTCP+TLSé‚£æ ·ä½œä¸ºç‹¬ç«‹å±‚ã€‚å®ƒåˆ©ç”¨TLSè®°å½•æ¥å°è£…QUICè‡ªå·±å®šä¹‰çš„å¸§ï¼Œç›´æ¥ä½¿ç”¨TLSæ¡æ‰‹æœºåˆ¶ã€‚</p><figure><img src="https://www.debugbear.com/assets/images/http2-vs-http3-roundtrips-1b14a7c6b6f7badbd345f67895dbf142.jpg" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>è¿›ä¸€æ­¥è§£é‡Šï¼š</p><ol><li><strong>HTTP/1 å’Œ HTTP/2 åè®®</strong>: æƒ³è±¡ä¸€ä¸‹ï¼Œä½ æ­£åœ¨ç”¨ç”µè¯ä¸å¦ä¸€ä¸ªäººé€šè¯ã€‚å…ˆè¦æ‹¨é€šç”µè¯å·ç ï¼ˆTCP æ¡æ‰‹ï¼‰ï¼Œç„¶åå†ç¡®è®¤å½¼æ­¤çš„èº«ä»½ï¼ˆTLS æ¡æ‰‹ï¼‰ã€‚è¿™å°±åƒå…ˆæ¡æ‰‹ç¡®è®¤è¿æ¥ï¼Œå†ç¡®è®¤å®‰å…¨ã€‚</li><li><strong>HTTP/3 åè®®</strong>: ç›¸è¾ƒä¹‹ä¸‹ï¼ŒHTTP/3 å°±åƒæœ‰ä¸€ä¸ªæ™ºèƒ½æ‰‹æœºåº”ç”¨ï¼Œä¸€é”®å°±å¯ä»¥æ‰“ç”µè¯å¹¶ç¡®è®¤èº«ä»½ã€‚è¿™æ˜¯å› ä¸ºå®ƒä½¿ç”¨äº†QUICåè®®ã€‚ <ul><li><strong>QUIC åè®®æ¡æ‰‹</strong>: å°±åƒå‘Šè¯‰å¯¹æ–¹ä½ çš„æ˜µç§°ï¼ˆè¿æ¥IDï¼‰ï¼Œæ‰€ä»¥ä½ ä»¬ä¸‹æ¬¡é€šè¯æ—¶ä¼šæ›´å¿«é€Ÿã€‚</li><li><strong>QUIC å†…éƒ¨åŒ…å« TLS</strong>: è¿™æ„å‘³ç€å®ƒä¸éœ€è¦åˆ†ä¸¤æ­¥è¿›è¡Œè¿æ¥å’Œèº«ä»½ç¡®è®¤ã€‚å¯ä»¥åŒæ—¶åšåˆ°è¿™ä¸¤ä»¶äº‹ï¼Œå°±åƒä¸€ä¸ªä¸€é”®æ‹¨å·å’Œèº«ä»½ç¡®è®¤çš„åº”ç”¨ã€‚</li><li><strong>0-RTT çš„æ•ˆæœ</strong>: å¦‚æœä½ å’ŒåŒä¸€ä¸ªäººå†æ¬¡é€šè¯ï¼Œä¸ä»…å¯ä»¥è¿…é€Ÿæ‹¨å·å’Œç¡®è®¤èº«ä»½ï¼Œç”šè‡³è¿˜å¯ä»¥ç«‹å³å¼€å§‹äº¤è°ˆï¼Œæ— éœ€ç­‰å¾…ã€‚</li></ul></li></ol><h4 id="è¿æ¥è¿ç§»" tabindex="-1"><a class="header-anchor" href="#è¿æ¥è¿ç§»" aria-hidden="true">#</a> è¿æ¥è¿ç§»</h4><ol><li>QUICä¸åƒTCPé‚£æ ·ä½¿ç”¨IPåœ°å€å’Œç«¯å£ç»„æˆå››å…ƒç»„ï¼ˆå››å…ƒç»„ï¼šæº IPã€æºç«¯å£ã€ç›®çš„ IPã€ç›®çš„ç«¯å£ï¼‰æ¥â€œç»‘å®šâ€è¿æ¥ã€‚è€Œæ˜¯ç”±å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨å„è‡ªé€‰æ‹©ä¸€ç»„è¿æ¥IDæ¥æ ‡è®°é€šä¿¡ç»ˆç«¯ã€‚</li><li>é€šè¿‡è¿æ¥IDï¼Œå³ä½¿ç§»åŠ¨è®¾å¤‡çš„ç½‘ç»œå˜åŒ–å¯¼è‡´IPåœ°å€å˜æ›´ï¼Œåªè¦ä¿å­˜å¥½ä¸Šä¸‹æ–‡ä¿¡æ¯å¦‚è¿æ¥IDå’ŒTLSå¯†é’¥ï¼ŒQUICå°±èƒ½æ¢å¤åŸæ¥çš„è¿æ¥ï¼Œæ— é¡»å°†è¿æ¥ä»å¤´å†å»ºç«‹ã€‚</li><li>è¿™ä½¿å¾—QUICè¿æ¥å¯ä»¥åœ¨ä¸åŒç½‘ç»œä¹‹é—´è¿ç§»è€Œä¸ä¼šå› ä¸ºåœ°å€å˜åŒ–å¯¼è‡´ä¸­æ–­ï¼Œå®¢æˆ·ç«¯ç«¯å£æ„ŸçŸ¥ä¸åˆ°ä»»ä½•å¡é¡¿ç°è±¡ã€‚</li><li>åˆ©ç”¨è¿æ¥IDæ›¿ä»£å››å…ƒç»„ï¼ŒQUICä»åè®®å±‚é¢è§£å†³äº†TCPåœ¨åŠ¨æ€ç½‘ç»œä¸‹(å¦‚æ‰‹æœºwifiä¸ç§»åŠ¨æ•°æ®é—´åˆ‡æ¢)è¿æ¥æ˜“ä¸­æ–­çš„é—®é¢˜ï¼Œå®ç°äº†çœŸæ­£æ„ä¹‰ä¸Šçš„è¿æ¥è¿ç§»èƒ½åŠ›ã€‚</li></ol><figure><img src="https://res.cloudinary.com/indysigner/image/fetch/f_auto,q_80/w_2000/https://archive.smashing.media/assets/344dbf88-fdf9-42bb-adb4-46f01eedd629/9413b221-47e9-427b-b958-b0e62fe7f681/1-migration-tcp.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><h4 id="å…¶ä»–ç‰¹æ€§" tabindex="-1"><a class="header-anchor" href="#å…¶ä»–ç‰¹æ€§" aria-hidden="true">#</a> å…¶ä»–ç‰¹æ€§</h4><ol><li>æ”¯æŒé›¶è½®æ¬¡ä¼ è¾“ã€‚QUICå¯ä»¥åœ¨TLSæ¡æ‰‹æˆåŠŸåç«‹å³å‘é€æ•°æ®ï¼Œé¿å…é¢å¤–ç­‰å¾…ä¸€ä¸ªRTTçš„æ—¶é—´ã€‚</li><li>æ·±å…¥åŠ å¯†ã€‚QUICä¸ä»…å¯¹æ•°æ®è¿›è¡ŒåŠ å¯†ï¼Œè¿å¤´éƒ¨å­—æ®µå¦‚åŒ…ç¼–å·éƒ½è¿›è¡Œäº†åŠ å¯†ï¼Œå¢å¼ºäº†éšç§ä¿æŠ¤èƒ½åŠ›ã€‚</li><li>æµé‡æ§åˆ¶å’Œæ‹¥å¡æ§åˆ¶ã€‚QUICå†…ç½®äº†è¿™äº›æœºåˆ¶ä¸ºä¸åŒè¿æ¥åŠåº”ç”¨åˆ†é…å¸¦å®½ï¼Œé˜²æ­¢ä¸ªåˆ«è¿æ¥æ¶ˆè€—è¿‡å¤šç½‘ç»œèµ„æºã€‚</li><li>é”™è¯¯æ£€æµ‹å’Œæ¢å¤èƒ½åŠ›å¼ºã€‚QUICæ¯ä¸ªå­—èŠ‚æµç‹¬ç«‹å¤„ç†ä¸¢åŒ…ï¼Œåªé’ˆå¯¹ç›¸å…³æµè¿›è¡Œé‡ä¼ ï¼Œè€Œä¸æ˜¯åƒTCPé‚£æ ·æ‹–ç´¯æ‰€æœ‰æµã€‚</li><li>æ”¯æŒå¤šè·¯å¾„ä¼ è¾“ã€‚ç†è®ºä¸ŠQUICå…è®¸åŒä¸€è¿æ¥åœ¨WiFiå’Œæ‰‹æœºç½‘ç»œä¹‹é—´åˆ‡æ¢ï¼Œå®ç°ç½‘ç»œèšåˆã€‚</li><li>æ›´å¥½çš„é€‚åº”æ€§ã€‚QUICä½œä¸ºç”¨æˆ·å±‚åè®®ï¼Œæ›´å®¹æ˜“é€‚åº”ç½‘ç»œç¯å¢ƒå’Œåº”ç”¨éœ€æ±‚çš„å˜åŒ–ã€‚</li></ol>',12),Jt=e("p",null,"å‚è€ƒæ–‡ç« ï¼š",-1),Gt={href:"https://xiaolincoding.com/network/2_http/http3.html#_3-7-http-3-%E5%BC%BA%E5%8A%BF%E6%9D%A5%E8%A2%AD",target:"_blank",rel:"noopener noreferrer"},$t={href:"https://www.smashingmagazine.com/2021/08/http3-core-concepts-part1/",target:"_blank",rel:"noopener noreferrer"},ei={href:"https://www.debugbear.com/blog/http3-quic-protocol-guide",target:"_blank",rel:"noopener noreferrer"},ti=n('<h3 id="http-ä¸-https-æœ‰å“ªäº›åŒºåˆ«" tabindex="-1"><a class="header-anchor" href="#http-ä¸-https-æœ‰å“ªäº›åŒºåˆ«" aria-hidden="true">#</a> HTTP ä¸ HTTPS æœ‰å“ªäº›åŒºåˆ«ï¼Ÿ</h3><ol><li>HTTP æ˜¯è¶…æ–‡æœ¬ä¼ è¾“åè®®ï¼Œä¿¡æ¯æ˜¯æ˜æ–‡ä¼ è¾“ï¼Œå­˜åœ¨å®‰å…¨é£é™©çš„é—®é¢˜ã€‚HTTPS åˆ™è§£å†³ HTTP ä¸å®‰å…¨çš„ç¼ºé™·ï¼Œåœ¨ TCP å’Œ HTTP ç½‘ç»œå±‚ä¹‹é—´åŠ å…¥äº† SSL/TLS å®‰å…¨åè®®ï¼Œä½¿å¾—æŠ¥æ–‡èƒ½å¤ŸåŠ å¯†ä¼ è¾“ã€‚</li><li>HTTP è¿æ¥å»ºç«‹ç›¸å¯¹ç®€å•ï¼Œ TCP ä¸‰æ¬¡æ¡æ‰‹ä¹‹åä¾¿å¯è¿›è¡Œ HTTP çš„æŠ¥æ–‡ä¼ è¾“ã€‚è€Œ HTTPS åœ¨ TCP ä¸‰æ¬¡æ¡æ‰‹ä¹‹åï¼Œè¿˜éœ€è¿›è¡Œ SSL/TLS çš„æ¡æ‰‹è¿‡ç¨‹ï¼Œæ‰å¯è¿›å…¥åŠ å¯†æŠ¥æ–‡ä¼ è¾“ã€‚</li><li>HTTP çš„ç«¯å£å·æ˜¯ 80ï¼ŒHTTPS çš„ç«¯å£å·æ˜¯ 443ã€‚</li><li>HTTPS åè®®éœ€è¦å‘ CAï¼ˆè¯ä¹¦æƒå¨æœºæ„ï¼‰ç”³è¯·æ•°å­—è¯ä¹¦ï¼Œæ¥ä¿è¯æœåŠ¡å™¨çš„èº«ä»½æ˜¯å¯ä¿¡çš„ã€‚</li></ol><h3 id="https-æ˜¯å¦‚ä½•å»ºç«‹è¿æ¥çš„-å…¶é—´äº¤äº’äº†ä»€ä¹ˆ" tabindex="-1"><a class="header-anchor" href="#https-æ˜¯å¦‚ä½•å»ºç«‹è¿æ¥çš„-å…¶é—´äº¤äº’äº†ä»€ä¹ˆ" aria-hidden="true">#</a> HTTPS æ˜¯å¦‚ä½•å»ºç«‹è¿æ¥çš„ï¼Ÿå…¶é—´äº¤äº’äº†ä»€ä¹ˆï¼Ÿ</h3><p>SSL/TLS åè®®åŸºæœ¬æµç¨‹ï¼š</p><ul><li>å®¢æˆ·ç«¯å‘æœåŠ¡å™¨ç´¢è¦å¹¶éªŒè¯æœåŠ¡å™¨çš„å…¬é’¥ã€‚</li><li>åŒæ–¹åå•†ç”Ÿäº§ã€Œä¼šè¯ç§˜é’¥ã€ã€‚</li><li>åŒæ–¹é‡‡ç”¨ã€Œä¼šè¯ç§˜é’¥ã€è¿›è¡ŒåŠ å¯†é€šä¿¡ã€‚</li></ul><p>å‰ä¸¤æ­¥ä¹Ÿå°±æ˜¯ SSL/TLS çš„å»ºç«‹è¿‡ç¨‹ï¼Œä¹Ÿå°±æ˜¯ TLS æ¡æ‰‹é˜¶æ®µã€‚</p><p>SSL/TLS çš„ã€Œæ¡æ‰‹é˜¶æ®µã€æ¶‰åŠ<strong>å››æ¬¡</strong>é€šä¿¡ï¼ŒåŸºäº RSA æ¡æ‰‹è¿‡ç¨‹çš„ HTTPSè§ä¸‹å›¾ï¼š</p><figure><img src="'+ye+'" alt="HTTPS è¿æ¥å»ºç«‹è¿‡ç¨‹" tabindex="0" loading="lazy"><figcaption>HTTPS è¿æ¥å»ºç«‹è¿‡ç¨‹</figcaption></figure><p>SSL/TLS åè®®å»ºç«‹çš„è¯¦ç»†æµç¨‹ï¼š</p><p><em>1. ClientHello</em></p><p>é¦–å…ˆï¼Œç”±å®¢æˆ·ç«¯å‘æœåŠ¡å™¨å‘èµ·åŠ å¯†é€šä¿¡è¯·æ±‚ï¼Œä¹Ÿå°±æ˜¯ <code>ClientHello</code> è¯·æ±‚ã€‚</p><p>åœ¨è¿™ä¸€æ­¥ï¼Œå®¢æˆ·ç«¯ä¸»è¦å‘æœåŠ¡å™¨å‘é€ä»¥ä¸‹ä¿¡æ¯ï¼š</p><p>ï¼ˆ1ï¼‰å®¢æˆ·ç«¯æ”¯æŒçš„ SSL/TLS åè®®ç‰ˆæœ¬ï¼Œå¦‚ TLS 1.2 ç‰ˆæœ¬ã€‚</p><p>ï¼ˆ2ï¼‰å®¢æˆ·ç«¯ç”Ÿäº§çš„éšæœºæ•°ï¼ˆ<code>Client Random</code>ï¼‰ï¼Œåé¢ç”¨äºç”Ÿæˆã€Œä¼šè¯ç§˜é’¥ã€æ¡ä»¶ä¹‹ä¸€ã€‚</p><p>ï¼ˆ3ï¼‰å®¢æˆ·ç«¯æ”¯æŒçš„å¯†ç å¥—ä»¶åˆ—è¡¨ï¼Œå¦‚ RSA åŠ å¯†ç®—æ³•ã€‚</p><p><em>2. SeverHello</em></p><p>æœåŠ¡å™¨æ”¶åˆ°å®¢æˆ·ç«¯è¯·æ±‚åï¼Œå‘å®¢æˆ·ç«¯å‘å‡ºå“åº”ï¼Œä¹Ÿå°±æ˜¯ <code>SeverHello</code>ã€‚æœåŠ¡å™¨å›åº”çš„å†…å®¹æœ‰å¦‚ä¸‹å†…å®¹ï¼š</p><p>ï¼ˆ1ï¼‰ç¡®è®¤ SSL/ TLS åè®®ç‰ˆæœ¬ï¼Œå¦‚æœæµè§ˆå™¨ä¸æ”¯æŒï¼Œåˆ™å…³é—­åŠ å¯†é€šä¿¡ã€‚</p><p>ï¼ˆ2ï¼‰æœåŠ¡å™¨ç”Ÿäº§çš„éšæœºæ•°ï¼ˆ<code>Server Random</code>ï¼‰ï¼Œä¹Ÿæ˜¯åé¢ç”¨äºç”Ÿäº§ã€Œä¼šè¯ç§˜é’¥ã€æ¡ä»¶ä¹‹ä¸€ã€‚</p><p>ï¼ˆ3ï¼‰ç¡®è®¤çš„å¯†ç å¥—ä»¶åˆ—è¡¨ï¼Œå¦‚ RSA åŠ å¯†ç®—æ³•ã€‚</p><p>ï¼ˆ4ï¼‰æœåŠ¡å™¨çš„æ•°å­—è¯ä¹¦ã€‚</p><p><em>3.å®¢æˆ·ç«¯å›åº”</em></p><p>å®¢æˆ·ç«¯æ”¶åˆ°æœåŠ¡å™¨çš„å›åº”ä¹‹åï¼Œé¦–å…ˆé€šè¿‡æµè§ˆå™¨æˆ–è€…æ“ä½œç³»ç»Ÿä¸­çš„ CA å…¬é’¥ï¼Œç¡®è®¤æœåŠ¡å™¨çš„æ•°å­—è¯ä¹¦çš„çœŸå®æ€§ã€‚</p><p>å¦‚æœè¯ä¹¦æ²¡æœ‰é—®é¢˜ï¼Œå®¢æˆ·ç«¯ä¼š<strong>ä»æ•°å­—è¯ä¹¦ä¸­å–å‡ºæœåŠ¡å™¨çš„å…¬é’¥</strong>ï¼Œç„¶åä½¿ç”¨å®ƒåŠ å¯†æŠ¥æ–‡ï¼Œå‘æœåŠ¡å™¨å‘é€å¦‚ä¸‹ä¿¡æ¯ï¼š</p><p>ï¼ˆ1ï¼‰ä¸€ä¸ªéšæœºæ•°ï¼ˆ<code>pre-master key</code>ï¼‰ã€‚è¯¥éšæœºæ•°ä¼šè¢«æœåŠ¡å™¨å…¬é’¥åŠ å¯†ã€‚</p><p>ï¼ˆ2ï¼‰åŠ å¯†é€šä¿¡ç®—æ³•æ”¹å˜é€šçŸ¥ï¼Œè¡¨ç¤ºéšåçš„ä¿¡æ¯éƒ½å°†ç”¨ã€Œä¼šè¯ç§˜é’¥ã€åŠ å¯†é€šä¿¡ã€‚</p><p>ï¼ˆ3ï¼‰å®¢æˆ·ç«¯æ¡æ‰‹ç»“æŸé€šçŸ¥ï¼Œè¡¨ç¤ºå®¢æˆ·ç«¯çš„æ¡æ‰‹é˜¶æ®µå·²ç»ç»“æŸã€‚è¿™ä¸€é¡¹åŒæ—¶æŠŠä¹‹å‰æ‰€æœ‰å†…å®¹çš„å‘ç”Ÿçš„æ•°æ®åšä¸ªæ‘˜è¦ï¼Œç”¨æ¥ä¾›æœåŠ¡ç«¯æ ¡éªŒã€‚</p><p>ä¸Šé¢ç¬¬ä¸€é¡¹çš„éšæœºæ•°æ˜¯æ•´ä¸ªæ¡æ‰‹é˜¶æ®µçš„ç¬¬ä¸‰ä¸ªéšæœºæ•°ï¼Œä¼šå‘ç»™æœåŠ¡ç«¯ï¼Œæ‰€ä»¥è¿™ä¸ªéšæœºæ•°å®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯éƒ½æ˜¯ä¸€æ ·çš„ã€‚</p><p><strong>æœåŠ¡å™¨å’Œå®¢æˆ·ç«¯æœ‰äº†è¿™ä¸‰ä¸ªéšæœºæ•°ï¼ˆClient Randomã€Server Randomã€pre-master keyï¼‰ï¼Œæ¥ç€å°±ç”¨åŒæ–¹åå•†çš„åŠ å¯†ç®—æ³•ï¼Œå„è‡ªç”Ÿæˆæœ¬æ¬¡é€šä¿¡çš„ã€Œä¼šè¯ç§˜é’¥ã€</strong>ã€‚</p><p><em>4. æœåŠ¡å™¨çš„æœ€åå›åº”</em></p><p>æœåŠ¡å™¨æ”¶åˆ°å®¢æˆ·ç«¯çš„ç¬¬ä¸‰ä¸ªéšæœºæ•°ï¼ˆ<code>pre-master key</code>ï¼‰ä¹‹åï¼Œé€šè¿‡åå•†çš„åŠ å¯†ç®—æ³•ï¼Œè®¡ç®—å‡ºæœ¬æ¬¡é€šä¿¡çš„ã€Œä¼šè¯ç§˜é’¥ã€ã€‚</p><p>ç„¶åï¼Œå‘å®¢æˆ·ç«¯å‘é€æœ€åçš„ä¿¡æ¯ï¼š</p><p>ï¼ˆ1ï¼‰åŠ å¯†é€šä¿¡ç®—æ³•æ”¹å˜é€šçŸ¥ï¼Œè¡¨ç¤ºéšåçš„ä¿¡æ¯éƒ½å°†ç”¨ã€Œä¼šè¯ç§˜é’¥ã€åŠ å¯†é€šä¿¡ã€‚</p><p>ï¼ˆ2ï¼‰æœåŠ¡å™¨æ¡æ‰‹ç»“æŸé€šçŸ¥ï¼Œè¡¨ç¤ºæœåŠ¡å™¨çš„æ¡æ‰‹é˜¶æ®µå·²ç»ç»“æŸã€‚è¿™ä¸€é¡¹åŒæ—¶æŠŠä¹‹å‰æ‰€æœ‰å†…å®¹çš„å‘ç”Ÿçš„æ•°æ®åšä¸ªæ‘˜è¦ï¼Œç”¨æ¥ä¾›å®¢æˆ·ç«¯æ ¡éªŒã€‚</p><p>è‡³æ­¤ï¼Œæ•´ä¸ª SSL/TLS çš„æ¡æ‰‹é˜¶æ®µå…¨éƒ¨ç»“æŸã€‚æ¥ä¸‹æ¥ï¼Œå®¢æˆ·ç«¯ä¸æœåŠ¡å™¨è¿›å…¥åŠ å¯†é€šä¿¡ï¼Œå°±å®Œå…¨æ˜¯ä½¿ç”¨æ™®é€šçš„ HTTP åè®®ï¼Œåªä¸è¿‡ç”¨ã€Œä¼šè¯ç§˜é’¥ã€åŠ å¯†å†…å®¹ã€‚</p><blockquote><p>å®¢æˆ·ç«¯æ ¡éªŒæ•°å­—è¯ä¹¦çš„æµç¨‹æ˜¯æ€æ ·çš„ï¼Ÿ</p></blockquote><p>æ¥ä¸‹æ¥ï¼Œè¯¦ç»†è¯´ä¸€ä¸‹å®é™…ä¸­æ•°å­—è¯ä¹¦ç­¾å‘å’ŒéªŒè¯æµç¨‹ã€‚</p><p>å¦‚ä¸‹å›¾å›¾æ‰€ç¤ºï¼Œä¸ºæ•°å­—è¯ä¹¦ç­¾å‘å’ŒéªŒè¯æµç¨‹ï¼š</p><figure><img src="'+De+'" alt="img" tabindex="0" loading="lazy"><figcaption>img</figcaption></figure><p>CA ç­¾å‘è¯ä¹¦çš„è¿‡ç¨‹ï¼Œå¦‚ä¸Šå›¾å·¦è¾¹éƒ¨åˆ†ï¼š</p><ul><li>é¦–å…ˆ CA ä¼šæŠŠæŒæœ‰è€…çš„å…¬é’¥ã€ç”¨é€”ã€é¢å‘è€…ã€æœ‰æ•ˆæ—¶é—´ç­‰ä¿¡æ¯æ‰“æˆä¸€ä¸ªåŒ…ï¼Œç„¶åå¯¹è¿™äº›ä¿¡æ¯è¿›è¡Œ Hash è®¡ç®—ï¼Œå¾—åˆ°ä¸€ä¸ª Hash å€¼ï¼›</li><li>ç„¶å CA ä¼šä½¿ç”¨è‡ªå·±çš„ç§é’¥å°†è¯¥ Hash å€¼åŠ å¯†ï¼Œç”Ÿæˆ Certificate Signatureï¼Œä¹Ÿå°±æ˜¯ CA å¯¹è¯ä¹¦åšäº†ç­¾åï¼›</li><li>æœ€åå°† Certificate Signature æ·»åŠ åœ¨æ–‡ä»¶è¯ä¹¦ä¸Šï¼Œå½¢æˆæ•°å­—è¯ä¹¦ï¼›</li></ul><p>å®¢æˆ·ç«¯æ ¡éªŒæœåŠ¡ç«¯çš„æ•°å­—è¯ä¹¦çš„è¿‡ç¨‹ï¼Œå¦‚ä¸Šå›¾å³è¾¹éƒ¨åˆ†ï¼š</p><ul><li>é¦–å…ˆå®¢æˆ·ç«¯ä¼šä½¿ç”¨åŒæ ·çš„ Hash ç®—æ³•è·å–è¯¥è¯ä¹¦çš„ Hash å€¼ H1ï¼›</li><li>é€šå¸¸æµè§ˆå™¨å’Œæ“ä½œç³»ç»Ÿä¸­é›†æˆäº† CA çš„å…¬é’¥ä¿¡æ¯ï¼Œæµè§ˆå™¨æ”¶åˆ°è¯ä¹¦åå¯ä»¥ä½¿ç”¨ CA çš„å…¬é’¥è§£å¯† Certificate Signature å†…å®¹ï¼Œå¾—åˆ°ä¸€ä¸ª Hash å€¼ H2 ï¼›</li><li>æœ€åæ¯”è¾ƒ H1 å’Œ H2ï¼Œå¦‚æœå€¼ç›¸åŒï¼Œåˆ™ä¸ºå¯ä¿¡èµ–çš„è¯ä¹¦ï¼Œå¦åˆ™åˆ™è®¤ä¸ºè¯ä¹¦ä¸å¯ä¿¡ã€‚</li></ul><p>ä½†äº‹å®ä¸Šï¼Œè¯ä¹¦çš„éªŒè¯è¿‡ç¨‹ä¸­<strong>è¿˜å­˜åœ¨ä¸€ä¸ªè¯ä¹¦ä¿¡ä»»é“¾çš„é—®é¢˜</strong>ï¼Œå› ä¸ºæˆ‘ä»¬å‘ CA ç”³è¯·çš„è¯ä¹¦ä¸€èˆ¬ä¸æ˜¯æ ¹è¯ä¹¦ç­¾å‘çš„ï¼Œè€Œæ˜¯ç”±ä¸­é—´è¯ä¹¦ç­¾å‘çš„ï¼Œæ¯”å¦‚ç™¾åº¦çš„è¯ä¹¦ï¼Œä»ä¸‹å›¾ä½ å¯ä»¥çœ‹åˆ°ï¼Œè¯ä¹¦çš„å±‚çº§æœ‰ä¸‰çº§ï¼š</p><figure><img src="'+Be+'" alt="img" tabindex="0" loading="lazy"><figcaption>img</figcaption></figure><p>å¯¹äºè¿™ç§ä¸‰çº§å±‚çº§å…³ç³»çš„è¯ä¹¦çš„éªŒè¯è¿‡ç¨‹å¦‚ä¸‹ï¼š</p>',46),ii={href:"http://baidu.com",target:"_blank",rel:"noopener noreferrer"},oi={href:"http://baidu.com",target:"_blank",rel:"noopener noreferrer"},ni={href:"http://baidu.com",target:"_blank",rel:"noopener noreferrer"},ai=e("li",null,"è¯·æ±‚åˆ°è¯ä¹¦åå‘ç° â€œGlobalSign Organization Validation CA - SHA256 - G2â€ è¯ä¹¦æ˜¯ç”± â€œGlobalSign Root CAâ€ ç­¾å‘çš„ï¼Œç”±äº â€œGlobalSign Root CAâ€ æ²¡æœ‰å†ä¸Šçº§ç­¾å‘æœºæ„ï¼Œè¯´æ˜å®ƒæ˜¯æ ¹è¯ä¹¦ï¼Œä¹Ÿå°±æ˜¯è‡ªç­¾è¯ä¹¦ã€‚åº”ç”¨è½¯ä»¶ä¼šæ£€æŸ¥æ­¤è¯ä¹¦æœ‰å¦å·²é¢„è½½äºæ ¹è¯ä¹¦æ¸…å•ä¸Šï¼Œå¦‚æœæœ‰ï¼Œåˆ™å¯ä»¥åˆ©ç”¨æ ¹è¯ä¹¦ä¸­çš„å…¬é’¥å»éªŒè¯ â€œGlobalSign Organization Validation CA - SHA256 - G2â€ è¯ä¹¦ï¼Œå¦‚æœå‘ç°éªŒè¯é€šè¿‡ï¼Œå°±è®¤ä¸ºè¯¥ä¸­é—´è¯ä¹¦æ˜¯å¯ä¿¡çš„ã€‚",-1),si={href:"http://baidu.com",target:"_blank",rel:"noopener noreferrer"},ri={href:"http://baidu.com",target:"_blank",rel:"noopener noreferrer"},pi={href:"http://baidu.com",target:"_blank",rel:"noopener noreferrer"},li={href:"http://baidu.com",target:"_blank",rel:"noopener noreferrer"},ci={href:"http://baidu.com",target:"_blank",rel:"noopener noreferrer"},gi=n('<figure><img src="'+qe+'" alt="img" tabindex="0" loading="lazy"><figcaption>img</figcaption></figure><p>æ“ä½œç³»ç»Ÿé‡Œä¸€èˆ¬éƒ½ä¼šå†…ç½®ä¸€äº›æ ¹è¯ä¹¦ï¼Œæ¯”å¦‚æˆ‘çš„ MAC ç”µè„‘é‡Œå†…ç½®çš„æ ¹è¯ä¹¦æœ‰è¿™ä¹ˆå¤šï¼š</p><figure><img src="'+He+'" alt="img" tabindex="0" loading="lazy"><figcaption>img</figcaption></figure><p>è¿™æ ·çš„ä¸€å±‚å±‚åœ°éªŒè¯å°±æ„æˆäº†ä¸€æ¡ä¿¡ä»»é“¾è·¯ï¼Œæ•´ä¸ªè¯ä¹¦ä¿¡ä»»é“¾éªŒè¯æµç¨‹å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p><figure><img src="'+Ue+'" alt="img" tabindex="0" loading="lazy"><figcaption>img</figcaption></figure><p>æœ€åä¸€ä¸ªé—®é¢˜ï¼Œä¸ºä»€ä¹ˆéœ€è¦è¯ä¹¦é“¾è¿™ä¹ˆéº»çƒ¦çš„æµç¨‹ï¼ŸRoot CA ä¸ºä»€ä¹ˆä¸ç›´æ¥é¢å‘è¯ä¹¦ï¼Œè€Œæ˜¯è¦æé‚£ä¹ˆå¤šä¸­é—´å±‚çº§å‘¢ï¼Ÿ</p><p><strong>è¿™æ˜¯ä¸ºäº†ç¡®ä¿æ ¹è¯ä¹¦çš„ç»å¯¹å®‰å…¨æ€§ï¼Œå°†æ ¹è¯ä¹¦éš”ç¦»åœ°è¶Šä¸¥æ ¼è¶Šå¥½ï¼Œä¸ç„¶æ ¹è¯ä¹¦å¦‚æœå¤±å®ˆäº†ï¼Œé‚£ä¹ˆæ•´ä¸ªä¿¡ä»»é“¾éƒ½ä¼šæœ‰é—®é¢˜ã€‚</strong></p><h3 id="tcp-udp-åè®®çš„åŒºåˆ«" tabindex="-1"><a class="header-anchor" href="#tcp-udp-åè®®çš„åŒºåˆ«" aria-hidden="true">#</a> TCP, UDP åè®®çš„åŒºåˆ«</h3><figure><img src="'+Oe+'" alt="TCPã€UDPåè®®çš„åŒºåˆ«" tabindex="0" loading="lazy"><figcaption>TCPã€UDPåè®®çš„åŒºåˆ«</figcaption></figure><ol><li>TCPæ˜¯å¯é ä¼ è¾“,UDPæ˜¯ä¸å¯é ä¼ è¾“;</li><li>TCPé¢å‘è¿æ¥,UDPæ— è¿æ¥;</li><li>TCPä¼ è¾“æ•°æ®æœ‰åº,UDPä¸ä¿è¯æ•°æ®çš„æœ‰åºæ€§;</li><li>TCPä¸ä¿å­˜æ•°æ®è¾¹ç•Œ,UDPä¿ç•™æ•°æ®è¾¹ç•Œ;</li><li>TCPä¼ è¾“é€Ÿåº¦ç›¸å¯¹UDPè¾ƒæ…¢;</li><li>TCPæœ‰æµé‡æ§åˆ¶å’Œæ‹¥å¡æ§åˆ¶,UDPæ²¡æœ‰;</li><li>TCPæ˜¯é‡é‡çº§åè®®,UDPæ˜¯è½»é‡çº§åè®®;</li><li>TCPé¦–éƒ¨è¾ƒé•¿20å­—èŠ‚,UDPé¦–éƒ¨è¾ƒçŸ­8å­—èŠ‚;</li></ol><blockquote><p>æ‰©å±•ï¼šåº”ç”¨åœºæ™¯</p></blockquote><p>TCPåº”ç”¨åœºæ™¯ï¼š</p><p>æ•ˆç‡è¦æ±‚ç›¸å¯¹ä½ï¼Œä½†å¯¹å‡†ç¡®æ€§è¦æ±‚ç›¸å¯¹é«˜çš„åœºæ™¯ã€‚å› ä¸ºä¼ è¾“ä¸­éœ€è¦å¯¹æ•°æ®ç¡®è®¤ã€é‡å‘ã€æ’åºç­‰æ“ä½œï¼Œç›¸æ¯”ä¹‹ä¸‹æ•ˆç‡æ²¡æœ‰UDPé«˜ã€‚ä¸¾å‡ ä¸ªä¾‹å­ï¼šæ–‡ä»¶ä¼ è¾“ï¼ˆå‡†ç¡®é«˜è¦æ±‚é«˜ã€ä½†æ˜¯é€Ÿåº¦å¯ä»¥ç›¸å¯¹æ…¢ï¼‰ã€æ¥å—é‚®ä»¶ã€è¿œç¨‹ç™»å½•ã€‚</p><p>UDPåº”ç”¨åœºæ™¯ï¼š</p><p>æ•ˆç‡è¦æ±‚ç›¸å¯¹é«˜ï¼Œå¯¹å‡†ç¡®æ€§è¦æ±‚ç›¸å¯¹ä½çš„åœºæ™¯ã€‚ä¸¾å‡ ä¸ªä¾‹å­ï¼šQQèŠå¤©ã€åœ¨çº¿è§†é¢‘ã€ç½‘ç»œè¯­éŸ³ç”µè¯ï¼ˆå³æ—¶é€šè®¯ï¼Œé€Ÿåº¦è¦æ±‚é«˜ï¼Œä½†æ˜¯å‡ºç°å¶å°”æ–­ç»­ä¸æ˜¯å¤ªå¤§é—®é¢˜ï¼Œå¹¶ä¸”æ­¤å¤„å®Œå…¨ä¸å¯ä»¥ä½¿ç”¨é‡å‘æœºåˆ¶ï¼‰ã€å¹¿æ’­é€šä¿¡ï¼ˆå¹¿æ’­ã€å¤šæ’­ï¼‰</p><h3 id="tcp-å’Œ-udp-å¯ä»¥åŒæ—¶ç»‘å®šç›¸åŒçš„ç«¯å£å—" tabindex="-1"><a class="header-anchor" href="#tcp-å’Œ-udp-å¯ä»¥åŒæ—¶ç»‘å®šç›¸åŒçš„ç«¯å£å—" aria-hidden="true">#</a> TCP å’Œ UDP å¯ä»¥åŒæ—¶ç»‘å®šç›¸åŒçš„ç«¯å£å—ï¼Ÿ</h3><p>å› ä¸ºã€Œç›‘å¬ã€è¿™ä¸ªåŠ¨ä½œæ˜¯åœ¨ TCP æœåŠ¡ç«¯ç½‘ç»œç¼–ç¨‹ä¸­æ‰å…·æœ‰çš„ï¼Œè€Œ UDP æœåŠ¡ç«¯ç½‘ç»œç¼–ç¨‹ä¸­æ˜¯æ²¡æœ‰ã€Œç›‘å¬ã€è¿™ä¸ªåŠ¨ä½œçš„ã€‚</p><p>TCP å’Œ UDP æœåŠ¡ç«¯ç½‘ç»œç›¸ä¼¼çš„ä¸€ä¸ªåœ°æ–¹ï¼Œå°±æ˜¯ä¼šè°ƒç”¨ bind ç»‘å®šç«¯å£ã€‚</p><p>ç»™å¤§å®¶è´´ä¸€ä¸‹ TCP å’Œ UDP ç½‘ç»œç¼–ç¨‹çš„åŒºåˆ«å°±çŸ¥é“äº†ã€‚</p><p>TCP ç½‘ç»œç¼–ç¨‹å¦‚ä¸‹ï¼ŒæœåŠ¡ç«¯æ‰§è¡Œ listen() ç³»ç»Ÿè°ƒç”¨å°±æ˜¯ç›‘å¬ç«¯å£çš„åŠ¨ä½œã€‚</p><figure><img src="'+Me+'" alt="image-20220728170759613" tabindex="0" loading="lazy"><figcaption>image-20220728170759613</figcaption></figure><p>UDP ç½‘ç»œç¼–ç¨‹å¦‚ä¸‹ï¼ŒæœåŠ¡ç«¯æ˜¯æ²¡æœ‰ç›‘å¬è¿™ä¸ªåŠ¨ä½œçš„ï¼Œåªæœ‰æ‰§è¡Œ bind() ç³»ç»Ÿè°ƒç”¨æ¥ç»‘å®šç«¯å£çš„åŠ¨ä½œã€‚</p><figure><img src="'+Re+'" alt="image-20220728170821187" tabindex="0" loading="lazy"><figcaption>image-20220728170821187</figcaption></figure><p>é‚£ä¹ˆï¼Œå›å½’é—®é¢˜ï¼šTCP å’Œ UDP å¯ä»¥åŒæ—¶ç»‘å®šç›¸åŒçš„ç«¯å£å—ï¼Ÿ</p><p>ç­”æ¡ˆï¼š<strong>å¯ä»¥çš„</strong>ã€‚</p><p>åœ¨æ•°æ®é“¾è·¯å±‚ä¸­ï¼Œé€šè¿‡ MAC åœ°å€æ¥å¯»æ‰¾å±€åŸŸç½‘ä¸­çš„ä¸»æœºã€‚åœ¨ç½‘é™…å±‚ä¸­ï¼Œé€šè¿‡ IP åœ°å€æ¥å¯»æ‰¾ç½‘ç»œä¸­äº’è¿çš„ä¸»æœºæˆ–è·¯ç”±å™¨ã€‚åœ¨ä¼ è¾“å±‚ä¸­ï¼Œéœ€è¦é€šè¿‡ç«¯å£è¿›è¡Œå¯»å€ï¼Œæ¥è¯†åˆ«åŒä¸€è®¡ç®—æœºä¸­åŒæ—¶é€šä¿¡çš„ä¸åŒåº”ç”¨ç¨‹åºã€‚</p><p>æ‰€ä»¥ï¼Œä¼ è¾“å±‚çš„ã€Œç«¯å£å·ã€çš„ä½œç”¨ï¼Œæ˜¯ä¸ºäº†åŒºåˆ†åŒä¸€ä¸ªä¸»æœºä¸Šä¸åŒåº”ç”¨ç¨‹åºçš„æ•°æ®åŒ…ã€‚</p><p>ä¼ è¾“å±‚æœ‰ä¸¤ä¸ªä¼ è¾“åè®®åˆ†åˆ«æ˜¯ TCP å’Œ UDPï¼Œåœ¨å†…æ ¸ä¸­æ˜¯ä¸¤ä¸ªå®Œå…¨ç‹¬ç«‹çš„è½¯ä»¶æ¨¡å—ã€‚</p><p>å½“ä¸»æœºæ”¶åˆ°æ•°æ®åŒ…åï¼Œå¯ä»¥åœ¨ IP åŒ…å¤´çš„ã€Œåè®®å·ã€å­—æ®µçŸ¥é“è¯¥æ•°æ®åŒ…æ˜¯ TCP/UDPï¼Œæ‰€ä»¥å¯ä»¥æ ¹æ®è¿™ä¸ªä¿¡æ¯ç¡®å®šé€ç»™å“ªä¸ªæ¨¡å—ï¼ˆTCP/UDPï¼‰å¤„ç†ï¼Œé€ç»™ TCP/UDP æ¨¡å—çš„æŠ¥æ–‡æ ¹æ®ã€Œç«¯å£å·ã€ç¡®å®šé€ç»™å“ªä¸ªåº”ç”¨ç¨‹åºå¤„ç†ã€‚</p><figure><img src="'+ze+'" alt="image-20220728170852816" tabindex="0" loading="lazy"><figcaption>image-20220728170852816</figcaption></figure><p>å› æ­¤ï¼Œ TCP/UDP å„è‡ªçš„ç«¯å£å·ä¹Ÿç›¸äº’ç‹¬ç«‹ï¼Œå¦‚ TCP æœ‰ä¸€ä¸ª 80 å·ç«¯å£ï¼ŒUDP ä¹Ÿå¯ä»¥æœ‰ä¸€ä¸ª 80 å·ç«¯å£ï¼ŒäºŒè€…å¹¶ä¸å†²çªã€‚</p><blockquote><p>éªŒè¯ç»“æœ</p></blockquote><p>æˆ‘ç®€å•å†™äº† TCP å’Œ UDP æœåŠ¡ç«¯çš„ç¨‹åºï¼Œå®ƒä»¬éƒ½ç»‘å®šåŒä¸€ä¸ªç«¯å£å· 8888ã€‚</p><figure><img src="'+Fe+'" alt="image-20220728170909080" tabindex="0" loading="lazy"><figcaption>image-20220728170909080</figcaption></figure><p>è¿è¡Œè¿™ä¸¤ä¸ªç¨‹åºåï¼Œé€šè¿‡ netstat å‘½ä»¤å¯ä»¥çœ‹åˆ°ï¼ŒTCP å’Œ UDP æ˜¯å¯ä»¥åŒæ—¶ç»‘å®šåŒä¸€ä¸ªç«¯å£å·çš„ã€‚</p><figure><img src="'+We+'" alt="image-20220728170923392" tabindex="0" loading="lazy"><figcaption>image-20220728170923392</figcaption></figure><h4 id="å¤šä¸ª-tcp-æœåŠ¡è¿›ç¨‹å¯ä»¥ç»‘å®šåŒä¸€ä¸ªç«¯å£å—" tabindex="-1"><a class="header-anchor" href="#å¤šä¸ª-tcp-æœåŠ¡è¿›ç¨‹å¯ä»¥ç»‘å®šåŒä¸€ä¸ªç«¯å£å—" aria-hidden="true">#</a> å¤šä¸ª TCP æœåŠ¡è¿›ç¨‹å¯ä»¥ç»‘å®šåŒä¸€ä¸ªç«¯å£å—ï¼Ÿ</h4><p>è¿˜æ˜¯ä»¥å‰é¢çš„ TCP æœåŠ¡ç«¯ç¨‹åºä½œä¸ºä¾‹å­ï¼Œå¯åŠ¨ä¸¤ä¸ªåŒæ—¶ç»‘å®šåŒä¸€ä¸ªç«¯å£çš„ TCP æœåŠ¡è¿›ç¨‹ã€‚</p><p>è¿è¡Œç¬¬ä¸€ä¸ª TCP æœåŠ¡è¿›ç¨‹ä¹‹åï¼Œnetstat å‘½ä»¤å¯ä»¥æŸ¥çœ‹ï¼Œ8888 ç«¯å£å·²ç»è¢«ä¸€ä¸ª TCP æœåŠ¡è¿›ç¨‹ç»‘å®šå¹¶ç›‘å¬äº†ï¼Œå¦‚ä¸‹å›¾ï¼š</p><figure><img src="'+Xe+'" alt="image-20220728171018142" tabindex="0" loading="lazy"><figcaption>image-20220728171018142</figcaption></figure><p>æ¥ç€ï¼Œè¿è¡Œç¬¬äºŒä¸ª TCP æœåŠ¡è¿›ç¨‹çš„æ—¶å€™ï¼Œå°±æŠ¥é”™äº†â€œAddress already in useâ€ï¼Œå¦‚ä¸‹å›¾ï¼š</p><figure><img src="'+Ke+'" alt="image-20220728171027834" tabindex="0" loading="lazy"><figcaption>image-20220728171027834</figcaption></figure><p>æˆ‘ä¸Šé¢çš„æµ‹è¯•æ¡ˆä¾‹æ˜¯ä¸¤ä¸ª TCP æœåŠ¡è¿›ç¨‹åŒæ—¶ç»‘å®šåœ°å€å’Œç«¯å£æ˜¯ï¼š0.0.0.0 åœ°å€å’Œ8888ç«¯å£ï¼Œæ‰€ä»¥æ‰å‡ºç°çš„é”™è¯¯ã€‚</p><p>å¦‚æœä¸¤ä¸ª TCP æœåŠ¡è¿›ç¨‹ç»‘å®šçš„ IP åœ°å€ä¸åŒï¼Œè€Œç«¯å£ç›¸åŒçš„è¯ï¼Œä¹Ÿæ˜¯å¯ä»¥ç»‘å®šæˆåŠŸçš„ï¼Œå¦‚ä¸‹å›¾ï¼š</p><figure><img src="'+Qe+'" alt="image-20220728171038129" tabindex="0" loading="lazy"><figcaption>image-20220728171038129</figcaption></figure><p>æ‰€ä»¥ï¼Œé»˜è®¤æƒ…å†µä¸‹ï¼Œé’ˆå¯¹ã€Œå¤šä¸ª TCP æœåŠ¡è¿›ç¨‹å¯ä»¥ç»‘å®šåŒä¸€ä¸ªç«¯å£å—ï¼Ÿã€è¿™ä¸ªé—®é¢˜çš„ç­”æ¡ˆæ˜¯ï¼š<strong>å¦‚æœä¸¤ä¸ª TCP æœåŠ¡è¿›ç¨‹åŒæ—¶ç»‘å®šçš„ IP åœ°å€å’Œç«¯å£éƒ½ç›¸åŒï¼Œé‚£ä¹ˆæ‰§è¡Œ bind() æ—¶å€™å°±ä¼šå‡ºé”™ï¼Œé”™è¯¯æ˜¯â€œAddress already in useâ€</strong>ã€‚</p><p>æ³¨æ„ï¼Œå¦‚æœ TCP æœåŠ¡è¿›ç¨‹ A ç»‘å®šçš„åœ°å€æ˜¯ 0.0.0.0 å’Œç«¯å£ 8888ï¼Œè€Œå¦‚æœ TCP æœåŠ¡è¿›ç¨‹ B ç»‘å®šçš„åœ°å€æ˜¯ 192.168.1.100 åœ°å€ï¼ˆæˆ–è€…å…¶ä»–åœ°å€ï¼‰å’Œç«¯å£ 8888ï¼Œé‚£ä¹ˆæ‰§è¡Œ bind() æ—¶å€™ä¹Ÿä¼šå‡ºé”™ã€‚</p><p>è¿™æ˜¯å› ä¸º 0.0.0.0 åœ°å€æ¯”è¾ƒç‰¹æ®Šï¼Œä»£è¡¨ä»»æ„åœ°å€ï¼Œæ„å‘³ç€ç»‘å®šäº† 0.0.0.0 åœ°å€ï¼Œç›¸å½“äºæŠŠä¸»æœºä¸Šçš„æ‰€æœ‰ IP åœ°å€éƒ½ç»‘å®šäº†ã€‚</p><blockquote><p>é‡å¯ TCP æœåŠ¡è¿›ç¨‹æ—¶ï¼Œä¸ºä»€ä¹ˆä¼šæœ‰â€œAddress in useâ€çš„æŠ¥é”™ä¿¡æ¯ï¼Ÿ</p></blockquote><p>TCP æœåŠ¡è¿›ç¨‹éœ€è¦ç»‘å®šä¸€ä¸ª IP åœ°å€å’Œä¸€ä¸ªç«¯å£ï¼Œç„¶åå°±ç›‘å¬åœ¨è¿™ä¸ªåœ°å€å’Œç«¯å£ä¸Šï¼Œç­‰å¾…å®¢æˆ·ç«¯è¿æ¥çš„åˆ°æ¥ã€‚</p><p>ç„¶ååœ¨å®è·µä¸­ï¼Œæˆ‘ä»¬å¯èƒ½ä¼šç»å¸¸ç¢°åˆ°ä¸€ä¸ªé—®é¢˜ï¼Œå½“ TCP æœåŠ¡è¿›ç¨‹é‡å¯ä¹‹åï¼Œæ€»æ˜¯ç¢°åˆ°â€œAddress in useâ€çš„æŠ¥é”™ä¿¡æ¯ï¼ŒTCP æœåŠ¡è¿›ç¨‹ä¸èƒ½å¾ˆå¿«åœ°é‡å¯ï¼Œè€Œæ˜¯è¦è¿‡ä¸€ä¼šæ‰èƒ½é‡å¯æˆåŠŸã€‚</p><p>è¿™æ˜¯ä¸ºä»€ä¹ˆå‘¢ï¼Ÿ</p><p>å½“æˆ‘ä»¬é‡å¯ TCP æœåŠ¡è¿›ç¨‹çš„æ—¶å€™ï¼Œæ„å‘³ç€é€šè¿‡æœåŠ¡å™¨ç«¯å‘èµ·äº†å…³é—­è¿æ¥æ“ä½œï¼Œäºæ˜¯å°±ä¼šç»è¿‡å››æ¬¡æŒ¥æ‰‹ï¼Œè€Œå¯¹äºä¸»åŠ¨å…³é—­æ–¹ï¼Œä¼šåœ¨ TIME_WAIT è¿™ä¸ªçŠ¶æ€é‡Œåœç•™ä¸€æ®µæ—¶é—´ï¼Œè¿™ä¸ªæ—¶é—´å¤§çº¦ä¸º 2MSLã€‚</p><figure><img src="'+Ve+`" alt="image-20220728171049794" tabindex="0" loading="lazy"><figcaption>image-20220728171049794</figcaption></figure><p><strong>å½“ TCP æœåŠ¡è¿›ç¨‹é‡å¯æ—¶ï¼ŒæœåŠ¡ç«¯ä¼šå‡ºç° TIME_WAIT çŠ¶æ€çš„è¿æ¥ï¼ŒTIME_WAIT çŠ¶æ€çš„è¿æ¥ä½¿ç”¨çš„ IP+PORT ä»ç„¶è¢«è®¤ä¸ºæ˜¯ä¸€ä¸ªæœ‰æ•ˆçš„ IP+PORT ç»„åˆï¼Œç›¸åŒæœºå™¨ä¸Šä¸èƒ½å¤Ÿåœ¨è¯¥ IP+PORT ç»„åˆä¸Šè¿›è¡Œç»‘å®šï¼Œé‚£ä¹ˆæ‰§è¡Œ bind() å‡½æ•°çš„æ—¶å€™ï¼Œå°±ä¼šè¿”å›äº† Address already in use çš„é”™è¯¯</strong>ã€‚</p><p>è€Œç­‰ TIME_WAIT çŠ¶æ€çš„è¿æ¥ç»“æŸåï¼Œé‡å¯ TCP æœåŠ¡è¿›ç¨‹å°±èƒ½æˆåŠŸã€‚</p><blockquote><p>é‡å¯ TCP æœåŠ¡è¿›ç¨‹æ—¶ï¼Œå¦‚ä½•é¿å…â€œAddress in useâ€çš„æŠ¥é”™ä¿¡æ¯ï¼Ÿ</p></blockquote><p>æˆ‘ä»¬å¯ä»¥åœ¨è°ƒç”¨ bind å‰ï¼Œå¯¹ socket è®¾ç½® SO_REUSEADDR å±æ€§ï¼Œå¯ä»¥è§£å†³è¿™ä¸ªé—®é¢˜ã€‚</p><div class="language-c line-numbers-mode" data-ext="c"><pre class="language-c"><code><span class="token keyword">int</span> on <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token function">setsockopt</span><span class="token punctuation">(</span>listenfd<span class="token punctuation">,</span> SOL_SOCKET<span class="token punctuation">,</span> SO_REUSEADDR<span class="token punctuation">,</span> <span class="token operator">&amp;</span>on<span class="token punctuation">,</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>on<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>å› ä¸º SO_REUSEADDR ä½œç”¨æ˜¯**ï¼šå¦‚æœå½“å‰å¯åŠ¨è¿›ç¨‹ç»‘å®šçš„ IP+PORT ä¸å¤„äºTIME_WAIT çŠ¶æ€çš„è¿æ¥å ç”¨çš„ IP+PORT å­˜åœ¨å†²çªï¼Œä½†æ˜¯æ–°å¯åŠ¨çš„è¿›ç¨‹ä½¿ç”¨äº† SO_REUSEADDR é€‰é¡¹ï¼Œé‚£ä¹ˆè¯¥è¿›ç¨‹å°±å¯ä»¥ç»‘å®šæˆåŠŸã€‚**</p><p>ä¸¾ä¸ªä¾‹å­ï¼ŒæœåŠ¡ç«¯æœ‰ä¸ªç›‘å¬ 0.0.0.0 åœ°å€å’Œ 8888 ç«¯å£çš„ TCP æœåŠ¡è¿›ç¨‹ã€‚</p><figure><img src="`+Ye+'" alt="image-20220728171122152" tabindex="0" loading="lazy"><figcaption>image-20220728171122152</figcaption></figure><p>æœ‰ä¸ªå®¢æˆ·ç«¯ï¼ˆIPåœ°å€ï¼š192.168.1.100ï¼‰å·²ç»å’ŒæœåŠ¡ç«¯ï¼ˆIP åœ°å€ï¼š172.19.11.200ï¼‰å»ºç«‹äº† TCP è¿æ¥ï¼Œé‚£ä¹ˆåœ¨ TCP æœåŠ¡è¿›ç¨‹é‡å¯æ—¶ï¼ŒæœåŠ¡ç«¯ä¼šä¸å®¢æˆ·ç«¯ç»å†å››æ¬¡æŒ¥æ‰‹ï¼ŒæœåŠ¡ç«¯çš„ TCP è¿æ¥ä¼šçŸ­æš‚å¤„äº TIME_WAIT çŠ¶æ€ï¼š</p><p>å®¢æˆ·ç«¯åœ°å€:ç«¯å£ æœåŠ¡ç«¯åœ°å€:ç«¯å£ TCP è¿æ¥çŠ¶æ€ 192.168.1.100:37272 172.19.11.200:8888 TIME_WAIT</p><p>å¦‚æœ TCP æœåŠ¡è¿›ç¨‹æ²¡æœ‰å¯¹ socket è®¾ç½® SO_REUSEADDR å±æ€§ï¼Œé‚£ä¹ˆåœ¨é‡å¯æ—¶ï¼Œç”±äºå­˜åœ¨ä¸€ä¸ªå’Œç»‘å®š IP+PORT ä¸€æ ·çš„ TIME_WAIT çŠ¶æ€çš„è¿æ¥ï¼Œé‚£ä¹ˆåœ¨æ‰§è¡Œ bind() å‡½æ•°çš„æ—¶å€™ï¼Œå°±ä¼šè¿”å›äº† Address already in use çš„é”™è¯¯ã€‚</p><p>å¦‚æœ TCP æœåŠ¡è¿›ç¨‹å¯¹ socket è®¾ç½® SO_REUSEADDR å±æ€§äº†ï¼Œé‚£ä¹ˆåœ¨é‡å¯æ—¶ï¼Œå³ä½¿å­˜åœ¨ä¸€ä¸ªå’Œç»‘å®š IP+PORT ä¸€æ ·çš„ TIME_WAIT çŠ¶æ€çš„è¿æ¥ï¼Œä¾ç„¶å¯ä»¥æ­£å¸¸ç»‘å®šæˆåŠŸï¼Œå› æ­¤å¯ä»¥æ­£å¸¸é‡å¯æˆåŠŸã€‚</p><p>å› æ­¤ï¼Œåœ¨æ‰€æœ‰ TCP æœåŠ¡å™¨ç¨‹åºä¸­ï¼Œè°ƒç”¨ bind ä¹‹å‰æœ€å¥½å¯¹ socket è®¾ç½® SO_REUSEADDR å±æ€§ï¼Œè¿™ä¸ä¼šäº§ç”Ÿå±å®³ï¼Œç›¸åï¼Œå®ƒä¼šå¸®åŠ©æˆ‘ä»¬åœ¨å¾ˆå¿«æ—¶é—´å†…é‡å¯æœåŠ¡ç«¯ç¨‹åºã€‚â€</p><p>**å‰é¢æˆ‘æåˆ°è¿‡è¿™ä¸ªé—®é¢˜ï¼š**å¦‚æœ TCP æœåŠ¡è¿›ç¨‹ A ç»‘å®šçš„åœ°å€æ˜¯ 0.0.0.0 å’Œç«¯å£ 8888ï¼Œè€Œå¦‚æœ TCP æœåŠ¡è¿›ç¨‹ B ç»‘å®šçš„åœ°å€æ˜¯ 192.168.1.100 åœ°å€ï¼ˆæˆ–è€…å…¶ä»–åœ°å€ï¼‰å’Œç«¯å£ 8888ï¼Œé‚£ä¹ˆæ‰§è¡Œ bind() æ—¶å€™ä¹Ÿä¼šå‡ºé”™ã€‚</p><p>è¿™ä¸ªé—®é¢˜ä¹Ÿå¯ä»¥ç”± SO_REUSEADDR è§£å†³ï¼Œå› ä¸ºå®ƒçš„**å¦å¤–ä¸€ä¸ªä½œç”¨æ˜¯ï¼š**<strong>ç»‘å®šçš„ IPåœ°å€ + ç«¯å£æ—¶ï¼Œåªè¦ IP åœ°å€ä¸æ˜¯æ­£å¥½(exactly)ç›¸åŒï¼Œé‚£ä¹ˆå…è®¸ç»‘å®šã€‚</strong></p><p>æ¯”å¦‚ï¼Œ0.0.0.0:8888 å’Œ192.168.1.100:8888ï¼Œè™½ç„¶é€»è¾‘æ„ä¹‰ä¸Šå‰è€…åŒ…å«äº†åè€…ï¼Œä½†æ˜¯ 0.0.0.0 æ³›æŒ‡æ‰€æœ‰æœ¬åœ° IPï¼Œè€Œ 192.168.1.100 ç‰¹æŒ‡æŸä¸€IPï¼Œä¸¤è€…å¹¶ä¸æ˜¯å®Œå…¨ç›¸åŒï¼Œæ‰€ä»¥åœ¨å¯¹ socket è®¾ç½® SO_REUSEADDR å±æ€§åï¼Œé‚£ä¹ˆæ‰§è¡Œ bind() æ—¶å€™å°±ä¼šç»‘å®šæˆåŠŸã€‚</p><h4 id="å®¢æˆ·ç«¯çš„ç«¯å£å¯ä»¥é‡å¤ä½¿ç”¨å—" tabindex="-1"><a class="header-anchor" href="#å®¢æˆ·ç«¯çš„ç«¯å£å¯ä»¥é‡å¤ä½¿ç”¨å—" aria-hidden="true">#</a> å®¢æˆ·ç«¯çš„ç«¯å£å¯ä»¥é‡å¤ä½¿ç”¨å—ï¼Ÿ</h4><p>å®¢æˆ·ç«¯åœ¨æ‰§è¡Œ connect å‡½æ•°çš„æ—¶å€™ï¼Œä¼šåœ¨å†…æ ¸é‡Œéšæœºé€‰æ‹©ä¸€ä¸ªç«¯å£ï¼Œç„¶åå‘æœåŠ¡ç«¯å‘èµ· SYN æŠ¥æ–‡ï¼Œç„¶åä¸æœåŠ¡ç«¯è¿›è¡Œä¸‰æ¬¡æ¡æ‰‹ã€‚</p><figure><img src="'+je+`" alt="image-20220728171219211" tabindex="0" loading="lazy"><figcaption>image-20220728171219211</figcaption></figure><p>æ‰€ä»¥ï¼Œå®¢æˆ·ç«¯çš„ç«¯å£é€‰æ‹©çš„å‘ç”Ÿåœ¨ connect å‡½æ•°ï¼Œå†…æ ¸åœ¨é€‰æ‹©ç«¯å£çš„æ—¶å€™ï¼Œä¼šä» <code>net.ipv4.ip_local_port_range</code> è¿™ä¸ªå†…æ ¸å‚æ•°æŒ‡å®šçš„èŒƒå›´æ¥é€‰å–ä¸€ä¸ªç«¯å£ä½œä¸ºå®¢æˆ·ç«¯ç«¯å£ã€‚</p><p>è¯¥å‚æ•°çš„é»˜è®¤å€¼æ˜¯ 32768 61000ï¼Œæ„å‘³ç€ç«¯å£æ€»å¯ç”¨çš„æ•°é‡æ˜¯ 61000 - 32768 = 28232 ä¸ªã€‚</p><p>å½“å®¢æˆ·ç«¯ä¸æœåŠ¡ç«¯å®Œæˆ TCP è¿æ¥å»ºç«‹åï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ netstat å‘½ä»¤æŸ¥çœ‹ TCP è¿æ¥ã€‚</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>$ <span class="token function">netstat</span> <span class="token parameter variable">-napt</span>
åè®®  æºipåœ°å€:ç«¯å£            ç›®çš„ipåœ°å€ï¼šç«¯å£         çŠ¶æ€
tcp  <span class="token number">192.168</span>.110.182.64992   <span class="token number">117.147</span>.199.51.443     ESTABLISHED
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>é‚£é—®é¢˜æ¥äº†ï¼Œä¸Šé¢å®¢æˆ·ç«¯å·²ç»ç”¨äº† 64992 ç«¯å£ï¼Œé‚£ä¹ˆè¿˜å¯ä»¥ç»§ç»­ä½¿ç”¨è¯¥ç«¯å£å‘èµ·è¿æ¥å—ï¼Ÿ</p></blockquote><p>è¿™ä¸ªé—®é¢˜ï¼Œå¾ˆå¤šåŒå­¦éƒ½ä¼šè¯´ä¸å¯ä»¥ç»§ç»­ä½¿ç”¨è¯¥ç«¯å£äº†ï¼Œå¦‚æœæŒ‰è¿™ä¸ªç†è§£çš„è¯ï¼Œ é»˜è®¤æƒ…å†µä¸‹å®¢æˆ·ç«¯å¯ä»¥é€‰æ‹©çš„ç«¯å£æ˜¯ 28232 ä¸ªï¼Œé‚£ä¹ˆæ„å‘³ç€å®¢æˆ·ç«¯åªèƒ½æœ€å¤šå»ºç«‹ 28232 ä¸ª TCP è¿æ¥ï¼Œå¦‚æœçœŸæ˜¯è¿™æ ·çš„è¯ï¼Œé‚£ä¹ˆè¿™ä¸ªå®¢æˆ·ç«¯å¹¶å‘è¿æ¥ä¹Ÿå¤ªå°‘äº†å§ï¼Œæ‰€ä»¥è¿™æ˜¯é”™è¯¯ç†è§£ã€‚</p><p>æ­£ç¡®çš„ç†è§£æ˜¯ï¼Œ<strong>TCP è¿æ¥æ˜¯ç”±å››å…ƒç»„ï¼ˆæºIPåœ°å€ï¼Œæºç«¯å£ï¼Œç›®çš„IPåœ°å€ï¼Œç›®çš„ç«¯å£ï¼‰å”¯ä¸€ç¡®è®¤çš„ï¼Œé‚£ä¹ˆåªè¦å››å…ƒç»„ä¸­å…¶ä¸­ä¸€ä¸ªå…ƒç´ å‘ç”Ÿäº†å˜åŒ–ï¼Œé‚£ä¹ˆå°±è¡¨ç¤ºä¸åŒçš„ TCP è¿æ¥çš„ã€‚æ‰€ä»¥å¦‚æœå®¢æˆ·ç«¯å·²ä½¿ç”¨ç«¯å£ 64992 ä¸æœåŠ¡ç«¯ A å»ºç«‹äº†è¿æ¥ï¼Œé‚£ä¹ˆå®¢æˆ·ç«¯è¦ä¸æœåŠ¡ç«¯ B å»ºç«‹è¿æ¥ï¼Œè¿˜æ˜¯å¯ä»¥ä½¿ç”¨ç«¯å£ 64992 çš„ï¼Œå› ä¸ºå†…æ ¸æ˜¯é€šè¿‡å››å…ƒç¥–ä¿¡æ¯æ¥å®šä½ä¸€ä¸ª TCP è¿æ¥çš„ï¼Œå¹¶ä¸ä¼šå› ä¸ºå®¢æˆ·ç«¯çš„ç«¯å£å·ç›¸åŒï¼Œè€Œå¯¼è‡´è¿æ¥å†²çªçš„é—®é¢˜ã€‚</strong></p><p>æ¯”å¦‚ä¸‹é¢è¿™å¼ å›¾ï¼Œæœ‰ 2 ä¸ª TCP è¿æ¥ï¼Œå·¦è¾¹æ˜¯å®¢æˆ·ç«¯ï¼Œå³è¾¹æ˜¯æœåŠ¡ç«¯ï¼Œå®¢æˆ·ç«¯ä½¿ç”¨äº†ç›¸åŒçš„ç«¯å£ 50004 ä¸ä¸¤ä¸ªæœåŠ¡ç«¯å»ºç«‹äº† TCP è¿æ¥ã€‚</p><figure><img src="`+Ze+`" alt="image-20220728171243582" tabindex="0" loading="lazy"><figcaption>image-20220728171243582</figcaption></figure><p>ä»”ç»†çœ‹ï¼Œä¸Šé¢è¿™ä¸¤æ¡ TCP è¿æ¥çš„å››å…ƒç»„ä¿¡æ¯ä¸­çš„ã€Œç›®çš„ IP åœ°å€ã€æ˜¯ä¸åŒçš„ï¼Œä¸€ä¸ªæ˜¯ 180.101.49.12 ï¼Œå¦å¤–ä¸€ä¸ªæ˜¯ 180.101.49.11ã€‚</p><blockquote><p>å¤šä¸ªå®¢æˆ·ç«¯å¯ä»¥ bind åŒä¸€ä¸ªç«¯å£å—ï¼Ÿ</p></blockquote><p>bind å‡½æ•°è™½ç„¶å¸¸ç”¨äºæœåŠ¡ç«¯ç½‘ç»œç¼–ç¨‹ä¸­ï¼Œä½†æ˜¯å®ƒä¹Ÿæ˜¯ç”¨äºå®¢æˆ·ç«¯çš„ã€‚</p><p>å‰é¢æˆ‘ä»¬çŸ¥é“ï¼Œå®¢æˆ·ç«¯æ˜¯åœ¨è°ƒç”¨ connect å‡½æ•°çš„æ—¶å€™ï¼Œç”±å†…æ ¸éšæœºé€‰å–ä¸€ä¸ªç«¯å£ä½œä¸ºè¿æ¥çš„ç«¯å£ã€‚</p><p>è€Œå¦‚æœæˆ‘ä»¬æƒ³è‡ªå·±æŒ‡å®šè¿æ¥çš„ç«¯å£ï¼Œå°±å¯ä»¥ç”¨ bind å‡½æ•°æ¥å®ç°ï¼šå®¢æˆ·ç«¯å…ˆé€šè¿‡ bind å‡½æ•°ç»‘å®šä¸€ä¸ªç«¯å£ï¼Œç„¶åè°ƒç”¨ connect å‡½æ•°å°±ä¼šè·³è¿‡ç«¯å£é€‰æ‹©çš„è¿‡ç¨‹äº†ï¼Œè½¬è€Œä½¿ç”¨ bind æ—¶ç¡®å®šçš„ç«¯å£ã€‚</p><p>é’ˆå¯¹è¿™ä¸ªé—®é¢˜ï¼šå¤šä¸ªå®¢æˆ·ç«¯å¯ä»¥ bind åŒä¸€ä¸ªç«¯å£å—ï¼Ÿ</p><p>è¦çœ‹å¤šä¸ªå®¢æˆ·ç«¯ç»‘å®šçš„ IP + PORT æ˜¯å¦éƒ½ç›¸åŒï¼Œå¦‚æœéƒ½æ˜¯ç›¸åŒçš„ï¼Œé‚£ä¹ˆåœ¨æ‰§è¡Œ bind() æ—¶å€™å°±ä¼šå‡ºé”™ï¼Œé”™è¯¯æ˜¯â€œAddress already in useâ€ã€‚</p><p>å¦‚æœä¸€ä¸ªç»‘å®šåœ¨ 192.168.1.100:6666ï¼Œä¸€ä¸ªç»‘å®šåœ¨ 192.168.1.200:6666ï¼Œå› ä¸º IP ä¸ç›¸åŒï¼Œæ‰€ä»¥æ‰§è¡Œ bind() çš„æ—¶å€™ï¼Œèƒ½æ­£å¸¸ç»‘å®šã€‚</p><p>æ‰€ä»¥ï¼Œ å¦‚æœå¤šä¸ªå®¢æˆ·ç«¯åŒæ—¶ç»‘å®šçš„ IP åœ°å€å’Œç«¯å£éƒ½æ˜¯ç›¸åŒçš„ï¼Œé‚£ä¹ˆæ‰§è¡Œ bind() æ—¶å€™å°±ä¼šå‡ºé”™ï¼Œé”™è¯¯æ˜¯â€œAddress already in useâ€ã€‚</p><p>ä¸€èˆ¬è€Œè¨€ï¼Œå®¢æˆ·ç«¯ä¸å»ºè®®ä½¿ç”¨ bind å‡½æ•°ï¼Œåº”è¯¥äº¤ç”± connect å‡½æ•°æ¥é€‰æ‹©ç«¯å£ä¼šæ¯”è¾ƒå¥½ï¼Œå› ä¸ºå®¢æˆ·ç«¯çš„ç«¯å£é€šå¸¸éƒ½æ²¡ä»€ä¹ˆæ„ä¹‰ã€‚</p><blockquote><p>å®¢æˆ·ç«¯ TCP è¿æ¥ TIME_WAIT çŠ¶æ€è¿‡å¤šï¼Œä¼šå¯¼è‡´ç«¯å£èµ„æºè€—å°½è€Œæ— æ³•å»ºç«‹æ–°çš„è¿æ¥å—ï¼Ÿ</p></blockquote><p>é’ˆå¯¹è¿™ä¸ªé—®é¢˜è¦çœ‹ï¼Œå®¢æˆ·ç«¯æ˜¯å¦éƒ½æ˜¯ä¸åŒä¸€ä¸ªæœåŠ¡å™¨ï¼ˆç›®æ ‡åœ°å€å’Œç›®æ ‡ç«¯å£ä¸€æ ·ï¼‰å»ºç«‹è¿æ¥ã€‚</p><p>å¦‚æœå®¢æˆ·ç«¯éƒ½æ˜¯ä¸åŒä¸€ä¸ªæœåŠ¡å™¨ï¼ˆç›®æ ‡åœ°å€å’Œç›®æ ‡ç«¯å£ä¸€æ ·ï¼‰å»ºç«‹è¿æ¥ï¼Œé‚£ä¹ˆå¦‚æœå®¢æˆ·ç«¯ TIME_WAIT çŠ¶æ€çš„è¿æ¥è¿‡å¤šï¼Œå½“ç«¯å£èµ„æºè¢«è€—å°½ï¼Œå°±æ— æ³•ä¸è¿™ä¸ªæœåŠ¡å™¨å†å»ºç«‹è¿æ¥äº†ã€‚</p><p>ä½†æ˜¯ï¼Œ<strong>å› ä¸ºåªè¦å®¢æˆ·ç«¯è¿æ¥çš„æœåŠ¡å™¨ä¸åŒï¼Œç«¯å£èµ„æºå¯ä»¥é‡å¤ä½¿ç”¨çš„</strong>ã€‚</p><p>æ‰€ä»¥ï¼Œå¦‚æœå®¢æˆ·ç«¯éƒ½æ˜¯ä¸ä¸åŒçš„æœåŠ¡å™¨å»ºç«‹è¿æ¥ï¼Œå³ä½¿å®¢æˆ·ç«¯ç«¯å£èµ„æºåªæœ‰å‡ ä¸‡ä¸ªï¼Œ å®¢æˆ·ç«¯å‘èµ·ç™¾ä¸‡çº§è¿æ¥ä¹Ÿæ˜¯æ²¡é—®é¢˜çš„ï¼ˆå½“ç„¶è¿™ä¸ªè¿‡ç¨‹è¿˜ä¼šå—é™äºå…¶ä»–èµ„æºï¼Œæ¯”å¦‚æ–‡ä»¶æè¿°ç¬¦ã€å†…å­˜ã€CPU ç­‰ï¼‰ã€‚</p><blockquote><p>å¦‚ä½•è§£å†³å®¢æˆ·ç«¯ TCP è¿æ¥ TIME_WAIT è¿‡å¤šï¼Œå¯¼è‡´æ— æ³•ä¸åŒä¸€ä¸ªæœåŠ¡å™¨å»ºç«‹è¿æ¥çš„é—®é¢˜ï¼Ÿ</p></blockquote><p>å‰é¢æˆ‘ä»¬æåˆ°ï¼Œå¦‚æœå®¢æˆ·ç«¯éƒ½æ˜¯ä¸åŒä¸€ä¸ªæœåŠ¡å™¨ï¼ˆç›®æ ‡åœ°å€å’Œç›®æ ‡ç«¯å£ä¸€æ ·ï¼‰å»ºç«‹è¿æ¥ï¼Œé‚£ä¹ˆå¦‚æœå®¢æˆ·ç«¯ TIME_WAIT çŠ¶æ€çš„è¿æ¥è¿‡å¤šï¼Œå½“ç«¯å£èµ„æºè¢«è€—å°½ï¼Œå°±æ— æ³•ä¸è¿™ä¸ªæœåŠ¡å™¨å†å»ºç«‹è¿æ¥äº†ã€‚</p><p>é’ˆå¯¹è¿™ä¸ªé—®é¢˜ï¼Œä¹Ÿæ˜¯æœ‰è§£å†³åŠæ³•çš„ï¼Œé‚£å°±æ˜¯æ‰“å¼€ <code>net.ipv4.tcp_tw_reuse</code> è¿™ä¸ªå†…æ ¸å‚æ•°ã€‚</p><p><strong>å› ä¸ºå¼€å¯äº†è¿™ä¸ªå†…æ ¸å‚æ•°åï¼Œå®¢æˆ·ç«¯è°ƒç”¨ connect å‡½æ•°æ—¶ï¼Œå¦‚æœé€‰æ‹©åˆ°çš„ç«¯å£ï¼Œå·²ç»è¢«ç›¸åŒå››å…ƒç»„çš„è¿æ¥å ç”¨çš„æ—¶å€™ï¼Œå°±ä¼šåˆ¤æ–­è¯¥è¿æ¥æ˜¯å¦å¤„äº TIME_WAIT çŠ¶æ€ï¼Œå¦‚æœè¯¥è¿æ¥å¤„äº TIME_WAIT çŠ¶æ€å¹¶ä¸” TIME_WAIT çŠ¶æ€æŒç»­çš„æ—¶é—´è¶…è¿‡äº† 1 ç§’ï¼Œé‚£ä¹ˆå°±ä¼šé‡ç”¨è¿™ä¸ªè¿æ¥ï¼Œç„¶åå°±å¯ä»¥æ­£å¸¸ä½¿ç”¨è¯¥ç«¯å£äº†ã€‚</strong></p><p>ä¸¾ä¸ªä¾‹å­ï¼Œå‡è®¾å®¢æˆ·ç«¯å·²ç»ä¸æœåŠ¡å™¨å»ºç«‹äº†ä¸€ä¸ª TCP è¿æ¥ï¼Œå¹¶ä¸”è¿™ä¸ªçŠ¶æ€å¤„äº TIME_WAIT çŠ¶æ€ï¼š</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>å®¢æˆ·ç«¯åœ°å€:ç«¯å£           æœåŠ¡ç«¯åœ°å€:ç«¯å£         TCP è¿æ¥çŠ¶æ€
<span class="token number">192.168</span>.1.100:2222      <span class="token number">172.19</span>.11.21:8888     TIME_WAIT
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>ç„¶åå®¢æˆ·ç«¯åˆä¸è¯¥æœåŠ¡å™¨ï¼ˆ172.19.11.21:8888ï¼‰å‘èµ·äº†è¿æ¥ï¼Œ<strong>åœ¨è°ƒç”¨ connect å‡½æ•°æ—¶ï¼Œå†…æ ¸åˆšå¥½é€‰æ‹©äº† 2222 ç«¯å£ï¼Œæ¥ç€å‘ç°å·²ç»è¢«ç›¸åŒå››å…ƒç»„çš„è¿æ¥å ç”¨äº†ï¼š</strong></p><ul><li>å¦‚æœ<strong>æ²¡æœ‰å¼€å¯</strong> net.ipv4.tcp_tw_reuse å†…æ ¸å‚æ•°ï¼Œé‚£ä¹ˆå†…æ ¸å°±ä¼šé€‰æ‹©ä¸‹ä¸€ä¸ªç«¯å£ï¼Œç„¶åç»§ç»­åˆ¤æ–­ï¼Œç›´åˆ°æ‰¾åˆ°ä¸€ä¸ªæ²¡æœ‰è¢«ç›¸åŒå››å…ƒç»„çš„è¿æ¥ä½¿ç”¨çš„ç«¯å£ï¼Œ å¦‚æœç«¯å£èµ„æºè€—å°½è¿˜æ˜¯æ²¡æ‰¾åˆ°ï¼Œé‚£ä¹ˆ connect å‡½æ•°å°±ä¼šè¿”å›é”™è¯¯ã€‚</li><li>å¦‚æœ<strong>å¼€å¯</strong>äº† net.ipv4.tcp_tw_reuse å†…æ ¸å‚æ•°ï¼Œå°±ä¼šåˆ¤æ–­è¯¥å››å…ƒç»„çš„è¿æ¥çŠ¶æ€æ˜¯å¦å¤„äº TIME_WAIT çŠ¶æ€ï¼Œ<strong>å¦‚æœè¿æ¥å¤„äº TIME_WAIT çŠ¶æ€å¹¶ä¸”è¯¥çŠ¶æ€æŒç»­çš„æ—¶é—´è¶…è¿‡äº† 1 ç§’ï¼Œé‚£ä¹ˆå°±ä¼šé‡ç”¨è¯¥è¿æ¥</strong>ï¼Œäºæ˜¯å°±å¯ä»¥ä½¿ç”¨ 2222 ç«¯å£äº†ï¼Œè¿™æ—¶ connect å°±ä¼šè¿”å›æˆåŠŸã€‚</li></ul><p>å†æ¬¡æé†’ä¸€æ¬¡ï¼Œå¼€å¯äº† net.ipv4.tcp_tw_reuse å†…æ ¸å‚æ•°ï¼Œæ˜¯å®¢æˆ·ç«¯ï¼ˆè¿æ¥å‘èµ·æ–¹ï¼‰ åœ¨è°ƒç”¨ connect() å‡½æ•°æ—¶æ‰èµ·ä½œç”¨ï¼Œæ‰€ä»¥åœ¨æœåŠ¡ç«¯å¼€å¯è¿™ä¸ªå‚æ•°æ˜¯æ²¡æœ‰æ•ˆæœçš„ã€‚</p><blockquote><p>å®¢æˆ·ç«¯ç«¯å£é€‰æ‹©çš„æµç¨‹æ€»ç»“</p></blockquote><p>è‡³æ­¤ï¼Œæˆ‘ä»¬å·²ç»æŠŠå®¢æˆ·ç«¯åœ¨æ‰§è¡Œ connect å‡½æ•°æ—¶ï¼Œå†…æ ¸é€‰æ‹©ç«¯å£çš„æƒ…å†µå¤§è‡´è¯´äº†ä¸€éï¼Œä¸ºäº†è®©å¤§å®¶æ›´æ˜ç™½å®¢æˆ·ç«¯ç«¯å£çš„é€‰æ‹©è¿‡ç¨‹ï¼Œæˆ‘ç”»äº†ä¸€æµç¨‹å›¾ã€‚</p><figure><img src="`+Je+'" alt="image-20220728171309943" tabindex="0" loading="lazy"><figcaption>image-20220728171309943</figcaption></figure><h4 id="æ€»ç»“" tabindex="-1"><a class="header-anchor" href="#æ€»ç»“" aria-hidden="true">#</a> æ€»ç»“</h4><blockquote><p>TCP å’Œ UDP å¯ä»¥åŒæ—¶ç»‘å®šç›¸åŒçš„ç«¯å£å—ï¼Ÿ</p></blockquote><p>å¯ä»¥çš„ã€‚</p><p>TCP å’Œ UDP ä¼ è¾“åè®®ï¼Œåœ¨å†…æ ¸ä¸­æ˜¯ç”±ä¸¤ä¸ªå®Œå…¨ç‹¬ç«‹çš„è½¯ä»¶æ¨¡å—å®ç°çš„ã€‚</p><p>å½“ä¸»æœºæ”¶åˆ°æ•°æ®åŒ…åï¼Œå¯ä»¥åœ¨ IP åŒ…å¤´çš„ã€Œåè®®å·ã€å­—æ®µçŸ¥é“è¯¥æ•°æ®åŒ…æ˜¯ TCP/UDPï¼Œæ‰€ä»¥å¯ä»¥æ ¹æ®è¿™ä¸ªä¿¡æ¯ç¡®å®šé€ç»™å“ªä¸ªæ¨¡å—ï¼ˆTCP/UDPï¼‰å¤„ç†ï¼Œé€ç»™ TCP/UDP æ¨¡å—çš„æŠ¥æ–‡æ ¹æ®ã€Œç«¯å£å·ã€ç¡®å®šé€ç»™å“ªä¸ªåº”ç”¨ç¨‹åºå¤„ç†ã€‚</p><p>å› æ­¤ï¼Œ TCP/UDP å„è‡ªçš„ç«¯å£å·ä¹Ÿç›¸äº’ç‹¬ç«‹ï¼Œäº’ä¸å½±å“ã€‚</p><blockquote><p>å¤šä¸ª TCP æœåŠ¡è¿›ç¨‹å¯ä»¥åŒæ—¶ç»‘å®šåŒä¸€ä¸ªç«¯å£å—ï¼Ÿ</p></blockquote><p>å¦‚æœä¸¤ä¸ª TCP æœåŠ¡è¿›ç¨‹åŒæ—¶ç»‘å®šçš„ IP åœ°å€å’Œç«¯å£éƒ½ç›¸åŒï¼Œé‚£ä¹ˆæ‰§è¡Œ bind() æ—¶å€™å°±ä¼šå‡ºé”™ï¼Œé”™è¯¯æ˜¯â€œAddress already in useâ€ã€‚</p><p>å¦‚æœä¸¤ä¸ª TCP æœåŠ¡è¿›ç¨‹ç»‘å®šçš„ç«¯å£éƒ½ç›¸åŒï¼Œè€Œ IP åœ°å€ä¸åŒï¼Œé‚£ä¹ˆæ‰§è¡Œ bind() ä¸ä¼šå‡ºé”™ã€‚</p><blockquote><p>å¦‚ä½•è§£å†³æœåŠ¡ç«¯é‡å¯æ—¶ï¼ŒæŠ¥é”™â€œAddress already in useâ€çš„é—®é¢˜ï¼Ÿ</p></blockquote><p>å½“æˆ‘ä»¬é‡å¯ TCP æœåŠ¡è¿›ç¨‹çš„æ—¶å€™ï¼Œæ„å‘³ç€é€šè¿‡æœåŠ¡å™¨ç«¯å‘èµ·äº†å…³é—­è¿æ¥æ“ä½œï¼Œäºæ˜¯å°±ä¼šç»è¿‡å››æ¬¡æŒ¥æ‰‹ï¼Œè€Œå¯¹äºä¸»åŠ¨å…³é—­æ–¹ï¼Œä¼šåœ¨ TIME_WAIT è¿™ä¸ªçŠ¶æ€é‡Œåœç•™ä¸€æ®µæ—¶é—´ï¼Œè¿™ä¸ªæ—¶é—´å¤§çº¦ä¸º 2MSLã€‚</p><p>å½“ TCP æœåŠ¡è¿›ç¨‹é‡å¯æ—¶ï¼ŒæœåŠ¡ç«¯ä¼šå‡ºç° TIME_WAIT çŠ¶æ€çš„è¿æ¥ï¼ŒTIME_WAIT çŠ¶æ€çš„è¿æ¥ä½¿ç”¨çš„ IP+PORT ä»ç„¶è¢«è®¤ä¸ºæ˜¯ä¸€ä¸ªæœ‰æ•ˆçš„ IP+PORT ç»„åˆï¼Œç›¸åŒæœºå™¨ä¸Šä¸èƒ½å¤Ÿåœ¨è¯¥ IP+PORT ç»„åˆä¸Šè¿›è¡Œç»‘å®šï¼Œé‚£ä¹ˆæ‰§è¡Œ bind() å‡½æ•°çš„æ—¶å€™ï¼Œå°±ä¼šè¿”å›äº† Address already in use çš„é”™è¯¯ã€‚</p><p>è¦è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬å¯ä»¥å¯¹ socket è®¾ç½® SO_REUSEADDR å±æ€§ã€‚</p><p>è¿™æ ·å³ä½¿å­˜åœ¨ä¸€ä¸ªå’Œç»‘å®š IP+PORT ä¸€æ ·çš„ TIME_WAIT çŠ¶æ€çš„è¿æ¥ï¼Œä¾ç„¶å¯ä»¥æ­£å¸¸ç»‘å®šæˆåŠŸï¼Œå› æ­¤å¯ä»¥æ­£å¸¸é‡å¯æˆåŠŸã€‚</p><blockquote><p>å®¢æˆ·ç«¯çš„ç«¯å£å¯ä»¥é‡å¤ä½¿ç”¨å—ï¼Ÿ</p></blockquote><p>åœ¨å®¢æˆ·ç«¯æ‰§è¡Œ connect å‡½æ•°çš„æ—¶å€™ï¼Œåªè¦å®¢æˆ·ç«¯è¿æ¥çš„æœåŠ¡å™¨ä¸æ˜¯åŒä¸€ä¸ªï¼Œå†…æ ¸å…è®¸ç«¯å£é‡å¤ä½¿ç”¨ã€‚</p><p>TCP è¿æ¥æ˜¯ç”±å››å…ƒç»„ï¼ˆæºIPåœ°å€ï¼Œæºç«¯å£ï¼Œç›®çš„IPåœ°å€ï¼Œç›®çš„ç«¯å£ï¼‰å”¯ä¸€ç¡®è®¤çš„ï¼Œé‚£ä¹ˆåªè¦å››å…ƒç»„ä¸­å…¶ä¸­ä¸€ä¸ªå…ƒç´ å‘ç”Ÿäº†å˜åŒ–ï¼Œé‚£ä¹ˆå°±è¡¨ç¤ºä¸åŒçš„ TCP è¿æ¥çš„ã€‚</p><p>æ‰€ä»¥ï¼Œå¦‚æœå®¢æˆ·ç«¯å·²ä½¿ç”¨ç«¯å£ 64992 ä¸æœåŠ¡ç«¯ A å»ºç«‹äº†è¿æ¥ï¼Œé‚£ä¹ˆå®¢æˆ·ç«¯è¦ä¸æœåŠ¡ç«¯ B å»ºç«‹è¿æ¥ï¼Œè¿˜æ˜¯å¯ä»¥ä½¿ç”¨ç«¯å£ 64992 çš„ï¼Œå› ä¸ºå†…æ ¸æ˜¯é€šè¿‡å››å…ƒç¥–ä¿¡æ¯æ¥å®šä½ä¸€ä¸ª TCP è¿æ¥çš„ï¼Œå¹¶ä¸ä¼šå› ä¸ºå®¢æˆ·ç«¯çš„ç«¯å£å·ç›¸åŒï¼Œè€Œå¯¼è‡´è¿æ¥å†²çªçš„é—®é¢˜ã€‚</p><blockquote><p>å®¢æˆ·ç«¯ TCP è¿æ¥ TIME_WAIT çŠ¶æ€è¿‡å¤šï¼Œä¼šå¯¼è‡´ç«¯å£èµ„æºè€—å°½è€Œæ— æ³•å»ºç«‹æ–°çš„è¿æ¥å—ï¼Ÿ</p></blockquote><p>è¦çœ‹å®¢æˆ·ç«¯æ˜¯å¦éƒ½æ˜¯ä¸åŒä¸€ä¸ªæœåŠ¡å™¨ï¼ˆç›®æ ‡åœ°å€å’Œç›®æ ‡ç«¯å£ä¸€æ ·ï¼‰å»ºç«‹è¿æ¥ã€‚</p><p>å¦‚æœå®¢æˆ·ç«¯éƒ½æ˜¯ä¸åŒä¸€ä¸ªæœåŠ¡å™¨ï¼ˆç›®æ ‡åœ°å€å’Œç›®æ ‡ç«¯å£ä¸€æ ·ï¼‰å»ºç«‹è¿æ¥ï¼Œé‚£ä¹ˆå¦‚æœå®¢æˆ·ç«¯ TIME_WAIT çŠ¶æ€çš„è¿æ¥è¿‡å¤šï¼Œå½“ç«¯å£èµ„æºè¢«è€—å°½ï¼Œå°±æ— æ³•ä¸è¿™ä¸ªæœåŠ¡å™¨å†å»ºç«‹è¿æ¥äº†ã€‚å³ä½¿åœ¨è¿™ç§çŠ¶æ€ä¸‹ï¼Œè¿˜æ˜¯å¯ä»¥ä¸å…¶ä»–æœåŠ¡å™¨å»ºç«‹è¿æ¥çš„ï¼Œåªè¦å®¢æˆ·ç«¯è¿æ¥çš„æœåŠ¡å™¨ä¸æ˜¯åŒä¸€ä¸ªï¼Œé‚£ä¹ˆç«¯å£æ˜¯é‡å¤ä½¿ç”¨çš„ã€‚</p><blockquote><p>å¦‚ä½•è§£å†³å®¢æˆ·ç«¯ TCP è¿æ¥ TIME_WAIT è¿‡å¤šï¼Œå¯¼è‡´æ— æ³•ä¸åŒä¸€ä¸ªæœåŠ¡å™¨å»ºç«‹è¿æ¥çš„é—®é¢˜ï¼Ÿ</p></blockquote><p>æ‰“å¼€ net.ipv4.tcp_tw_reuse è¿™ä¸ªå†…æ ¸å‚æ•°ã€‚</p><p>å› ä¸ºå¼€å¯äº†è¿™ä¸ªå†…æ ¸å‚æ•°åï¼Œå®¢æˆ·ç«¯è°ƒç”¨ connect å‡½æ•°æ—¶ï¼Œå¦‚æœé€‰æ‹©åˆ°çš„ç«¯å£ï¼Œå·²ç»è¢«ç›¸åŒå››å…ƒç»„çš„è¿æ¥å ç”¨çš„æ—¶å€™ï¼Œå°±ä¼šåˆ¤æ–­è¯¥è¿æ¥æ˜¯å¦å¤„äº TIME_WAIT çŠ¶æ€ã€‚</p><p>å¦‚æœè¯¥è¿æ¥å¤„äº TIME_WAIT çŠ¶æ€å¹¶ä¸” TIME_WAIT çŠ¶æ€æŒç»­çš„æ—¶é—´è¶…è¿‡äº† 1 ç§’ï¼Œé‚£ä¹ˆå°±ä¼šé‡ç”¨è¿™ä¸ªè¿æ¥ï¼Œç„¶åå°±å¯ä»¥æ­£å¸¸ä½¿ç”¨è¯¥ç«¯å£äº†ã€‚</p><h3 id="http-å“ªäº›å¸¸ç”¨çš„çŠ¶æ€ç " tabindex="-1"><a class="header-anchor" href="#http-å“ªäº›å¸¸ç”¨çš„çŠ¶æ€ç " aria-hidden="true">#</a> HTTP å“ªäº›å¸¸ç”¨çš„çŠ¶æ€ç </h3><figure><img src="'+Ge+'" alt=" äº”å¤§ç±» HTTP çŠ¶æ€ç  " tabindex="0" loading="lazy"><figcaption> äº”å¤§ç±» HTTP çŠ¶æ€ç  </figcaption></figure><p><code>1xx</code> ç±»çŠ¶æ€ç å±äº<strong>æç¤ºä¿¡æ¯</strong>ï¼Œæ˜¯åè®®å¤„ç†ä¸­çš„ä¸€ç§ä¸­é—´çŠ¶æ€ï¼Œå®é™…ç”¨åˆ°çš„æ¯”è¾ƒå°‘ã€‚</p><p><code>2xx</code> ç±»çŠ¶æ€ç è¡¨ç¤ºæœåŠ¡å™¨<strong>æˆåŠŸ</strong>å¤„ç†äº†å®¢æˆ·ç«¯çš„è¯·æ±‚ï¼Œä¹Ÿæ˜¯æˆ‘ä»¬æœ€æ„¿æ„çœ‹åˆ°çš„çŠ¶æ€ã€‚</p><ul><li>ã€Œ<strong>200 OK</strong>ã€æ˜¯æœ€å¸¸è§çš„æˆåŠŸçŠ¶æ€ç ï¼Œè¡¨ç¤ºä¸€åˆ‡æ­£å¸¸ã€‚å¦‚æœæ˜¯é <code>HEAD</code> è¯·æ±‚ï¼ŒæœåŠ¡å™¨è¿”å›çš„å“åº”å¤´éƒ½ä¼šæœ‰ body æ•°æ®ã€‚</li><li>ã€Œ<strong>204 No Content</strong>ã€ä¹Ÿæ˜¯å¸¸è§çš„æˆåŠŸçŠ¶æ€ç ï¼Œä¸ 200 OK åŸºæœ¬ç›¸åŒï¼Œä½†å“åº”å¤´æ²¡æœ‰ body æ•°æ®ã€‚</li><li>ã€Œ<strong>206 Partial Content</strong>ã€æ˜¯åº”ç”¨äº HTTP åˆ†å—ä¸‹è½½æˆ–æ–­ç‚¹ç»­ä¼ ï¼Œè¡¨ç¤ºå“åº”è¿”å›çš„ body æ•°æ®å¹¶ä¸æ˜¯èµ„æºçš„å…¨éƒ¨ï¼Œè€Œæ˜¯å…¶ä¸­çš„ä¸€éƒ¨åˆ†ï¼Œä¹Ÿæ˜¯æœåŠ¡å™¨å¤„ç†æˆåŠŸçš„çŠ¶æ€ã€‚</li></ul><p><code>3xx</code> ç±»çŠ¶æ€ç è¡¨ç¤ºå®¢æˆ·ç«¯è¯·æ±‚çš„èµ„æºå‘ç”Ÿäº†å˜åŠ¨ï¼Œéœ€è¦å®¢æˆ·ç«¯ç”¨æ–°çš„ URL é‡æ–°å‘é€è¯·æ±‚è·å–èµ„æºï¼Œä¹Ÿå°±æ˜¯<strong>é‡å®šå‘</strong>ã€‚</p><ul><li>ã€Œ<strong>301 Moved Permanently</strong>ã€è¡¨ç¤ºæ°¸ä¹…é‡å®šå‘ï¼Œè¯´æ˜è¯·æ±‚çš„èµ„æºå·²ç»ä¸å­˜åœ¨äº†ï¼Œéœ€æ”¹ç”¨æ–°çš„ URL å†æ¬¡è®¿é—®ã€‚</li><li>ã€Œ<strong>302 Found</strong>ã€è¡¨ç¤ºä¸´æ—¶é‡å®šå‘ï¼Œè¯´æ˜è¯·æ±‚çš„èµ„æºè¿˜åœ¨ï¼Œä½†æš‚æ—¶éœ€è¦ç”¨å¦ä¸€ä¸ª URL æ¥è®¿é—®ã€‚</li></ul><p>301 å’Œ 302 éƒ½ä¼šåœ¨å“åº”å¤´é‡Œä½¿ç”¨å­—æ®µ <code>Location</code>ï¼ŒæŒ‡æ˜åç»­è¦è·³è½¬çš„ URLï¼Œæµè§ˆå™¨ä¼šè‡ªåŠ¨é‡å®šå‘æ–°çš„ URLã€‚</p><ul><li>ã€Œ<strong>304 Not Modified</strong>ã€ä¸å…·æœ‰è·³è½¬çš„å«ä¹‰ï¼Œè¡¨ç¤ºèµ„æºæœªä¿®æ”¹ï¼Œé‡å®šå‘å·²å­˜åœ¨çš„ç¼“å†²æ–‡ä»¶ï¼Œä¹Ÿç§°ç¼“å­˜é‡å®šå‘ï¼Œä¹Ÿå°±æ˜¯å‘Šè¯‰å®¢æˆ·ç«¯å¯ä»¥ç»§ç»­ä½¿ç”¨ç¼“å­˜èµ„æºï¼Œç”¨äºç¼“å­˜æ§åˆ¶ã€‚</li></ul><p><code>4xx</code> ç±»çŠ¶æ€ç è¡¨ç¤ºå®¢æˆ·ç«¯å‘é€çš„<strong>æŠ¥æ–‡æœ‰è¯¯</strong>ï¼ŒæœåŠ¡å™¨æ— æ³•å¤„ç†ï¼Œä¹Ÿå°±æ˜¯é”™è¯¯ç çš„å«ä¹‰ã€‚</p><ul><li>ã€Œ<strong>400 Bad Request</strong>ã€è¡¨ç¤ºå®¢æˆ·ç«¯è¯·æ±‚çš„æŠ¥æ–‡æœ‰é”™è¯¯ï¼Œä½†åªæ˜¯ä¸ªç¬¼ç»Ÿçš„é”™è¯¯ã€‚</li><li>ã€Œ<strong>403 Forbidden</strong>ã€è¡¨ç¤ºæœåŠ¡å™¨ç¦æ­¢è®¿é—®èµ„æºï¼Œå¹¶ä¸æ˜¯å®¢æˆ·ç«¯çš„è¯·æ±‚å‡ºé”™ã€‚</li><li>ã€Œ<strong>404 Not Found</strong>ã€è¡¨ç¤ºè¯·æ±‚çš„èµ„æºåœ¨æœåŠ¡å™¨ä¸Šä¸å­˜åœ¨æˆ–æœªæ‰¾åˆ°ï¼Œæ‰€ä»¥æ— æ³•æä¾›ç»™å®¢æˆ·ç«¯ã€‚</li></ul><p><code>5xx</code> ç±»çŠ¶æ€ç è¡¨ç¤ºå®¢æˆ·ç«¯è¯·æ±‚æŠ¥æ–‡æ­£ç¡®ï¼Œä½†æ˜¯<strong>æœåŠ¡å™¨å¤„ç†æ—¶å†…éƒ¨å‘ç”Ÿäº†é”™è¯¯</strong>ï¼Œå±äºæœåŠ¡å™¨ç«¯çš„é”™è¯¯ç ã€‚</p><ul><li>ã€Œ<strong>500 Internal Server Error</strong>ã€ä¸ 400 ç±»å‹ï¼Œæ˜¯ä¸ªç¬¼ç»Ÿé€šç”¨çš„é”™è¯¯ç ï¼ŒæœåŠ¡å™¨å‘ç”Ÿäº†ä»€ä¹ˆé”™è¯¯ï¼Œæˆ‘ä»¬å¹¶ä¸çŸ¥é“ã€‚</li><li>ã€Œ<strong>501 Not Implemented</strong>ã€è¡¨ç¤ºå®¢æˆ·ç«¯è¯·æ±‚çš„åŠŸèƒ½è¿˜ä¸æ”¯æŒï¼Œç±»ä¼¼â€œå³å°†å¼€ä¸šï¼Œæ•¬è¯·æœŸå¾…â€çš„æ„æ€ã€‚</li><li>ã€Œ<strong>502 Bad Gateway</strong>ã€é€šå¸¸æ˜¯æœåŠ¡å™¨ä½œä¸ºç½‘å…³æˆ–ä»£ç†æ—¶è¿”å›çš„é”™è¯¯ç ï¼Œè¡¨ç¤ºæœåŠ¡å™¨è‡ªèº«å·¥ä½œæ­£å¸¸ï¼Œè®¿é—®åç«¯æœåŠ¡å™¨å‘ç”Ÿäº†é”™è¯¯ã€‚</li><li>ã€Œ<strong>503 Service Unavailable</strong>ã€è¡¨ç¤ºæœåŠ¡å™¨å½“å‰å¾ˆå¿™ï¼Œæš‚æ—¶æ— æ³•å“åº”å®¢æˆ·ç«¯ï¼Œç±»ä¼¼â€œç½‘ç»œæœåŠ¡æ­£å¿™ï¼Œè¯·ç¨åé‡è¯•â€çš„æ„æ€ã€‚</li></ul><h3 id="httpå¦‚ä½•å®ç°é•¿è¿æ¥" tabindex="-1"><a class="header-anchor" href="#httpå¦‚ä½•å®ç°é•¿è¿æ¥" aria-hidden="true">#</a> HTTPå¦‚ä½•å®ç°é•¿è¿æ¥</h3><p>æ—©æœŸ HTTP/1.0 æ€§èƒ½ä¸Šçš„ä¸€ä¸ªå¾ˆå¤§çš„é—®é¢˜ï¼Œé‚£å°±æ˜¯æ¯å‘èµ·ä¸€ä¸ªè¯·æ±‚ï¼Œéƒ½è¦æ–°å»ºä¸€æ¬¡ TCP è¿æ¥ï¼ˆä¸‰æ¬¡æ¡æ‰‹ï¼‰ï¼Œè€Œä¸”æ˜¯ä¸²è¡Œè¯·æ±‚ï¼Œåšäº†æ— è°“çš„ TCP è¿æ¥å»ºç«‹å’Œæ–­å¼€ï¼Œå¢åŠ äº†é€šä¿¡å¼€é”€ã€‚</p><p>ä¸ºäº†è§£å†³ä¸Šè¿° TCP è¿æ¥é—®é¢˜ï¼ŒHTTP/1.1 æå‡ºäº†<strong>é•¿è¿æ¥</strong>çš„é€šä¿¡æ–¹å¼ï¼Œä¹Ÿå«æŒä¹…è¿æ¥ã€‚è¿™ç§æ–¹å¼çš„å¥½å¤„åœ¨äºå‡å°‘äº† TCP è¿æ¥çš„é‡å¤å»ºç«‹å’Œæ–­å¼€æ‰€é€ æˆçš„é¢å¤–å¼€é”€ï¼Œå‡è½»äº†æœåŠ¡å™¨ç«¯çš„è´Ÿè½½ã€‚</p><p>æŒä¹…è¿æ¥çš„ç‰¹ç‚¹æ˜¯ï¼Œåªè¦ä»»æ„ä¸€ç«¯æ²¡æœ‰æ˜ç¡®æå‡ºæ–­å¼€è¿æ¥ï¼Œåˆ™ä¿æŒ TCP è¿æ¥çŠ¶æ€ã€‚</p><figure><img src="'+$e+'" alt="çŸ­è¿æ¥ä¸é•¿è¿æ¥" tabindex="0" loading="lazy"><figcaption>çŸ­è¿æ¥ä¸é•¿è¿æ¥</figcaption></figure><p>ä½†æ˜¯<strong>æœåŠ¡å™¨å¿…é¡»æŒ‰ç…§æ¥æ”¶è¯·æ±‚çš„é¡ºåºå‘é€å¯¹è¿™äº›ç®¡é“åŒ–è¯·æ±‚çš„å“åº”</strong>ã€‚</p><p>å¦‚æœæœåŠ¡ç«¯åœ¨å¤„ç† A è¯·æ±‚æ—¶è€—æ—¶æ¯”è¾ƒé•¿ï¼Œé‚£ä¹ˆåç»­çš„è¯·æ±‚çš„å¤„ç†éƒ½ä¼šè¢«é˜»å¡ä½ï¼Œè¿™ç§°ä¸ºã€Œé˜Ÿå¤´å µå¡ã€ã€‚</p><p>æ‰€ä»¥ï¼Œ<strong>HTTP/1.1 ç®¡é“è§£å†³äº†è¯·æ±‚çš„é˜Ÿå¤´é˜»å¡ï¼Œä½†æ˜¯æ²¡æœ‰è§£å†³å“åº”çš„é˜Ÿå¤´é˜»å¡</strong>ã€‚</p><p><em><strong>æ³¨æ„ï¼šå®é™…ä¸Š HTTP/1.1 ç®¡é“åŒ–æŠ€æœ¯ä¸æ˜¯é»˜è®¤å¼€å¯ï¼Œè€Œä¸”æµè§ˆå™¨åŸºæœ¬éƒ½æ²¡æœ‰æ”¯æŒï¼Œæ‰€ä»¥åé¢è®¨è®ºHTTP/1.1 éƒ½æ˜¯å»ºç«‹åœ¨æ²¡æœ‰ä½¿ç”¨ç®¡é“åŒ–çš„å‰æã€‚</strong></em></p><h3 id="äº¤æ¢æœºå’Œè·¯ç”±å™¨çš„åŒºåˆ«" tabindex="-1"><a class="header-anchor" href="#äº¤æ¢æœºå’Œè·¯ç”±å™¨çš„åŒºåˆ«" aria-hidden="true">#</a> äº¤æ¢æœºå’Œè·¯ç”±å™¨çš„åŒºåˆ«</h3><ol><li><strong>åŠŸèƒ½</strong>ï¼š <ul><li>äº¤æ¢æœºï¼šä¸»è¦ç”¨äºè¿æ¥<code>åŒä¸€å±€åŸŸç½‘ï¼ˆLANï¼‰å†…</code>çš„è®¾å¤‡ï¼Œä¾‹å¦‚è®¡ç®—æœºã€æ‰“å°æœºç­‰ï¼Œå¹¶åœ¨å®ƒä»¬ä¹‹é—´ä¼ è¾“æ•°æ®ã€‚</li><li>è·¯ç”±å™¨ï¼šä¸»è¦ç”¨äºè¿æ¥<code>ä¸åŒç½‘ç»œ</code>ï¼Œå¹¶åœ¨è¿™äº›ç½‘ç»œä¹‹é—´ä¼ è¾“æ•°æ®ã€‚</li></ul></li><li><strong>å·¥ä½œå±‚æ¬¡</strong>ï¼š <ul><li>äº¤æ¢æœºï¼šåœ¨<code>æ•°æ®é“¾è·¯å±‚ï¼ˆç¬¬2å±‚ï¼‰</code>å·¥ä½œã€‚</li><li>è·¯ç”±å™¨ï¼šåœ¨<code>ç½‘ç»œå±‚ï¼ˆç¬¬3å±‚ï¼‰</code>å·¥ä½œã€‚</li></ul></li><li><strong>åœ°å€ç±»å‹</strong>ï¼š <ul><li>äº¤æ¢æœºï¼šä½¿ç”¨<code>ç‰©ç†åœ°å€ï¼ˆMACåœ°å€ï¼‰</code>è¿›è¡Œé€šä¿¡ã€‚</li><li>è·¯ç”±å™¨ï¼šä½¿ç”¨<code>é€»è¾‘åœ°å€ï¼ˆä¾‹å¦‚IPåœ°å€ï¼‰</code>è¿›è¡Œé€šä¿¡ã€‚</li></ul></li><li><strong>æ•°æ®æ ¼å¼</strong>ï¼š <ul><li>äº¤æ¢æœºï¼šæ•°æ®åŒ…å’Œæ•°æ®å¸§çš„å½¢å¼å‘é€æ•°æ®ã€‚</li><li>è·¯ç”±å™¨ï¼šä»¥æ•°æ®åŒ…çš„å½¢å¼å‘é€æ•°æ®ã€‚</li></ul></li><li><strong>ä¼ è¾“æ¨¡å¼</strong><ul><li>äº¤æ¢æœºï¼šåŒå·¥ä¼ è¾“æ¨¡å¼</li><li>è·¯ç”±å™¨ï¼šåŒå·¥ä¼ è¾“æ¨¡å¼</li></ul></li></ol>',158),di=e("p",null,"å‚è€ƒæ–‡çŒ®ï¼š",-1),ui={href:"https://www.geeksforgeeks.org/difference-between-router-and-switch/",target:"_blank",rel:"noopener noreferrer"},hi={href:"https://www.tutorialspoint.com/difference-between-router-and-switch",target:"_blank",rel:"noopener noreferrer"},fi={href:"https://www.youtube.com/watch?v=1z0ULvg_pW8",target:"_blank",rel:"noopener noreferrer"},mi=e("h3",{id:"osi-7å±‚æ¨¡å‹æ¯ä¸€å±‚éƒ½ç”¨åˆ°ä»€ä¹ˆåè®®",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#osi-7å±‚æ¨¡å‹æ¯ä¸€å±‚éƒ½ç”¨åˆ°ä»€ä¹ˆåè®®","aria-hidden":"true"},"#"),t(" OSI 7å±‚æ¨¡å‹æ¯ä¸€å±‚éƒ½ç”¨åˆ°ä»€ä¹ˆåè®®")],-1),Pi=e("li",null,[e("strong",null,"ç‰©ç†å±‚"),t("ï¼šè´Ÿè´£åœ¨ç‰©ç†åª’ä»‹ä¸Šè¿›è¡Œæ•°æ®çš„ä¼ è¾“ï¼Œå¸¸ç”¨çš„æ ‡å‡†å’Œåè®®åŒ…æ‹¬ï¼š "),e("ul",null,[e("li",null,"Ethernet"),e("li",null,"USB"),e("li",null,"Bluetooth"),e("li",null,"802.11ï¼ˆWi-Fiï¼‰")])],-1),Ti=e("strong",null,"æ•°æ®é“¾è·¯å±‚",-1),bi={href:"https://zh.wikipedia.org/wiki/%E4%BB%A5%E5%A4%AA%E7%BD%91",target:"_blank",rel:"noopener noreferrer"},Ci={href:"https://zh.wikipedia.org/wiki/%E7%82%B9%E5%AF%B9%E7%82%B9%E5%8D%8F%E8%AE%AE",target:"_blank",rel:"noopener noreferrer"},Ai={href:"https://zh.wikipedia.org/wiki/%E5%B8%A7%E4%B8%AD%E7%BB%A7",target:"_blank",rel:"noopener noreferrer"},ki=e("strong",null,"ç½‘ç»œå±‚",-1),Si={href:"https://zh.wikipedia.org/wiki/IP%E5%9C%B0%E5%9D%80",target:"_blank",rel:"noopener noreferrer"},wi={href:"https://zh.wikipedia.org/wiki/%E4%BA%92%E8%81%94%E7%BD%91%E6%8E%A7%E5%88%B6%E6%B6%88%E6%81%AF%E5%8D%8F%E8%AE%AE",target:"_blank",rel:"noopener noreferrer"},Ii={href:"https://zh.wikipedia.org/wiki/%E5%9B%A0%E7%89%B9%E7%BD%91%E7%BB%84%E7%AE%A1%E7%90%86%E5%8D%8F%E8%AE%AE",target:"_blank",rel:"noopener noreferrer"},_i=e("strong",null,"ä¼ è¾“å±‚",-1),Ei={href:"https://zh.wikipedia.org/wiki/TCP",target:"_blank",rel:"noopener noreferrer"},Ni={href:"https://zh.wikipedia.org/wiki/%E7%94%A8%E6%88%B7%E6%95%B0%E6%8D%AE%E6%8A%A5%E5%8D%8F%E8%AE%AE",target:"_blank",rel:"noopener noreferrer"},vi={href:"https://zh.wikipedia.org/wiki/%E6%B5%81%E6%8E%A7%E5%88%B6%E4%BC%A0%E8%BE%93%E5%8D%8F%E8%AE%AE",target:"_blank",rel:"noopener noreferrer"},Li=e("li",null,[e("strong",null,"ä¼šè¯å±‚"),t("ï¼šè´Ÿè´£åœ¨ç½‘ç»œè®¾å¤‡ä¹‹é—´å»ºç«‹ã€ç®¡ç†å’Œç»ˆæ­¢ä¼šè¯ï¼Œå®ƒä½¿ç”¨çš„åè®®ä¸å¤šï¼Œè€Œä¸”åœ¨ç°ä»£ç½‘ç»œä¸­å¹¶ä¸å¸¸ç”¨ã€‚")],-1),xi=e("li",null,[e("strong",null,"è¡¨ç¤ºå±‚"),t("ï¼šè´Ÿè´£æ•°æ®çš„ç¼–ç ã€è§£ç ã€åŠ å¯†å’Œè§£å¯†ï¼Œå®ƒä½¿ç”¨çš„åè®®ä¹Ÿä¸å¤šï¼Œè€Œä¸”åœ¨ç°ä»£ç½‘ç»œä¸­å¤§éƒ¨åˆ†åŠŸèƒ½å·²ç»è¢«åº”ç”¨å±‚çš„åè®®å®ç°ã€‚")],-1),yi=e("strong",null,"åº”ç”¨å±‚",-1),Di={href:"https://zh.wikipedia.org/wiki/%E8%B6%85%E6%96%87%E6%9C%AC%E4%BC%A0%E8%BE%93%E5%8D%8F%E8%AE%AE",target:"_blank",rel:"noopener noreferrer"},Bi={href:"https://zh.wikipedia.org/wiki/%E6%96%87%E4%BB%B6%E4%BC%A0%E8%BE%93%E5%8D%8F%E8%AE%AE",target:"_blank",rel:"noopener noreferrer"},qi={href:"https://zh.wikipedia.org/wiki/%E7%AE%80%E5%8D%95%E9%82%AE%E4%BB%B6%E4%BC%A0%E8%BE%93%E5%8D%8F%E8%AE%AE",target:"_blank",rel:"noopener noreferrer"},Hi={href:"https://zh.wikipedia.org/wiki/%E5%9F%9F%E5%90%8D%E7%B3%BB%E7%BB%9F",target:"_blank",rel:"noopener noreferrer"},Ui={href:"https://zh.wikipedia.org/wiki/%E7%AE%80%E5%8D%95%E7%BD%91%E7%BB%9C%E7%AE%A1%E7%90%86%E5%8D%8F%E8%AE%AE",target:"_blank",rel:"noopener noreferrer"},Oi=n('<h3 id="ä»€ä¹ˆæ˜¯ç²˜åŒ…" tabindex="-1"><a class="header-anchor" href="#ä»€ä¹ˆæ˜¯ç²˜åŒ…" aria-hidden="true">#</a> ä»€ä¹ˆæ˜¯ç²˜åŒ…ï¼Ÿ</h3><p>åœ¨è¿›è¡Œ Java NIO å­¦ä¹ æ—¶ï¼Œå¯èƒ½ä¼šå‘ç°ï¼šå¦‚æœå®¢æˆ·ç«¯è¿ç»­ä¸æ–­çš„å‘æœåŠ¡ç«¯å‘é€æ•°æ®åŒ…æ—¶ï¼ŒæœåŠ¡ç«¯æ¥æ”¶çš„æ•°æ®ä¼šå‡ºç°ä¸¤ä¸ªæ•°æ®åŒ…ç²˜åœ¨ä¸€èµ·çš„æƒ…å†µã€‚</p><ol><li>TCP æ˜¯åŸºäºå­—èŠ‚æµçš„ï¼Œè™½ç„¶åº”ç”¨å±‚å’Œ TCP ä¼ è¾“å±‚ä¹‹é—´çš„æ•°æ®äº¤äº’æ˜¯å¤§å°ä¸ç­‰çš„æ•°æ®å—ï¼Œä½†æ˜¯ TCP æŠŠè¿™äº›æ•°æ®å—ä»…ä»…çœ‹æˆä¸€è¿ä¸²æ— ç»“æ„çš„å­—èŠ‚æµï¼Œæ²¡æœ‰è¾¹ç•Œï¼›</li><li>ä» TCP çš„å¸§ç»“æ„ä¹Ÿå¯ä»¥çœ‹å‡ºï¼Œåœ¨ TCP çš„é¦–éƒ¨æ²¡æœ‰è¡¨ç¤ºæ•°æ®é•¿åº¦çš„å­—æ®µã€‚</li></ol><p>åŸºäºä¸Šé¢ä¸¤ç‚¹ï¼Œåœ¨ä½¿ç”¨ TCP ä¼ è¾“æ•°æ®æ—¶ï¼Œæ‰æœ‰ç²˜åŒ…æˆ–è€…æ‹†åŒ…ç°è±¡å‘ç”Ÿçš„å¯èƒ½ã€‚ä¸€ä¸ªæ•°æ®åŒ…ä¸­åŒ…å«äº†å‘é€ç«¯å‘é€çš„ä¸¤ä¸ªæ•°æ®åŒ…çš„ä¿¡æ¯ï¼Œè¿™ç§ç°è±¡å³ä¸ºç²˜åŒ…ã€‚ æ¥æ”¶ç«¯æ”¶åˆ°äº†ä¸¤ä¸ªæ•°æ®åŒ…ï¼Œä½†æ˜¯è¿™ä¸¤ä¸ªæ•°æ®åŒ…è¦ä¹ˆæ˜¯ä¸å®Œæ•´çš„ï¼Œè¦ä¹ˆå°±æ˜¯å¤šå‡ºæ¥ä¸€å—ï¼Œè¿™ç§æƒ…å†µå³å‘ç”Ÿäº†æ‹†åŒ…å’Œç²˜åŒ…ã€‚æ‹†åŒ…å’Œç²˜åŒ…çš„é—®é¢˜å¯¼è‡´æ¥æ”¶ç«¯åœ¨å¤„ç†çš„æ—¶å€™ä¼šéå¸¸å›°éš¾ï¼Œå› ä¸ºæ— æ³•åŒºåˆ†ä¸€ä¸ªå®Œæ•´çš„æ•°æ®åŒ…ã€‚</p><blockquote><p>å¼ºè°ƒï¼š&quot;ç²˜åŒ…&quot;æ˜¯ä¸€ä¸ªç½‘ç»œç¼–ç¨‹ä¸­å¸¸è§çš„ç°è±¡ï¼Œå®ƒå‘ç”Ÿåœ¨<strong>TCPåè®®ä¼ è¾“å±‚</strong>ã€‚ç”±äºTCPåè®®æ˜¯<strong>åŸºäºå­—èŠ‚æµ</strong>çš„ä¼ è¾“ï¼Œä¸ä¿è¯æ•°æ®çš„ç•Œé™ï¼Œæ‰€ä»¥åœ¨å‘é€æ–¹å‘é€å¤šä¸ªæ•°æ®åŒ…æ—¶ï¼Œæ¥æ”¶æ–¹å¯èƒ½ä¼šä¸€æ¬¡æ€§æ”¶åˆ°å¤šä¸ªæ•°æ®åŒ…ï¼Œè¿™å°±åƒæŠŠå¤šä¸ªæ•°æ®åŒ…ç²˜åœ¨ä¸€èµ·äº†ï¼Œå› æ­¤å¾—å&quot;ç²˜åŒ…&quot;ã€‚åŒæ ·ï¼Œç”±äºTCPåè®®çš„ç¼“å†²æœºåˆ¶ï¼Œæ¥æ”¶æ–¹å¯èƒ½åœ¨æ²¡æœ‰æ¥æ”¶åˆ°æ‰€æœ‰æ•°æ®åŒ…çš„æƒ…å†µä¸‹å°±å¼€å§‹å¤„ç†éƒ¨åˆ†æ•°æ®ï¼Œä¹Ÿå¯èƒ½å¯¼è‡´ç²˜åŒ…é—®é¢˜ã€‚</p></blockquote><p>ä¸ºä»€ä¹ˆ TCP åè®®æœ‰ç²˜åŒ…é—®é¢˜</p><p>TCP/IP åè®®ç°‡å»ºç«‹äº†äº’è”ç½‘ä¸­é€šä¿¡åè®®çš„æ¦‚å¿µæ¨¡å‹ï¼Œè¯¥åè®®ç°‡ä¸­çš„ä¸¤ä¸ªä¸»è¦åè®®å°±æ˜¯ TCP å’Œ IP åè®®ã€‚TCP/ IP åè®®ç°‡ä¸­çš„ TCP åè®®èƒ½å¤Ÿä¿è¯æ•°æ®æ®µï¼ˆSegmentï¼‰çš„å¯é æ€§å’Œé¡ºåºï¼Œæœ‰äº†å¯é çš„ä¼ è¾“å±‚åè®®ä¹‹åï¼Œåº”ç”¨å±‚åè®®å°±å¯ä»¥ç›´æ¥ä½¿ç”¨ TCP åè®®ä¼ è¾“æ•°æ®ï¼Œä¸åœ¨éœ€è¦å…³å¿ƒæ•°æ®æ®µçš„ä¸¢å¤±å’Œé‡å¤é—®é¢˜</p><p><strong>TCP åè®®ä¸åº”ç”¨å±‚åè®®</strong>å¦‚ä¸‹ï¼š</p><figure><img src="'+et+'" alt="image-20220830093927989" tabindex="0" loading="lazy"><figcaption>image-20220830093927989</figcaption></figure><p>IP åè®®è§£å†³äº†æ•°æ®åŒ…ï¼ˆPacketï¼‰çš„è·¯ç”±å’Œä¼ è¾“ï¼Œä¸Šå±‚çš„ TCP åè®®ä¸å†å…³æ³¨è·¯ç”±å’Œå¯»å€ï¼Œé‚£ä¹ˆ TCP åè®®è§£å†³çš„æ˜¯ä¼ è¾“çš„å¯é æ€§å’Œé¡ºåºé—®é¢˜ï¼Œä¸Šå±‚ä¸éœ€è¦å…³å¿ƒæ•°æ®èƒ½å¦ä¼ è¾“åˆ°ç›®æ ‡è¿›ç¨‹ï¼Œåªè¦å†™å…¥ TCP åè®®çš„ç¼“å†²åŒºçš„æ•°æ®ï¼Œåè®®æ ˆå‡ ä¹éƒ½èƒ½ä¿è¯æ•°æ®çš„é€è¾¾ã€‚</p><p>å½“åº”ç”¨å±‚åè®®ä½¿ç”¨ TCP åè®®ä¼ è¾“æ•°æ®æ—¶ï¼ŒTCP åè®®å¯èƒ½ä¼šå°†åº”ç”¨å±‚å‘é€çš„æ•°æ®åˆ†æˆå¤šä¸ªåŒ…ä¾æ¬¡å‘é€ï¼Œè€Œæ•°æ®çš„æ¥æ”¶æ–¹æ”¶åˆ°çš„æ•°æ®æ®µå¯èƒ½æœ‰å¤šä¸ªã€åº”ç”¨å±‚æ•°æ®åŒ…ã€ç»„æˆï¼Œæ‰€ä»¥å½“åº”ç”¨å±‚ä» TCP ç¼“å†²åŒºä¸­è¯»å–æ•°æ®æ—¶å‘ç°ç²˜è¿çš„æ•°æ®åŒ…æ—¶ï¼Œéœ€è¦å¯¹æ”¶åˆ°çš„æ•°æ®è¿›è¡Œæ‹†åˆ†ã€‚</p><p>ç²˜åŒ…å¹¶ä¸æ˜¯ TCP åè®®é€ æˆçš„ï¼Œå®ƒçš„å‡ºç°æ˜¯å› ä¸ºåº”ç”¨å±‚åè®®è®¾è®¡è€…å¯¹ TCP åè®®çš„é”™è¯¯ç†è§£ï¼Œå¿½ç•¥äº† TCP åè®®çš„å®šä¹‰å¹¶ä¸”ç¼ºä¹è®¾è®¡åº”ç”¨å±‚åè®®çš„ç»éªŒã€‚æœ¬æ–‡å°†ä» TCP åè®®ä»¥åŠåº”ç”¨å±‚åè®®å‡ºå‘ï¼Œåˆ†ææˆ‘ä»¬ç»å¸¸æåˆ°çš„ TCP åè®®ä¸­çš„ç²˜åŒ…æ˜¯å¦‚ä½•å‘ç”Ÿçš„ï¼š</p><ul><li>TCP åè®®æ˜¯é¢å‘å­—èŠ‚æµçš„åè®®ï¼Œå®ƒå¯èƒ½ä¼šç»„åˆæˆ–è€…æ‹†åˆ†åº”ç”¨å±‚åè®®çš„æ•°æ®ï¼›</li><li>åº”ç”¨å±‚åè®®çš„æ²¡æœ‰å®šä¹‰æ¶ˆæ¯çš„è¾¹ç•Œå¯¼è‡´æ•°æ®çš„æ¥æ”¶æ–¹æ— æ³•æ‹¼æ¥æ•°æ®ï¼›</li></ul><p>å¾ˆå¤šäººå¯èƒ½ä¼šè®¤ä¸ºç²˜åŒ…æ˜¯ä¸€ä¸ªæ¯”è¾ƒä½çº§çš„ç”šè‡³ä¸å€¼å¾—è®¨è®ºçš„é—®é¢˜ï¼Œä½†æ˜¯åœ¨ä½œè€…çœ‹æ¥è¿™ä¸ªé—®é¢˜è¿˜æ˜¯å¾ˆæœ‰è¶£çš„ï¼Œä¸æ˜¯æ‰€æœ‰äººéƒ½ç³»ç»Ÿæ€§åœ°å­¦è¿‡åŸºäº TCP çš„åº”ç”¨å±‚åè®®è®¾è®¡ï¼Œä¹Ÿä¸æ˜¯æ‰€æœ‰äººå¯¹ TCP åè®®éƒ½æœ‰é‚£ä¹ˆæ·±å…¥çš„ç†è§£ï¼Œç›¸ä¿¡å¾ˆå¤šäººå­¦ä¹ ç¼–ç¨‹çš„è¿‡ç¨‹éƒ½æ˜¯è‡ªåº•å‘ä¸Šçš„ï¼Œæ‰€ä»¥ä½œè€…è®¤ä¸ºè¿™æ˜¯ä¸€ä¸ªå€¼å¾—å›ç­”çš„é—®é¢˜ï¼Œæˆ‘ä»¬åº”è¯¥ä¼ é€’æ­£ç¡®çš„çŸ¥è¯†ï¼Œè€Œä¸æ˜¯è´Ÿé¢çš„å’Œå±…é«˜ä¸´ä¸‹çš„æƒ…ç»ªã€‚</p><h4 id="é¢å‘å­—èŠ‚æµ" tabindex="-1"><a class="header-anchor" href="#é¢å‘å­—èŠ‚æµ" aria-hidden="true">#</a> é¢å‘å­—èŠ‚æµ</h4>',15),Mi={href:"https://draveness.me/whys-the-design-tcp-message-frame/#fn:3",target:"_blank",rel:"noopener noreferrer"},Ri={href:"https://draveness.me/whys-the-design-tcp-message-frame/#fn:4",target:"_blank",rel:"noopener noreferrer"},zi=n('<p>åœ¨æ—©æœŸçš„äº’è”ç½‘ä¸­ï¼ŒTelnet æ˜¯è¢«å¹¿æ³›ä½¿ç”¨çš„åº”ç”¨ç¨‹åºï¼Œç„¶è€Œä½¿ç”¨ Telnet ä¼šäº§ç”Ÿå¤§é‡åªæœ‰ 1 å­—èŠ‚è´Ÿè½½çš„æœ‰æ•ˆæ•°æ®ï¼Œæ¯ä¸ªæ•°æ®åŒ…éƒ½ä¼šæœ‰ 40 å­—èŠ‚çš„é¢å¤–å¼€é”€ï¼Œå¸¦å®½çš„åˆ©ç”¨ç‡åªæœ‰ ~2.44%ï¼ŒNagle ç®—æ³•å°±æ˜¯åœ¨å½“æ—¶çš„è¿™ç§åœºæ™¯ä¸‹è®¾è®¡çš„ã€‚</p><p>å½“åº”ç”¨å±‚åè®®é€šè¿‡ TCP åè®®ä¼ è¾“æ•°æ®æ—¶ï¼Œå®é™…ä¸Šå¾…å‘é€çš„æ•°æ®å…ˆè¢«å†™å…¥äº† TCP åè®®çš„ç¼“å†²åŒºï¼Œå¦‚æœç”¨æˆ·å¼€å¯äº† Nagle ç®—æ³•ï¼Œé‚£ä¹ˆ TCP åè®®å¯èƒ½ä¸ä¼šç«‹åˆ»å‘é€å†™å…¥çš„æ•°æ®ï¼Œå®ƒä¼šç­‰å¾…ç¼“å†²åŒºä¸­æ•°æ®è¶…è¿‡æœ€å¤§æ•°æ®æ®µï¼ˆMSSï¼‰æˆ–è€…ä¸Šä¸€ä¸ªæ•°æ®æ®µè¢« ACK æ—¶æ‰ä¼šå‘é€ç¼“å†²åŒºä¸­çš„æ•°æ®ã€‚</p><p><strong>Nagle ç®—æ³•</strong>å¦‚ä¸‹ï¼š</p><figure><img src="'+tt+`" alt="image-20220830094027345" tabindex="0" loading="lazy"><figcaption>image-20220830094027345</figcaption></figure><p>å‡ åå¹´å‰è¿˜ä¼šå‘ç”Ÿç½‘ç»œæ‹¥å¡çš„é—®é¢˜ï¼Œä½†æ˜¯ä»Šå¤©çš„ç½‘ç»œå¸¦å®½èµ„æºä¸å†åƒè¿‡å»é‚£ä¹ˆç´§å¼ ï¼Œåœ¨é»˜è®¤æƒ…å†µä¸‹ï¼ŒLinux å†…æ ¸éƒ½ä¼šä½¿ç”¨å¦‚ä¸‹çš„æ–¹å¼é»˜è®¤å…³é—­ Nagle ç®—æ³•ï¼š</p><div class="language-c line-numbers-mode" data-ext="c"><pre class="language-c"><code>TCP_NODELAY <span class="token operator">=</span> <span class="token number">1</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>C</p>`,7),Fi={href:"https://github.com/torvalds/linux/blob/bd2463ac7d7ec51d432f23bf0e893fb371a908cd/net/ipv4/tcp_output.c#L1897",target:"_blank",rel:"noopener noreferrer"},Wi=e("code",null,"tcp_nagle_test",-1),Xi=n(`<div class="language-c line-numbers-mode" data-ext="c"><pre class="language-c"><code><span class="token keyword">static</span> <span class="token keyword">inline</span> bool <span class="token function">tcp_nagle_test</span><span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token keyword">struct</span> <span class="token class-name">tcp_sock</span> <span class="token operator">*</span>tp<span class="token punctuation">,</span> <span class="token keyword">const</span> <span class="token keyword">struct</span> <span class="token class-name">sk_buff</span> <span class="token operator">*</span>skb<span class="token punctuation">,</span>
				  <span class="token keyword">unsigned</span> <span class="token keyword">int</span> cur_mss<span class="token punctuation">,</span> <span class="token keyword">int</span> nonagle<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span>nonagle <span class="token operator">&amp;</span> TCP_NAGLE_PUSH<span class="token punctuation">)</span>
		<span class="token keyword">return</span> true<span class="token punctuation">;</span>

	<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">tcp_urg_mode</span><span class="token punctuation">(</span>tp<span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token punctuation">(</span><span class="token function">TCP_SKB_CB</span><span class="token punctuation">(</span>skb<span class="token punctuation">)</span><span class="token operator">-&gt;</span>tcp_flags <span class="token operator">&amp;</span> TCPHDR_FIN<span class="token punctuation">)</span><span class="token punctuation">)</span>
		<span class="token keyword">return</span> true<span class="token punctuation">;</span>

	<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token function">tcp_nagle_check</span><span class="token punctuation">(</span>skb<span class="token operator">-&gt;</span>len <span class="token operator">&lt;</span> cur_mss<span class="token punctuation">,</span> tp<span class="token punctuation">,</span> nonagle<span class="token punctuation">)</span><span class="token punctuation">)</span>
		<span class="token keyword">return</span> true<span class="token punctuation">;</span>

	<span class="token keyword">return</span> false<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>C</p><p>Nagle ç®—æ³•ç¡®å®èƒ½å¤Ÿåœ¨æ•°æ®åŒ…è¾ƒå°æ—¶æé«˜ç½‘ç»œå¸¦å®½çš„åˆ©ç”¨ç‡å¹¶å‡å°‘ TCP å’Œ IP åè®®å¤´å¸¦æ¥çš„é¢å¤–å¼€é”€ï¼Œä½†æ˜¯ä½¿ç”¨è¯¥ç®—æ³•ä¹Ÿå¯èƒ½ä¼šå¯¼è‡´åº”ç”¨å±‚åè®®å¤šæ¬¡å†™å…¥çš„æ•°æ®è¢«åˆå¹¶æˆ–è€…æ‹†åˆ†å‘é€ï¼Œå½“æ¥æ”¶æ–¹ä» TCP åè®®æ ˆä¸­è¯»å–æ•°æ®æ—¶ä¼šå‘ç°ä¸ç›¸å…³çš„æ•°æ®å‡ºç°åœ¨äº†åŒä¸€ä¸ªæ•°æ®æ®µä¸­ï¼Œåº”ç”¨å±‚åè®®å¯èƒ½æ²¡æœ‰åŠæ³•å¯¹å®ƒä»¬è¿›è¡Œæ‹†åˆ†å’Œé‡ç»„ã€‚</p><p>é™¤äº† Nagle ç®—æ³•ä¹‹å¤–ï¼ŒTCP åè®®æ ˆä¸­è¿˜æœ‰å¦ä¸€ä¸ªç”¨äºå»¶è¿Ÿå‘é€æ•°æ®çš„é€‰é¡¹ <code>TCP_CORK</code>ï¼Œå¦‚æœæˆ‘ä»¬å¼€å¯è¯¥é€‰é¡¹ï¼Œé‚£ä¹ˆå½“å‘é€çš„æ•°æ®å°äº MSS æ—¶ï¼ŒTCP åè®®å°±ä¼šå»¶è¿Ÿ 200ms å‘é€è¯¥æ•°æ®æˆ–è€…ç­‰å¾…ç¼“å†²åŒºä¸­çš„æ•°æ®è¶…è¿‡ MSSã€‚</p><p>æ— è®ºæ˜¯ <code>TCP_NODELAY</code> è¿˜æ˜¯ <code>TCP_CORK</code>ï¼Œå®ƒä»¬éƒ½ä¼šé€šè¿‡å»¶è¿Ÿå‘é€æ•°æ®æ¥æé«˜å¸¦å®½çš„åˆ©ç”¨ç‡ï¼Œå®ƒä»¬ä¼šå¯¹åº”ç”¨å±‚åè®®å†™å…¥çš„æ•°æ®è¿›è¡Œæ‹†åˆ†å’Œé‡ç»„ï¼Œè€Œè¿™äº›æœºåˆ¶å’Œé…ç½®èƒ½å¤Ÿå‡ºç°çš„æœ€é‡è¦åŸå› æ˜¯ â€” TCP åè®®æ˜¯åŸºäºå­—èŠ‚æµçš„åè®®ï¼Œå…¶æœ¬èº«æ²¡æœ‰æ•°æ®åŒ…çš„æ¦‚å¿µï¼Œä¸ä¼šæŒ‰ç…§æ•°æ®åŒ…å‘é€æ•°æ®ã€‚</p><h4 id="æ¶ˆæ¯è¾¹ç•Œ" tabindex="-1"><a class="header-anchor" href="#æ¶ˆæ¯è¾¹ç•Œ" aria-hidden="true">#</a> æ¶ˆæ¯è¾¹ç•Œ</h4><p>å¦‚æœæˆ‘ä»¬ç³»ç»Ÿæ€§åœ°å­¦ä¹ è¿‡ TCP åè®®ä»¥åŠåŸºäº TCP çš„åº”ç”¨å±‚åè®®è®¾è®¡ï¼Œé‚£ä¹ˆè®¾è®¡ä¸€ä¸ªèƒ½å¤Ÿè¢« TCP åè®®æ ˆä»»æ„æ‹†åˆ†å’Œç»„è£…æ•°æ®åŒ…çš„åº”ç”¨å±‚åè®®å°±ä¸ä¼šæœ‰ä»€ä¹ˆé—®é¢˜ã€‚æ—¢ç„¶ TCP åè®®æ˜¯åŸºäºå­—èŠ‚æµçš„ï¼Œè¿™å…¶å®å°±æ„å‘³ç€åº”ç”¨å±‚åè®®è¦è‡ªå·±åˆ’åˆ†æ¶ˆæ¯çš„è¾¹ç•Œã€‚</p><p>å¦‚æœæˆ‘ä»¬èƒ½åœ¨åº”ç”¨å±‚åè®®ä¸­å®šä¹‰æ¶ˆæ¯çš„è¾¹ç•Œï¼Œé‚£ä¹ˆæ— è®º TCP åè®®å¦‚ä½•å¯¹åº”ç”¨å±‚åè®®çš„æ•°æ®åŒ…è¿›ç¨‹æ‹†åˆ†å’Œé‡ç»„ï¼Œæ¥æ”¶æ–¹éƒ½èƒ½æ ¹æ®åè®®çš„è§„åˆ™æ¢å¤å¯¹åº”çš„æ¶ˆæ¯ã€‚åœ¨åº”ç”¨å±‚åè®®ä¸­ï¼Œæœ€å¸¸è§çš„ä¸¤ç§è§£å†³æ–¹æ¡ˆå°±æ˜¯åŸºäºé•¿åº¦æˆ–è€…åŸºäºç»ˆç»“ç¬¦ï¼ˆDelimiterï¼‰ã€‚</p><p><strong>å®ç°æ¶ˆæ¯è¾¹ç•Œçš„æ–¹æ³•</strong>å¦‚ä¸‹ï¼š</p><figure><img src="`+it+`" alt="image-20220830094113012" tabindex="0" loading="lazy"><figcaption>image-20220830094113012</figcaption></figure><p>åŸºäºé•¿åº¦çš„å®ç°æœ‰ä¸¤ç§æ–¹å¼ï¼Œä¸€ç§æ˜¯ä½¿ç”¨å›ºå®šé•¿åº¦ï¼Œæ‰€æœ‰çš„åº”ç”¨å±‚æ¶ˆæ¯éƒ½ä½¿ç”¨ç»Ÿä¸€çš„å¤§å°ï¼Œå¦ä¸€ç§æ–¹å¼æ˜¯ä½¿ç”¨ä¸å›ºå®šé•¿åº¦ï¼Œä½†æ˜¯éœ€è¦åœ¨åº”ç”¨å±‚åè®®çš„åè®®å¤´ä¸­å¢åŠ è¡¨ç¤ºè´Ÿè½½é•¿åº¦çš„å­—æ®µï¼Œè¿™æ ·æ¥æ”¶æ–¹æ‰å¯ä»¥ä»å­—èŠ‚æµä¸­åˆ†ç¦»å‡ºä¸åŒçš„æ¶ˆæ¯ï¼ŒHTTP åè®®çš„æ¶ˆæ¯è¾¹ç•Œå°±æ˜¯åŸºäºé•¿åº¦å®ç°çš„ï¼š</p><div class="language-http line-numbers-mode" data-ext="http"><pre class="language-http"><code><span class="token response-status"><span class="token http-version property">HTTP/1.1</span> <span class="token status-code number">200</span> <span class="token reason-phrase string">OK</span></span>
<span class="token header"><span class="token header-name keyword">Content-Type</span><span class="token punctuation">:</span> <span class="token header-value">text/html; charset=UTF-8</span></span>
<span class="token header"><span class="token header-name keyword">Content-Length</span><span class="token punctuation">:</span> <span class="token header-value">138</span></span>
...
<span class="token header"><span class="token header-name keyword">Connection</span><span class="token punctuation">:</span> <span class="token header-value">close</span></span>

&lt;html&gt;
  &lt;head&gt;
    &lt;title&gt;An Example Page&lt;/title&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;p&gt;Hello World, this is a very simple HTML document.&lt;/p&gt;
  &lt;/body&gt;
&lt;/html&gt;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>HTTP</p>`,13),Ki=e("code",null,"Content-Length",-1),Qi={href:"https://draveness.me/whys-the-design-tcp-message-frame/#fn:6",target:"_blank",rel:"noopener noreferrer"},Vi=n('<p>ä¸è¿‡ HTTP åè®®é™¤äº†ä½¿ç”¨åŸºäºé•¿åº¦çš„æ–¹å¼å®ç°è¾¹ç•Œï¼Œä¹Ÿä¼šä½¿ç”¨åŸºäºç»ˆç»“ç¬¦çš„ç­–ç•¥ï¼Œå½“ HTTP ä½¿ç”¨å—ä¼ è¾“ï¼ˆChunked Transferï¼‰æœºåˆ¶æ—¶ï¼ŒHTTP å¤´ä¸­å°±ä¸å†åŒ…å« <code>Content-Length</code> äº†ï¼Œå®ƒä¼šä½¿ç”¨è´Ÿè½½å¤§å°ä¸º 0 çš„ HTTP æ¶ˆæ¯ä½œä¸ºç»ˆç»“ç¬¦è¡¨ç¤ºæ¶ˆæ¯çš„è¾¹ç•Œã€‚</p><p>å½“ç„¶é™¤äº†è¿™ä¸¤ç§æ–¹å¼ä¹‹å¤–ï¼Œæˆ‘ä»¬å¯ä»¥åŸºäºç‰¹å®šçš„è§„åˆ™å®ç°æ¶ˆæ¯çš„è¾¹ç•Œï¼Œä¾‹å¦‚ï¼šä½¿ç”¨ TCP åè®®å‘é€ JSON æ•°æ®ï¼Œæ¥æ”¶æ–¹å¯ä»¥æ ¹æ®æ¥æ”¶åˆ°çš„æ•°æ®æ˜¯å¦èƒ½å¤Ÿè¢«è§£ææˆåˆæ³•çš„ JSON åˆ¤æ–­æ¶ˆæ¯æ˜¯å¦ç»ˆç»“ã€‚</p><h4 id="æ€»ç»“-1" tabindex="-1"><a class="header-anchor" href="#æ€»ç»“-1" aria-hidden="true">#</a> æ€»ç»“</h4><p>TCP åè®®ç²˜åŒ…é—®é¢˜æ˜¯å› ä¸ºåº”ç”¨å±‚åè®®å¼€å‘è€…çš„é”™è¯¯è®¾è®¡å¯¼è‡´çš„ï¼Œä»–ä»¬å¿½ç•¥äº† TCP åè®®æ•°æ®ä¼ è¾“çš„æ ¸å¿ƒæœºåˆ¶ â€” åŸºäºå­—èŠ‚æµï¼Œå…¶æœ¬èº«ä¸åŒ…å«æ¶ˆæ¯ã€æ•°æ®åŒ…ç­‰æ¦‚å¿µï¼Œæ‰€æœ‰æ•°æ®çš„ä¼ è¾“éƒ½æ˜¯æµå¼çš„ï¼Œéœ€è¦åº”ç”¨å±‚åè®®è‡ªå·±è®¾è®¡æ¶ˆæ¯çš„è¾¹ç•Œï¼Œå³æ¶ˆæ¯å¸§ï¼ˆMessage Framingï¼‰ï¼Œæˆ‘ä»¬é‡æ–°å›é¡¾ä¸€ä¸‹ç²˜åŒ…é—®é¢˜å‡ºç°çš„æ ¸å¿ƒåŸå› ï¼š</p><ol><li>TCP åè®®æ˜¯åŸºäºå­—èŠ‚æµçš„ä¼ è¾“å±‚åè®®ï¼Œå…¶ä¸­ä¸å­˜åœ¨æ¶ˆæ¯å’Œæ•°æ®åŒ…çš„æ¦‚å¿µï¼›</li><li>åº”ç”¨å±‚åè®®æ²¡æœ‰ä½¿ç”¨åŸºäºé•¿åº¦æˆ–è€…åŸºäºç»ˆç»“ç¬¦çš„æ¶ˆæ¯è¾¹ç•Œï¼Œå¯¼è‡´å¤šä¸ªæ¶ˆæ¯çš„ç²˜è¿ï¼›</li></ol><p>ç½‘ç»œåè®®çš„å­¦ä¹ è¿‡ç¨‹éå¸¸æœ‰è¶£ï¼Œä¸æ–­æ€è€ƒèƒŒåçš„é—®é¢˜èƒ½å¤Ÿè®©æˆ‘ä»¬å¯¹å®šä¹‰æœ‰æ›´æ·±çš„è®¤è¯†ã€‚åˆ°æœ€åï¼Œæˆ‘ä»¬è¿˜æ˜¯æ¥çœ‹ä¸€äº›æ¯”è¾ƒå¼€æ”¾çš„ç›¸å…³é—®é¢˜ï¼Œæœ‰å…´è¶£çš„è¯»è€…å¯ä»¥ä»”ç»†æ€è€ƒä¸€ä¸‹ä¸‹é¢çš„é—®é¢˜ï¼š</p><ul><li>åŸºäº UDP åè®®çš„åº”ç”¨å±‚åè®®åº”è¯¥å¦‚ä½•è®¾è®¡ï¼Ÿä¼šå‡ºç°ç²˜åŒ…çš„é—®é¢˜ä¹ˆï¼Ÿ</li><li>æœ‰å“ªäº›åº”ç”¨å±‚åè®®ä½¿ç”¨åŸºäºé•¿åº¦çš„åˆ†å¸§ï¼Ÿåˆæœ‰å“ªäº›ä½¿ç”¨åŸºäºç»ˆç»“ç¬¦çš„åˆ†å¸§ï¼Ÿ</li></ul><h3 id="å¦‚ä½•è§£å†³ç²˜åŒ…" tabindex="-1"><a class="header-anchor" href="#å¦‚ä½•è§£å†³ç²˜åŒ…" aria-hidden="true">#</a> å¦‚ä½•è§£å†³ç²˜åŒ…ï¼Ÿ</h3><p>ç²˜åŒ…çš„é—®é¢˜å‡ºç°æ˜¯å› ä¸ºä¸çŸ¥é“ä¸€ä¸ªç”¨æˆ·æ¶ˆæ¯çš„è¾¹ç•Œåœ¨å“ªï¼Œå¦‚æœçŸ¥é“äº†è¾¹ç•Œåœ¨å“ªï¼Œæ¥æ”¶æ–¹å°±å¯ä»¥é€šè¿‡è¾¹ç•Œæ¥åˆ’åˆ†å‡ºæœ‰æ•ˆçš„ç”¨æˆ·æ¶ˆæ¯ã€‚</p><p>ä¸€èˆ¬æœ‰ä¸‰ç§æ–¹å¼åˆ†åŒ…çš„æ–¹å¼ï¼š</p><ul><li>å›ºå®šé•¿åº¦çš„æ¶ˆæ¯ï¼›</li><li>ç‰¹æ®Šå­—ç¬¦ä½œä¸ºè¾¹ç•Œï¼›</li><li>è‡ªå®šä¹‰æ¶ˆæ¯ç»“æ„ã€‚</li></ul><h4 id="å›ºå®šé•¿åº¦çš„æ¶ˆæ¯" tabindex="-1"><a class="header-anchor" href="#å›ºå®šé•¿åº¦çš„æ¶ˆæ¯" aria-hidden="true">#</a> å›ºå®šé•¿åº¦çš„æ¶ˆæ¯</h4><p>è¿™ç§æ˜¯æœ€ç®€å•æ–¹æ³•ï¼Œå³æ¯ä¸ªç”¨æˆ·æ¶ˆæ¯éƒ½æ˜¯å›ºå®šé•¿åº¦çš„ï¼Œæ¯”å¦‚è§„å®šä¸€ä¸ªæ¶ˆæ¯çš„é•¿åº¦æ˜¯ 64 ä¸ªå­—èŠ‚ï¼Œå½“æ¥æ”¶æ–¹æ¥æ»¡ 64 ä¸ªå­—èŠ‚ï¼Œå°±è®¤ä¸ºè¿™ä¸ªå†…å®¹æ˜¯ä¸€ä¸ªå®Œæ•´ä¸”æœ‰æ•ˆçš„æ¶ˆæ¯ã€‚</p><p>ä½†æ˜¯è¿™ç§æ–¹å¼çµæ´»æ€§ä¸é«˜ï¼Œå®é™…ä¸­å¾ˆå°‘ç”¨ã€‚</p><h4 id="ç‰¹æ®Šå­—ç¬¦ä½œä¸ºè¾¹ç•Œ" tabindex="-1"><a class="header-anchor" href="#ç‰¹æ®Šå­—ç¬¦ä½œä¸ºè¾¹ç•Œ" aria-hidden="true">#</a> ç‰¹æ®Šå­—ç¬¦ä½œä¸ºè¾¹ç•Œ</h4><p>æˆ‘ä»¬å¯ä»¥åœ¨ä¸¤ä¸ªç”¨æˆ·æ¶ˆæ¯ä¹‹é—´æ’å…¥ä¸€ä¸ªç‰¹æ®Šçš„å­—ç¬¦ä¸²ï¼Œè¿™æ ·æ¥æ”¶æ–¹åœ¨æ¥æ”¶æ•°æ®æ—¶ï¼Œè¯»åˆ°äº†è¿™ä¸ªç‰¹æ®Šå­—ç¬¦ï¼Œå°±æŠŠè®¤ä¸ºå·²ç»è¯»å®Œä¸€ä¸ªå®Œæ•´çš„æ¶ˆæ¯ã€‚</p><p>HTTP æ˜¯ä¸€ä¸ªéå¸¸å¥½çš„ä¾‹å­ã€‚</p><figure><img src="'+ot+`" alt="å›¾ç‰‡" tabindex="0" loading="lazy"><figcaption>å›¾ç‰‡</figcaption></figure><p>HTTP é€šè¿‡è®¾ç½®å›è½¦ç¬¦ã€æ¢è¡Œç¬¦ä½œä¸º HTTP æŠ¥æ–‡åè®®çš„è¾¹ç•Œã€‚</p><p>æœ‰ä¸€ç‚¹è¦æ³¨æ„ï¼Œè¿™ä¸ªä½œä¸ºè¾¹ç•Œç‚¹çš„ç‰¹æ®Šå­—ç¬¦ï¼Œå¦‚æœåˆšå¥½æ¶ˆæ¯å†…å®¹é‡Œæœ‰è¿™ä¸ªç‰¹æ®Šå­—ç¬¦ï¼Œæˆ‘ä»¬è¦å¯¹è¿™ä¸ªå­—ç¬¦è½¬ä¹‰ï¼Œé¿å…è¢«æ¥æ”¶æ–¹å½“ä½œæ¶ˆæ¯çš„è¾¹ç•Œç‚¹è€Œè§£æåˆ°æ— æ•ˆçš„æ•°æ®</p><h4 id="è‡ªå®šä¹‰æ¶ˆæ¯ç»“æ„" tabindex="-1"><a class="header-anchor" href="#è‡ªå®šä¹‰æ¶ˆæ¯ç»“æ„" aria-hidden="true">#</a> è‡ªå®šä¹‰æ¶ˆæ¯ç»“æ„</h4><p>æˆ‘ä»¬å¯ä»¥è‡ªå®šä¹‰ä¸€ä¸ªæ¶ˆæ¯ç»“æ„ï¼Œç”±åŒ…å¤´å’Œæ•°æ®ç»„æˆï¼Œå…¶ä¸­åŒ…å¤´åŒ…æ˜¯å›ºå®šå¤§å°çš„ï¼Œè€Œä¸”åŒ…å¤´é‡Œæœ‰ä¸€ä¸ªå­—æ®µæ¥è¯´æ˜ç´§éšå…¶åçš„æ•°æ®æœ‰å¤šå¤§ã€‚</p><p>æ¯”å¦‚è¿™ä¸ªæ¶ˆæ¯ç»“æ„ä½“ï¼Œé¦–å…ˆ 4 ä¸ªå­—èŠ‚å¤§å°çš„å˜é‡æ¥è¡¨ç¤ºæ•°æ®é•¿åº¦ï¼ŒçœŸæ­£çš„æ•°æ®åˆ™åœ¨åé¢ã€‚</p><div class="language-c line-numbers-mode" data-ext="c"><pre class="language-c"><code><span class="token keyword">struct</span> <span class="token punctuation">{</span> 
    <span class="token class-name">u_int32_t</span> message_length<span class="token punctuation">;</span> 
    <span class="token keyword">char</span> message_data<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span> 
<span class="token punctuation">}</span> message<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å½“æ¥æ”¶æ–¹æ¥æ”¶åˆ°åŒ…å¤´çš„å¤§å°ï¼ˆæ¯”å¦‚ 4 ä¸ªå­—èŠ‚ï¼‰åï¼Œå°±è§£æåŒ…å¤´çš„å†…å®¹ï¼Œäºæ˜¯å°±å¯ä»¥çŸ¥é“æ•°æ®çš„é•¿åº¦ï¼Œç„¶åæ¥ä¸‹æ¥å°±ç»§ç»­è¯»å–æ•°æ®ï¼Œç›´åˆ°è¯»æ»¡æ•°æ®çš„é•¿åº¦ï¼Œå°±å¯ä»¥ç»„è£…æˆä¸€ä¸ªå®Œæ•´åˆ°ç”¨æˆ·æ¶ˆæ¯æ¥å¤„ç†äº†ã€‚</p>`,25);function Yi(ji,Zi){const i=p("ExternalLinkIcon");return s(),r("div",null,[at,e("blockquote",null,[e("p",null,[e("a",st,[t("æ•°å­—ç­¾å åŠ æ•°å­—è¯ä¹¦ åŸç†"),o(i)])]),rt]),pt,e("ul",null,[lt,ct,e("li",null,[t("æƒå¨ DNS æœåŠ¡å™¨ï¼ˆ"),e("a",gt,[t("server.com"),o(i)]),t("ï¼‰")])]),dt,e("p",null,[t("è¯¦ç»†å¯è§ï¼š"),e("a",ut,[t("https://xiaolincoding.com/network/3_tcp/tcp_interview.html#tcp-è¿æ¥å»ºç«‹"),o(i)])]),ht,e("p",null,[t("å¯ä»¥å…ˆè§‚çœ‹ï¼š"),e("a",ft,[t("ä¸€æ¡è§†é¢‘è®²æ¸…æ¥šTCPåè®®ä¸UDPåè®®-ä»€ä¹ˆæ˜¯ä¸‰æ¬¡æ¡æ‰‹ä¸å››æ¬¡æŒ¥æ‰‹"),o(i)])]),mt,Pt,Tt,bt,e("ul",null,[e("li",null,[e("a",Ct,[t("ç¬¬ä¸€æ¬¡æ¡æ‰‹ä¸¢å¤±äº†-ä¼šå‘ç”Ÿä»€ä¹ˆ"),o(i)])]),e("li",null,[e("a",At,[t("ç¬¬äºŒæ¬¡æ¡æ‰‹ä¸¢å¤±äº†ï¼Œä¼šå‘ç”Ÿä»€ä¹ˆï¼Ÿ"),o(i)])]),e("li",null,[e("a",kt,[t("ç¬¬ä¸‰æ¬¡æ¡æ‰‹ä¸¢å¤±äº†ï¼Œä¼šå‘ç”Ÿä»€ä¹ˆï¼Ÿ"),o(i)])])]),St,e("p",null,[t("å¯ä»¥åŠ å…¥çŸ¥ä¹è®¨è®ºï¼š"),e("a",wt,[t("https://www.zhihu.com/question/50646354"),o(i)])]),It,_t,Et,e("ul",null,[e("li",null,[e("a",Nt,[t("ç¬¬ä¸€æ¬¡æŒ¥æ‰‹ä¸¢å¤±äº†ï¼Œä¼šå‘ç”Ÿä»€ä¹ˆï¼Ÿ"),o(i)])]),e("li",null,[e("a",vt,[t("ç¬¬äºŒæ¬¡æŒ¥æ‰‹ä¸¢å¤±äº†ï¼Œä¼šå‘ç”Ÿä»€ä¹ˆï¼Ÿ"),o(i)])]),e("li",null,[e("a",Lt,[t("ç¬¬ä¸‰æ¬¡æŒ¥æ‰‹ä¸¢å¤±äº†ï¼Œä¼šå‘ç”Ÿä»€ä¹ˆï¼Ÿ"),o(i)])]),e("li",null,[e("a",xt,[t("ç¬¬å››æ¬¡æŒ¥æ‰‹ä¸¢å¤±äº†ï¼Œä¼šå‘ç”Ÿä»€ä¹ˆï¼Ÿ"),o(i)])])]),yt,e("p",null,[e("a",Dt,[t("https://stackoverflow.com/questions/46212623/why-tcp-termination-need-4-way-handshake"),o(i)]),t(" å›ç­”æ¥è‡ªï¼š"),e("a",Bt,[t("http://www.tcpipguide.com/index.html"),o(i)])]),qt,e("p",null,[t("å‘ç”Ÿè¿™ç§æƒ…å†µå¯èƒ½æ˜¯å› ä¸ºæœåŠ¡ç«¯åœ¨å°†å·²è¿æ¥çš„ socket æ³¨å†Œåˆ° epoll ä¹‹å‰ï¼Œä»£ç å¡åœ¨æŸä¸€ä¸ªé€»è¾‘æˆ–è€…æå‰æŠ›å‡ºäº†å¼‚å¸¸ã€‚ä¹‹å‰çœ‹åˆ°è¿‡åˆ«äººè§£å†³ close_wait é—®é¢˜çš„å®è·µæ–‡ç« ï¼Œæ„Ÿå…´è¶£çš„å¯ä»¥çœ‹çœ‹ï¼š"),e("a",Ht,[t("ä¸€æ¬¡ Netty ä»£ç ä¸å¥å£®å¯¼è‡´çš„å¤§é‡ CLOSE_WAIT è¿æ¥åŸå› åˆ†æ(opens new window)"),o(i)])]),Ut,e("p",null,[t("Or è§‚çœ‹"),e("a",Ot,[t("ä¸ºä»€ä¹ˆéœ€è¦ TIME_WAIT çŠ¶æ€"),o(i)])]),e("blockquote",null,[Mt,e("ol",null,[e("li",null,[e("a",Rt,[t("https://www.baeldung.com/linux/close-socket-time_wait"),o(i)])]),e("li",null,[e("a",zt,[t("https://www.sobyte.net/post/2021-12/whys-the-design-tcp-time-wait/"),o(i)])])])]),Ft,e("blockquote",null,[Wt,e("ol",null,[e("li",null,[e("a",Xt,[t("HTTP/2 ç‰›é€¼åœ¨å“ªï¼Ÿ"),o(i)])]),e("li",null,[e("a",Kt,[t("Introduction to HTTP/2"),o(i)])]),e("li",null,[e("a",Qt,[t("HTTP/1.1 vs HTTP/2: What's the Difference?"),o(i)])]),e("li",null,[e("a",Vt,[t("HTTP/2"),o(i)])])])]),Yt,e("p",null,[t("TCPä¸çŸ¥é“ä¼ è¾“çš„æ˜¯å¤šä¸ªç‹¬ç«‹èµ„æºï¼Œå®ƒåªæŠŠæ‰€æœ‰æ•°æ®è§†ä¸ºä¸€ä¸ªæ–‡ä»¶æµã€‚æ‰€ä»¥å¦‚æœæŸä¸ªåŒ…ä¸¢å¤±ï¼Œå®ƒä¼šé˜»å¡åç»­æ‰€æœ‰æµçš„æ•°æ®å‘é€ï¼Œç›´åˆ°ä¸¢å¤±åŒ…é‡ä¼ æˆåŠŸã€‚è¿™é‡Œå¯ä»¥é˜…è¯»"),e("a",jt,[t("TCPçš„é‡ä¼ æœºåˆ¶"),o(i)])]),Zt,e("blockquote",null,[Jt,e("ol",null,[e("li",null,[e("a",Gt,[t("HTTP/3 å¼ºåŠ¿æ¥è¢­"),o(i)])]),e("li",null,[e("a",$t,[t("HTTP/3 From A To Z: Core Concepts"),o(i)])]),e("li",null,[e("a",ei,[t("A Comprehensive Guide To HTTP/3 And QUIC"),o(i)])])])]),ti,e("ul",null,[e("li",null,[t("å®¢æˆ·ç«¯æ”¶åˆ° "),e("a",ii,[t("baidu.com"),o(i)]),t(" çš„è¯ä¹¦åï¼Œå‘ç°è¿™ä¸ªè¯ä¹¦çš„ç­¾å‘è€…ä¸æ˜¯æ ¹è¯ä¹¦ï¼Œå°±æ— æ³•æ ¹æ®æœ¬åœ°å·²æœ‰çš„æ ¹è¯ä¹¦ä¸­çš„å…¬é’¥å»éªŒè¯ "),e("a",oi,[t("baidu.com"),o(i)]),t(" è¯ä¹¦æ˜¯å¦å¯ä¿¡ã€‚äºæ˜¯ï¼Œå®¢æˆ·ç«¯æ ¹æ® "),e("a",ni,[t("baidu.com"),o(i)]),t(" è¯ä¹¦ä¸­çš„ç­¾å‘è€…ï¼Œæ‰¾åˆ°è¯¥è¯ä¹¦çš„é¢å‘æœºæ„æ˜¯ â€œGlobalSign Organization Validation CA - SHA256 - G2â€ï¼Œç„¶åå‘ CA è¯·æ±‚è¯¥ä¸­é—´è¯ä¹¦ã€‚")]),ai,e("li",null,[t("â€œGlobalSign Organization Validation CA - SHA256 - G2â€ è¯ä¹¦è¢«ä¿¡ä»»åï¼Œå¯ä»¥ä½¿ç”¨ â€œGlobalSign Organization Validation CA - SHA256 - G2â€ è¯ä¹¦ä¸­çš„å…¬é’¥å»éªŒè¯ "),e("a",si,[t("baidu.com"),o(i)]),t(" è¯ä¹¦çš„å¯ä¿¡æ€§ï¼Œå¦‚æœéªŒè¯é€šè¿‡ï¼Œå°±å¯ä»¥ä¿¡ä»» "),e("a",ri,[t("baidu.com"),o(i)]),t(" è¯ä¹¦ã€‚")])]),e("p",null,[t("åœ¨è¿™å››ä¸ªæ­¥éª¤ä¸­ï¼Œæœ€å¼€å§‹å®¢æˆ·ç«¯åªä¿¡ä»»æ ¹è¯ä¹¦ GlobalSign Root CA è¯ä¹¦çš„ï¼Œç„¶å â€œGlobalSign Root CAâ€ è¯ä¹¦ä¿¡ä»» â€œGlobalSign Organization Validation CA - SHA256 - G2â€ è¯ä¹¦ï¼Œè€Œ â€œGlobalSign Organization Validation CA - SHA256 - G2â€ è¯ä¹¦åˆä¿¡ä»» "),e("a",pi,[t("baidu.com"),o(i)]),t(" è¯ä¹¦ï¼Œäºæ˜¯å®¢æˆ·ç«¯ä¹Ÿä¿¡ä»» "),e("a",li,[t("baidu.com"),o(i)]),t(" è¯ä¹¦ã€‚")]),e("p",null,[t("æ€»æ‹¬æ¥è¯´ï¼Œç”±äºç”¨æˆ·ä¿¡ä»» GlobalSignï¼Œæ‰€ä»¥ç”± GlobalSign æ‰€æ‹…ä¿çš„ "),e("a",ci,[t("baidu.com"),o(i)]),t(" å¯ä»¥è¢«ä¿¡ä»»ï¼Œå¦å¤–ç”±äºç”¨æˆ·ä¿¡ä»»æ“ä½œç³»ç»Ÿæˆ–æµè§ˆå™¨çš„è½¯ä»¶å•†ï¼Œæ‰€ä»¥ç”±è½¯ä»¶å•†é¢„è½½äº†æ ¹è¯ä¹¦çš„ GlobalSign éƒ½å¯è¢«ä¿¡ä»»ã€‚")]),gi,e("blockquote",null,[di,e("ol",null,[e("li",null,[e("a",ui,[t("Difference between Router and Switch"),o(i)])]),e("li",null,[e("a",hi,[t("Difference between Router and Switch"),o(i)])]),e("li",null,[e("a",fi,[t("é›†çº¿å™¨ï¼Œäº¤æ¢æœºå’Œè·¯ç”±å™¨çš„åŒºåˆ«"),o(i)])])])]),mi,e("ol",null,[Pi,e("li",null,[Ti,t("ï¼šè´Ÿè´£åœ¨ä¸¤ä¸ªç½‘ç»œè®¾å¤‡ä¹‹é—´å»ºç«‹å’Œç»´æŠ¤æ•°æ®é“¾è·¯ï¼Œå¸¸ç”¨çš„åè®®åŒ…æ‹¬ï¼š "),e("ul",null,[e("li",null,[e("a",bi,[t("Ethernet"),o(i)])]),e("li",null,[e("a",Ci,[t("PPP (Point-to-Point Protocol)"),o(i)])]),e("li",null,[e("a",Ai,[t("Frame Relay"),o(i)])])])]),e("li",null,[ki,t("ï¼šè´Ÿè´£å°†æ•°æ®åŒ…ä»æºç½‘ç»œè½¬å‘åˆ°ç›®æ ‡ç½‘ç»œï¼Œå¸¸ç”¨çš„åè®®åŒ…æ‹¬ï¼š "),e("ul",null,[e("li",null,[e("a",Si,[t("IP (Internet Protocol)"),o(i)])]),e("li",null,[e("a",wi,[t("ICMP (Internet Control Message Protocol) ç”¨äºå‘ŠçŸ¥ç½‘ç»œåŒ…ä¼ é€è¿‡ç¨‹ä¸­äº§ç”Ÿçš„é”™è¯¯ä»¥åŠå„ç§æ§åˆ¶ä¿¡æ¯"),o(i)])]),e("li",null,[e("a",Ii,[t("IGMP (Internet Group Management Protocol)"),o(i)])])])]),e("li",null,[_i,t("ï¼šè´Ÿè´£åœ¨æºç«¯å’Œç›®æ ‡ç«¯ä¹‹é—´æä¾›å¯é æˆ–è€…ä¸å¯é çš„æ•°æ®ä¼ è¾“ï¼Œå¸¸ç”¨çš„åè®®åŒ…æ‹¬ï¼š "),e("ul",null,[e("li",null,[e("a",Ei,[t("TCP (Transmission Control Protocol)"),o(i)])]),e("li",null,[e("a",Ni,[t("UDP (User Datagram Protocol)"),o(i)])]),e("li",null,[e("a",vi,[t("SCTP (Stream Control Transmission Protocol)"),o(i)])])])]),Li,xi,e("li",null,[yi,t("ï¼šè´Ÿè´£ä¸ºç½‘ç»œåº”ç”¨æä¾›æœåŠ¡ï¼Œå¸¸ç”¨çš„åè®®åŒ…æ‹¬ï¼š "),e("ul",null,[e("li",null,[e("a",Di,[t("HTTP (Hypertext Transfer Protocol)"),o(i)])]),e("li",null,[e("a",Bi,[t("FTP (File Transfer Protocol)"),o(i)])]),e("li",null,[e("a",qi,[t("SMTP (Simple Mail Transfer Protocol)"),o(i)])]),e("li",null,[e("a",Hi,[t("DNS (Domain Name System)"),o(i)])]),e("li",null,[e("a",Ui,[t("SNMP (Simple Network Management Protocol)"),o(i)])])])])]),Oi,e("p",null,[t("TCP åè®®æ˜¯é¢å‘è¿æ¥çš„ã€å¯é çš„ã€åŸºäºå­—èŠ‚æµçš„ä¼ è¾“å±‚é€šä¿¡åè®®"),e("a",Mi,[t("3"),o(i)]),t("ï¼Œåº”ç”¨å±‚äº¤ç»™ TCP åè®®çš„æ•°æ®å¹¶ä¸ä¼šä»¥æ¶ˆæ¯ä¸ºå•ä½å‘ç›®çš„ä¸»æœºä¼ è¾“ï¼Œè¿™äº›æ•°æ®åœ¨æŸäº›æƒ…å†µä¸‹ä¼šè¢«ç»„åˆæˆä¸€ä¸ªæ•°æ®æ®µå‘é€ç»™ç›®æ ‡çš„ä¸»æœºã€‚")]),e("p",null,[t("Nagle ç®—æ³•æ˜¯ä¸€ç§é€šè¿‡å‡å°‘æ•°æ®åŒ…çš„æ–¹å¼æé«˜ TCP ä¼ è¾“æ€§èƒ½çš„ç®—æ³•"),e("a",Ri,[t("4"),o(i)]),t("ã€‚å› ä¸ºç½‘ç»œ å¸¦å®½æœ‰é™ï¼Œå®ƒä¸ä¼šå°†å°çš„æ•°æ®å—ç›´æ¥å‘é€åˆ°ç›®çš„ä¸»æœºï¼Œè€Œæ˜¯ä¼šåœ¨æœ¬åœ°ç¼“å†²åŒºä¸­ç­‰å¾…æ›´å¤šå¾…å‘é€çš„æ•°æ®ï¼Œè¿™ç§æ‰¹é‡å‘é€æ•°æ®çš„ç­–ç•¥è™½ç„¶ä¼šå½±å“å®æ—¶æ€§å’Œç½‘ç»œå»¶è¿Ÿï¼Œä½†æ˜¯èƒ½å¤Ÿé™ä½ç½‘ç»œæ‹¥å µçš„å¯èƒ½æ€§å¹¶å‡å°‘é¢å¤–å¼€é”€ã€‚")]),zi,e("p",null,[t("Linux å†…æ ¸ä¸­ä½¿ç”¨å¦‚ä¸‹æ‰€ç¤ºçš„ "),e("a",Fi,[Wi,o(i)]),t(" å‡½æ•°æµ‹è¯•æˆ‘ä»¬æ˜¯å¦åº”è¯¥å‘é€å½“å‰çš„ TCP æ•°æ®æ®µï¼Œæ„Ÿå…´è¶£çš„è¯»è€…å¯ä»¥ä»¥è¿™æ®µä»£ç ä¸ºå…¥å£è¯¦ç»†äº†è§£ Nagle ç®—æ³•åœ¨ä»Šå¤©çš„å®ç°ï¼š")]),Xi,e("p",null,[t("åœ¨ä¸Šè¿° HTTP æ¶ˆæ¯ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨ "),Ki,t(" å¤´è¡¨ç¤º HTTP æ¶ˆæ¯çš„è´Ÿè½½å¤§å°ï¼Œå½“åº”ç”¨å±‚åè®®è§£æåˆ°è¶³å¤Ÿçš„å­—èŠ‚æ•°åï¼Œå°±èƒ½ä»ä¸­åˆ†ç¦»å‡ºå®Œæ•´çš„ HTTP æ¶ˆæ¯ï¼Œæ— è®ºå‘é€æ–¹å¦‚ä½•å¤„ç†å¯¹åº”çš„æ•°æ®åŒ…ï¼Œæˆ‘ä»¬éƒ½å¯ä»¥éµå¾ªè¿™ä¸€è§„åˆ™å®Œæˆ HTTP æ¶ˆæ¯çš„é‡ç»„"),e("a",Qi,[t("6"),o(i)]),t("ã€‚")]),Vi])}const Gi=a(nt,[["render",Yi],["__file","network.html.vue"]]);export{Gi as default};
