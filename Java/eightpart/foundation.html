<!DOCTYPE html>
<html lang="zh-CN" data-theme="light">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-beta.61" />
    <meta name="theme" content="VuePress Theme Hope" />
    <meta property="og:url" content="https://zhiyu1998.github.io/Computer-Science-Learn-Notes/Computer-Science-Learn-Notes/Java/eightpart/foundation.html"><meta property="og:title" content="JavaåŸºç¡€"><meta property="og:description" content="â˜•ï¸ JavaåŸºç¡€ Java 8çš„æ¥â¼æ–°å¢äº†å“ªäº›ç‰¹æ€§ï¼Ÿ Lambda è¡¨è¾¾å¼ âˆ’ Lambdaå…è®¸æŠŠå‡½æ•°ä½œä¸ºä¸€ä¸ªæ–¹æ³•çš„å‚æ•°ï¼ˆå‡½æ•°ä½œä¸ºå‚æ•°ä¼ é€’è¿›æ–¹æ³•ä¸­)ã€‚; æ–¹æ³•å¼•ç”¨ âˆ’ æ–¹æ³•å¼•ç”¨æä¾›äº†éå¸¸æœ‰ç”¨çš„è¯­æ³•ï¼Œå¯ä»¥ç›´æ¥å¼•ç”¨å·²æœ‰Javaç±»æˆ–å¯¹è±¡ï¼ˆå®ä¾‹ï¼‰çš„æ–¹æ³•æˆ–æ„é€ å™¨ã€‚ä¸lambdaè”åˆä½¿ç”¨ï¼Œæ–¹æ³•å¼•ç”¨å¯ä»¥ä½¿è¯­è¨€çš„æ„é€ æ›´ç´§å‡‘ç®€æ´ï¼Œå‡å°‘å†—ä½™ä»£ç ã€‚; é»˜è®¤æ–¹æ³• âˆ’ é»˜è®¤æ–¹..."><meta property="og:type" content="article"><meta property="og:image" content="https://zhiyu1998.github.io/Computer-Science-Learn-Notes/Computer-Science-Learn-Notes/"><meta property="og:locale" content="zh-CN"><meta property="og:updated_time" content="2023-04-06T15:04:01.000Z"><meta name="twitter:card" content="summary_large_image"><meta name="twitter:image:alt" content="JavaåŸºç¡€"><meta property="article:author" content="zhiyu1998"><meta property="article:modified_time" content="2023-04-06T15:04:01.000Z"><script type="application/ld+json">{"@context":"https://schema.org","@type":"Article","headline":"JavaåŸºç¡€","image":["https://zhiyu1998.github.io/Computer-Science-Learn-Notes/Computer-Science-Learn-Notes/"],"dateModified":"2023-04-06T15:04:01.000Z","author":[{"@type":"Person","name":"zhiyu1998"}]}</script><link rel="manifest" href="/Computer-Science-Learn-Notes/manifest.webmanifest" crossorigin="use-credentials"><meta name="theme-color" content="#46bd87"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover"><title>JavaåŸºç¡€</title><meta name="description" content="â˜•ï¸ JavaåŸºç¡€ Java 8çš„æ¥â¼æ–°å¢äº†å“ªäº›ç‰¹æ€§ï¼Ÿ Lambda è¡¨è¾¾å¼ âˆ’ Lambdaå…è®¸æŠŠå‡½æ•°ä½œä¸ºä¸€ä¸ªæ–¹æ³•çš„å‚æ•°ï¼ˆå‡½æ•°ä½œä¸ºå‚æ•°ä¼ é€’è¿›æ–¹æ³•ä¸­)ã€‚; æ–¹æ³•å¼•ç”¨ âˆ’ æ–¹æ³•å¼•ç”¨æä¾›äº†éå¸¸æœ‰ç”¨çš„è¯­æ³•ï¼Œå¯ä»¥ç›´æ¥å¼•ç”¨å·²æœ‰Javaç±»æˆ–å¯¹è±¡ï¼ˆå®ä¾‹ï¼‰çš„æ–¹æ³•æˆ–æ„é€ å™¨ã€‚ä¸lambdaè”åˆä½¿ç”¨ï¼Œæ–¹æ³•å¼•ç”¨å¯ä»¥ä½¿è¯­è¨€çš„æ„é€ æ›´ç´§å‡‘ç®€æ´ï¼Œå‡å°‘å†—ä½™ä»£ç ã€‚; é»˜è®¤æ–¹æ³• âˆ’ é»˜è®¤æ–¹...">
    <style>
      :root {
        --bg-color: #fff;
      }

      html[data-theme="dark"] {
        --bg-color: #1d1e1f;
      }

      html,
      body {
        background: var(--bg-color);
      }
    </style>
    <script>
      const userMode = localStorage.getItem("vuepress-theme-hope-scheme");
      const systemDarkMode =
        window.matchMedia &&
        window.matchMedia("(prefers-color-scheme: dark)").matches;

      if (userMode === "dark" || (userMode !== "light" && systemDarkMode)) {
        document.documentElement.setAttribute("data-theme", "dark");
      }
    </script>
    <link rel="preload" href="/Computer-Science-Learn-Notes/assets/style-a5be085c.css" as="style"><link rel="stylesheet" href="/Computer-Science-Learn-Notes/assets/style-a5be085c.css">
    <link rel="modulepreload" href="/Computer-Science-Learn-Notes/assets/app-c8182957.js"><link rel="modulepreload" href="/Computer-Science-Learn-Notes/assets/framework-c8643d23.js"><link rel="modulepreload" href="/Computer-Science-Learn-Notes/assets/foundation.html-7f2a9d08.js"><link rel="modulepreload" href="/Computer-Science-Learn-Notes/assets/foundation.html-ea546b59.js">
  </head>
  <body>
    <div id="app"><!--[--><!--[--><!--[--><span tabindex="-1"></span><a href="#main-content" class="skip-link sr-only">è·³è‡³ä¸»è¦å…§å®¹</a><!--]--><div class="theme-container has-toc"><!--[--><header class="navbar" id="navbar"><div class="navbar-start"><button type="button" class="toggle-sidebar-button" title="Toggle Sidebar"><span class="icon"></span></button><!--[--><!----><!--]--><a href="/Computer-Science-Learn-Notes/" class="brand"><img class="logo" src="/Computer-Science-Learn-Notes/logo.svg" alt><!----><!----></a><!--[--><!----><!--]--></div><div class="navbar-center"><!--[--><!----><!--]--><nav class="nav-links"><div class="nav-item hide-in-mobile"><a href="/Computer-Science-Learn-Notes/" class="nav-link" aria-label="ä¸»é¡µ"><span class="font-icon icon iconfont icon-home" style=""></span>ä¸»é¡µ<!----></a></div><div class="nav-item hide-in-mobile"><a href="/Computer-Science-Learn-Notes/intro/" class="nav-link" aria-label="å¯¼è¯»"><span class="font-icon icon iconfont icon-discover" style=""></span>å¯¼è¯»<!----></a></div><div class="nav-item hide-in-mobile"><a href="https://github.com/zhiyu1998/Computer-Science-Learn-Notes/issues" rel="noopener noreferrer" target="_blank" aria-label="é—®é¢˜åé¦ˆ" class="nav-link"><span class="font-icon icon iconfont icon-note" style=""></span>é—®é¢˜åé¦ˆ<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!----></a></div></nav><!--[--><!----><!--]--></div><div class="navbar-end"><!--[--><!----><!--]--><!----><div class="nav-item"><a class="repo-link" href="https://github.com/zhiyu1998/Computer-Science-Learn-Notes" target="_blank" rel="noopener noreferrer" aria-label="GitHub"><svg xmlns="http://www.w3.org/2000/svg" class="icon github-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="github icon" style="width:1.25rem;height:1.25rem;vertical-align:middle;"><path d="M511.957 21.333C241.024 21.333 21.333 240.981 21.333 512c0 216.832 140.544 400.725 335.574 465.664 24.49 4.395 32.256-10.07 32.256-23.083 0-11.69.256-44.245 0-85.205-136.448 29.61-164.736-64.64-164.736-64.64-22.315-56.704-54.4-71.765-54.4-71.765-44.587-30.464 3.285-29.824 3.285-29.824 49.195 3.413 75.179 50.517 75.179 50.517 43.776 75.008 114.816 53.333 142.762 40.79 4.523-31.66 17.152-53.377 31.19-65.537-108.971-12.458-223.488-54.485-223.488-242.602 0-53.547 19.114-97.323 50.517-131.67-5.035-12.33-21.93-62.293 4.779-129.834 0 0 41.258-13.184 134.912 50.346a469.803 469.803 0 0 1 122.88-16.554c41.642.213 83.626 5.632 122.88 16.554 93.653-63.488 134.784-50.346 134.784-50.346 26.752 67.541 9.898 117.504 4.864 129.834 31.402 34.347 50.474 78.123 50.474 131.67 0 188.586-114.73 230.016-224.042 242.09 17.578 15.232 33.578 44.672 33.578 90.454v135.85c0 13.142 7.936 27.606 32.854 22.87C862.25 912.597 1002.667 728.747 1002.667 512c0-271.019-219.648-490.667-490.71-490.667z"></path></svg></a></div><div class="nav-item hide-in-mobile"><button type="button" id="appearance-switch"><svg xmlns="http://www.w3.org/2000/svg" class="icon auto-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="auto icon" style="display:block;"><path d="M512 992C246.92 992 32 777.08 32 512S246.92 32 512 32s480 214.92 480 480-214.92 480-480 480zm0-840c-198.78 0-360 161.22-360 360 0 198.84 161.22 360 360 360s360-161.16 360-360c0-198.78-161.22-360-360-360zm0 660V212c165.72 0 300 134.34 300 300 0 165.72-134.28 300-300 300z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon dark-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="dark icon" style="display:none;"><path d="M524.8 938.667h-4.267a439.893 439.893 0 0 1-313.173-134.4 446.293 446.293 0 0 1-11.093-597.334A432.213 432.213 0 0 1 366.933 90.027a42.667 42.667 0 0 1 45.227 9.386 42.667 42.667 0 0 1 10.24 42.667 358.4 358.4 0 0 0 82.773 375.893 361.387 361.387 0 0 0 376.747 82.774 42.667 42.667 0 0 1 54.187 55.04 433.493 433.493 0 0 1-99.84 154.88 438.613 438.613 0 0 1-311.467 128z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon light-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="light icon" style="display:none;"><path d="M952 552h-80a40 40 0 0 1 0-80h80a40 40 0 0 1 0 80zM801.88 280.08a41 41 0 0 1-57.96-57.96l57.96-58a41.04 41.04 0 0 1 58 58l-58 57.96zM512 752a240 240 0 1 1 0-480 240 240 0 0 1 0 480zm0-560a40 40 0 0 1-40-40V72a40 40 0 0 1 80 0v80a40 40 0 0 1-40 40zm-289.88 88.08-58-57.96a41.04 41.04 0 0 1 58-58l57.96 58a41 41 0 0 1-57.96 57.96zM192 512a40 40 0 0 1-40 40H72a40 40 0 0 1 0-80h80a40 40 0 0 1 40 40zm30.12 231.92a41 41 0 0 1 57.96 57.96l-57.96 58a41.04 41.04 0 0 1-58-58l58-57.96zM512 832a40 40 0 0 1 40 40v80a40 40 0 0 1-80 0v-80a40 40 0 0 1 40-40zm289.88-88.08 58 57.96a41.04 41.04 0 0 1-58 58l-57.96-58a41 41 0 0 1 57.96-57.96z"></path></svg></button></div><!--[--><button type="button" class="search-pro-button" role="search" aria-label="æœç´¢"><svg xmlns="http://www.w3.org/2000/svg" class="icon search-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="search icon"><path d="M192 480a256 256 0 1 1 512 0 256 256 0 0 1-512 0m631.776 362.496-143.2-143.168A318.464 318.464 0 0 0 768 480c0-176.736-143.264-320-320-320S128 303.264 128 480s143.264 320 320 320a318.016 318.016 0 0 0 184.16-58.592l146.336 146.368c12.512 12.48 32.768 12.48 45.28 0 12.48-12.512 12.48-32.768 0-45.28"></path></svg><div class="placeholder">æœç´¢</div><div class="key-hints"><kbd class="key">Ctrl</kbd><kbd class="key">K</kbd></div></button><!--]--><!--[--><!----><!--]--><button type="button" class="toggle-navbar-button" aria-label="Toggle Navbar" aria-expanded="false" aria-controls="nav-screen"><span class="button-container"><span class="button-top"></span><span class="button-middle"></span><span class="button-bottom"></span></span></button></div></header><!----><!--]--><!----><div class="toggle-sidebar-wrapper"><span class="arrow start"></span></div><aside class="sidebar" id="sidebar"><!--[--><!----><!--]--><ul class="sidebar-links"><li><section class="sidebar-group"><button class="sidebar-heading clickable" type="button"><span class="font-icon icon iconfont icon-build" style=""></span><span class="title">è®¡ç®—æœºåŸºç¡€</span><span class="arrow end"></span></button><!----></section></li><li><section class="sidebar-group"><button class="sidebar-heading clickable" type="button"><span class="font-icon icon iconfont icon-vscode" style=""></span><span class="title">å‰ç«¯</span><span class="arrow end"></span></button><!----></section></li><li><section class="sidebar-group"><button class="sidebar-heading clickable" type="button"><span class="font-icon icon iconfont icon-timer" style=""></span><span class="title">Golang</span><span class="arrow end"></span></button><!----></section></li><li><section class="sidebar-group"><button class="sidebar-heading clickable active" type="button"><span class="font-icon icon iconfont icon-java" style=""></span><span class="title">Java</span><span class="arrow down"></span></button><ul class="sidebar-links"><li><section class="sidebar-group"><button class="sidebar-heading clickable" type="button"><span class="font-icon icon iconfont icon-activity" style=""></span><span class="title">åŸºç¡€</span><span class="arrow end"></span></button><!----></section></li><li><section class="sidebar-group"><button class="sidebar-heading clickable" type="button"><span class="font-icon icon iconfont icon-branch" style=""></span><span class="title">å¹¶å‘</span><span class="arrow end"></span></button><!----></section></li><li><section class="sidebar-group"><button class="sidebar-heading clickable active" type="button"><span class="font-icon icon iconfont icon-profile" style=""></span><span class="title">é¢è¯•</span><span class="arrow down"></span></button><ul class="sidebar-links"><li><!--[--><a aria-current="page" href="/Computer-Science-Learn-Notes/Java/eightpart/foundation.html" class="router-link-active router-link-exact-active nav-link active sidebar-link sidebar-page active" aria-label="JavaåŸºç¡€"><!---->JavaåŸºç¡€<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/Computer-Science-Learn-Notes/Java/eightpart/foundation.html#â˜•ï¸-javaåŸºç¡€" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="â˜•ï¸ JavaåŸºç¡€"><!---->â˜•ï¸ JavaåŸºç¡€<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/Computer-Science-Learn-Notes/Java/eightpart/foundation.html#java-8çš„æ¥å£æ–°å¢äº†å“ªäº›ç‰¹æ€§" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="Java 8çš„æ¥â¼æ–°å¢äº†å“ªäº›ç‰¹æ€§ï¼Ÿ"><!---->Java 8çš„æ¥â¼æ–°å¢äº†å“ªäº›ç‰¹æ€§ï¼Ÿ<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/Computer-Science-Learn-Notes/Java/eightpart/foundation.html#é‡è½½å’Œé‡å†™çš„åŒºåˆ«" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="é‡è½½å’Œé‡å†™çš„åŒºåˆ«ï¼Ÿ"><!---->é‡è½½å’Œé‡å†™çš„åŒºåˆ«ï¼Ÿ<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/Computer-Science-Learn-Notes/Java/eightpart/foundation.html#å†…éƒ¨ç±»äº†è§£å—" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="å†…éƒ¨ç±»äº†è§£å—ï¼Ÿ"><!---->å†…éƒ¨ç±»äº†è§£å—ï¼Ÿ<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/Computer-Science-Learn-Notes/Java/eightpart/foundation.html#hashset-å¦‚ä½•æ£€æŸ¥é‡å¤" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="HashSet å¦‚ä½•æ£€æŸ¥é‡å¤"><!---->HashSet å¦‚ä½•æ£€æŸ¥é‡å¤<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/Computer-Science-Learn-Notes/Java/eightpart/foundation.html#æ„é€ æ–¹æ³•æœ‰å“ªäº›ç‰¹æ€§" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="æ„é€ â½…æ³•æœ‰å“ªäº›ç‰¹æ€§ï¼Ÿ"><!---->æ„é€ â½…æ³•æœ‰å“ªäº›ç‰¹æ€§ï¼Ÿ<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/Computer-Science-Learn-Notes/Java/eightpart/foundation.html#final-static-this-super-å…³é”®å­—æ€»ç»“" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="final,static,this,super å…³é”®å­—æ€»ç»“"><!---->final,static,this,super å…³é”®å­—æ€»ç»“<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/Computer-Science-Learn-Notes/Java/eightpart/foundation.html#thisä¸superçš„åŒºåˆ«" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="thisä¸superçš„åŒºåˆ«"><!---->thisä¸superçš„åŒºåˆ«<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/Computer-Science-Learn-Notes/Java/eightpart/foundation.html#é™æ€ä»£ç†å’ŒåŠ¨æ€ä»£ç†" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="é™æ€ä»£ç†å’ŒåŠ¨æ€ä»£ç†"><!---->é™æ€ä»£ç†å’ŒåŠ¨æ€ä»£ç†<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/Computer-Science-Learn-Notes/Java/eightpart/foundation.html#static-é™æ€ä»£ç å—ä¸-éé™æ€ä»£ç å—-æ„é€ ä»£ç å—" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="static{}é™æ€ä»£ç å—ä¸{}éé™æ€ä»£ç å—(æ„é€ ä»£ç å—)"><!---->static{}é™æ€ä»£ç å—ä¸{}éé™æ€ä»£ç å—(æ„é€ ä»£ç å—)<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/Computer-Science-Learn-Notes/Java/eightpart/foundation.html#charå‹å˜é‡ä¸­èƒ½å¦èƒ½ä¸èƒ½å­˜å‚¨ä¸€ä¸ªä¸­æ–‡æ±‰å­—-ä¸ºä»€ä¹ˆ" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="charå‹å˜é‡ä¸­èƒ½å¦èƒ½ä¸èƒ½å­˜å‚¨â¼€ä¸ªä¸­â½‚æ±‰å­—ï¼Œä¸ºä»€ä¹ˆï¼Ÿ"><!---->charå‹å˜é‡ä¸­èƒ½å¦èƒ½ä¸èƒ½å­˜å‚¨â¼€ä¸ªä¸­â½‚æ±‰å­—ï¼Œä¸ºä»€ä¹ˆï¼Ÿ<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/Computer-Science-Learn-Notes/Java/eightpart/foundation.html#æ˜¯å¦å¯ä»¥ç»§æ‰¿stringç±»" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="æ˜¯å¦å¯ä»¥ç»§æ‰¿Stringç±»ï¼Ÿ"><!---->æ˜¯å¦å¯ä»¥ç»§æ‰¿Stringç±»ï¼Ÿ<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/Computer-Science-Learn-Notes/Java/eightpart/foundation.html#è°ˆè°ˆä½ å¯¹å¤šæ€çš„ç†è§£" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="è°ˆè°ˆä½ å¯¹å¤šæ€çš„ç†è§£ï¼Ÿ"><!---->è°ˆè°ˆä½ å¯¹å¤šæ€çš„ç†è§£ï¼Ÿ<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/Computer-Science-Learn-Notes/Java/eightpart/foundation.html#æ„é€ å™¨-constructor-æ˜¯å¦å¯è¢«é‡å†™-override" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="æ„é€ å™¨ï¼ˆconstructorï¼‰æ˜¯å¦å¯è¢«é‡å†™ï¼ˆoverrideï¼‰ï¼Ÿ"><!---->æ„é€ å™¨ï¼ˆconstructorï¼‰æ˜¯å¦å¯è¢«é‡å†™ï¼ˆoverrideï¼‰ï¼Ÿ<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/Computer-Science-Learn-Notes/Java/eightpart/foundation.html#java-ä¸­æ“ä½œå­—ç¬¦ä¸²éƒ½æœ‰å“ªäº›ç±»-å®ƒä»¬ä¹‹é—´æœ‰ä»€ä¹ˆåŒºåˆ«" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="Java ä¸­æ“ä½œå­—ç¬¦ä¸²éƒ½æœ‰å“ªäº›ç±»ï¼Ÿå®ƒä»¬ä¹‹é—´æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ"><!---->Java ä¸­æ“ä½œå­—ç¬¦ä¸²éƒ½æœ‰å“ªäº›ç±»ï¼Ÿå®ƒä»¬ä¹‹é—´æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/Computer-Science-Learn-Notes/Java/eightpart/foundation.html#string-str-i-å’Œstring-str-new-string-1-ä¸€æ ·å—" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="String str = &quot;i&quot; å’ŒString str = new String(&quot;1&quot;)â¼€æ ·å—ï¼Ÿ"><!---->String str = &quot;i&quot; å’ŒString str = new String(&quot;1&quot;)â¼€æ ·å—ï¼Ÿ<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/Computer-Science-Learn-Notes/Java/eightpart/foundation.html#ä»€ä¹ˆæ˜¯åºåˆ—åŒ–ååºåˆ—åŒ–" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="ä»€ä¹ˆæ˜¯åºåˆ—åŒ–ååºåˆ—åŒ–?"><!---->ä»€ä¹ˆæ˜¯åºåˆ—åŒ–ååºåˆ—åŒ–?<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/Computer-Science-Learn-Notes/Java/eightpart/foundation.html#final-finally-finalizeçš„åŒºåˆ«" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="final finally finalizeçš„åŒºåˆ«"><!---->final finally finalizeçš„åŒºåˆ«<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/Computer-Science-Learn-Notes/Java/eightpart/foundation.html#â­javaæœ‰å“ªäº›æ•°æ®ç±»å‹" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="â­Javaæœ‰å“ªäº›æ•°æ®ç±»å‹"><!---->â­Javaæœ‰å“ªäº›æ•°æ®ç±»å‹<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/Computer-Science-Learn-Notes/Java/eightpart/foundation.html#float-f-3-4-æ˜¯å¦æ­£ç¡®" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="float f=3.4;æ˜¯å¦æ­£ç¡®ï¼Ÿ"><!---->float f=3.4;æ˜¯å¦æ­£ç¡®ï¼Ÿ<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/Computer-Science-Learn-Notes/Java/eightpart/foundation.html#æˆå‘˜å˜é‡ä¸å±€éƒ¨å˜é‡çš„åŒºåˆ«æœ‰å“ªäº›" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="æˆå‘˜å˜é‡ä¸å±€éƒ¨å˜é‡çš„åŒºåˆ«æœ‰å“ªäº›ï¼Ÿ"><!---->æˆå‘˜å˜é‡ä¸å±€éƒ¨å˜é‡çš„åŒºåˆ«æœ‰å“ªäº›ï¼Ÿ<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/Computer-Science-Learn-Notes/Java/eightpart/foundation.html#â­æ¥å£å’ŒæŠ½è±¡ç±»çš„åŒºåˆ«æ˜¯ä»€ä¹ˆ" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="â­æ¥å£å’ŒæŠ½è±¡ç±»çš„åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿ"><!---->â­æ¥å£å’ŒæŠ½è±¡ç±»çš„åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿ<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/Computer-Science-Learn-Notes/Java/eightpart/foundation.html#ğŸŒ java-æ³›å‹äº†è§£ä¹ˆ-æ³›å‹çš„ä½œç”¨-ä»€ä¹ˆæ˜¯ç±»å‹æ“¦é™¤" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="ğŸŒ Java æ³›å‹äº†è§£ä¹ˆï¼Ÿæ³›å‹çš„ä½œç”¨ï¼Ÿä»€ä¹ˆæ˜¯ç±»å‹æ“¦é™¤ï¼Ÿ"><!---->ğŸŒ Java æ³›å‹äº†è§£ä¹ˆï¼Ÿæ³›å‹çš„ä½œç”¨ï¼Ÿä»€ä¹ˆæ˜¯ç±»å‹æ“¦é™¤ï¼Ÿ<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/Computer-Science-Learn-Notes/Java/eightpart/foundation.html#â­-ä¸-equals" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="â­== ä¸ equals"><!---->â­== ä¸ equals<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/Computer-Science-Learn-Notes/Java/eightpart/foundation.html#hashcode-ä¸-equals" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="hashCode ä¸ equals"><!---->hashCode ä¸ equals<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/Computer-Science-Learn-Notes/Java/eightpart/foundation.html#å¦‚ä½•å†³å®šä½¿ç”¨-hashmap-è¿˜æ˜¯-treemap" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="å¦‚ä½•å†³å®šä½¿ç”¨ HashMap è¿˜æ˜¯ TreeMapï¼Ÿ"><!---->å¦‚ä½•å†³å®šä½¿ç”¨ HashMap è¿˜æ˜¯ TreeMapï¼Ÿ<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/Computer-Science-Learn-Notes/Java/eightpart/foundation.html#â­hashmap-çš„åº•å±‚å®ç°" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="â­HashMap çš„åº•å±‚å®ç°"><!---->â­HashMap çš„åº•å±‚å®ç°<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/Computer-Science-Learn-Notes/Java/eightpart/foundation.html#â­hashmapæºç åˆ†æ" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="â­HashMapæºç åˆ†æ"><!---->â­HashMapæºç åˆ†æ<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/Computer-Science-Learn-Notes/Java/eightpart/foundation.html#hashmap-çš„é•¿åº¦ä¸ºä»€ä¹ˆæ˜¯-2-çš„å¹‚æ¬¡æ–¹" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="HashMap çš„é•¿åº¦ä¸ºä»€ä¹ˆæ˜¯ 2 çš„å¹‚æ¬¡æ–¹"><!---->HashMap çš„é•¿åº¦ä¸ºä»€ä¹ˆæ˜¯ 2 çš„å¹‚æ¬¡æ–¹<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/Computer-Science-Learn-Notes/Java/eightpart/foundation.html#hashmap-å¤šçº¿ç¨‹æ“ä½œå¯¼è‡´æ­»å¾ªç¯é—®é¢˜" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="HashMap å¤šçº¿ç¨‹æ“ä½œå¯¼è‡´æ­»å¾ªç¯é—®é¢˜"><!---->HashMap å¤šçº¿ç¨‹æ“ä½œå¯¼è‡´æ­»å¾ªç¯é—®é¢˜<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/Computer-Science-Learn-Notes/Java/eightpart/foundation.html#ä¸ºä»€ä¹ˆjavaåªæœ‰å€¼ä¼ é€’" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="ä¸ºä»€ä¹ˆJavaåªæœ‰å€¼ä¼ é€’"><!---->ä¸ºä»€ä¹ˆJavaåªæœ‰å€¼ä¼ é€’<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/Computer-Science-Learn-Notes/Java/eightpart/foundation.html#å¼‚å¸¸å¤„ç†æ€»ç»“" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="å¼‚å¸¸å¤„ç†æ€»ç»“"><!---->å¼‚å¸¸å¤„ç†æ€»ç»“<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/Computer-Science-Learn-Notes/Java/eightpart/foundation.html#æœ‰å“ªäº›å¸¸è§çš„-io-æ¨¡å‹" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="æœ‰å“ªäº›å¸¸è§çš„ IO æ¨¡å‹?"><!---->æœ‰å“ªäº›å¸¸è§çš„ IO æ¨¡å‹?<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/Computer-Science-Learn-Notes/Java/eightpart/foundation.html#â­bio-nio-aio-æœ‰ä»€ä¹ˆåŒºåˆ«" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="â­BIO,NIO,AIO æœ‰ä»€ä¹ˆåŒºåˆ«"><!---->â­BIO,NIO,AIO æœ‰ä»€ä¹ˆåŒºåˆ«<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/Computer-Science-Learn-Notes/Java/eightpart/foundation.html#â­javaé›†åˆç±»æ¡†æ¶çš„åŸºæœ¬æ¥å£æœ‰å“ªäº›" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="â­Javaé›†åˆç±»æ¡†æ¶çš„åŸºæœ¬æ¥å£æœ‰å“ªäº›ï¼Ÿ"><!---->â­Javaé›†åˆç±»æ¡†æ¶çš„åŸºæœ¬æ¥å£æœ‰å“ªäº›ï¼Ÿ<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/Computer-Science-Learn-Notes/Java/eightpart/foundation.html#â­-arraylist-ä¸-linkedlist-åŒºåˆ«" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="â­ Arraylist ä¸ LinkedList åŒºåˆ«"><!---->â­ Arraylist ä¸ LinkedList åŒºåˆ«<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/Computer-Science-Learn-Notes/Java/eightpart/foundation.html#hashmapå’Œhashtableæœ‰ä»€ä¹ˆåŒºåˆ«" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="HashMapå’ŒHashTableæœ‰ä»€ä¹ˆåŒºåˆ«"><!---->HashMapå’ŒHashTableæœ‰ä»€ä¹ˆåŒºåˆ«<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/Computer-Science-Learn-Notes/Java/eightpart/foundation.html#concurrenthashmap-å’Œ-hashtable-çš„åŒºåˆ«" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="ConcurrentHashMap å’Œ Hashtable çš„åŒºåˆ«"><!---->ConcurrentHashMap å’Œ Hashtable çš„åŒºåˆ«<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/Computer-Science-Learn-Notes/Java/eightpart/foundation.html#â­concurrenthashmapçº¿ç¨‹å®‰å…¨çš„å…·ä½“å®ç°æ–¹å¼-åº•å±‚å…·ä½“å®ç°" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="â­ConcurrentHashMapçº¿ç¨‹å®‰å…¨çš„å…·ä½“å®ç°æ–¹å¼/åº•å±‚å…·ä½“å®ç°"><!---->â­ConcurrentHashMapçº¿ç¨‹å®‰å…¨çš„å…·ä½“å®ç°æ–¹å¼/åº•å±‚å…·ä½“å®ç°<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/Computer-Science-Learn-Notes/Java/eightpart/foundation.html#è¯´ä¸€è¯´javaåå°„" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="è¯´ä¸€è¯´Javaåå°„ï¼Ÿ"><!---->è¯´ä¸€è¯´Javaåå°„ï¼Ÿ<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li></ul><!--]--></li><li><!--[--><a href="/Computer-Science-Learn-Notes/Java/eightpart/concurrency.html" class="nav-link sidebar-link sidebar-page" aria-label="Javaå¹¶å‘"><!---->Javaå¹¶å‘<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/Computer-Science-Learn-Notes/Java/eightpart/virtualMachine.html" class="nav-link sidebar-link sidebar-page" aria-label="JVM"><!---->JVM<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/Computer-Science-Learn-Notes/Java/eightpart/spring.html" class="nav-link sidebar-link sidebar-page" aria-label="Springç³»åˆ—"><!---->Springç³»åˆ—<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/Computer-Science-Learn-Notes/Java/eightpart/mysql.html" class="nav-link sidebar-link sidebar-page" aria-label="MySQL"><!---->MySQL<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/Computer-Science-Learn-Notes/Java/eightpart/redis.html" class="nav-link sidebar-link sidebar-page" aria-label="redis"><!---->redis<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/Computer-Science-Learn-Notes/Java/eightpart/distribution.html" class="nav-link sidebar-link sidebar-page" aria-label="åˆ†å¸ƒå¼"><!---->åˆ†å¸ƒå¼<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/Computer-Science-Learn-Notes/Java/eightpart/messageQueue.html" class="nav-link sidebar-link sidebar-page" aria-label="æ¶ˆæ¯é˜Ÿåˆ—"><!---->æ¶ˆæ¯é˜Ÿåˆ—<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/Computer-Science-Learn-Notes/Java/eightpart/netty.html" class="nav-link sidebar-link sidebar-page" aria-label="Netty"><!---->Netty<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/Computer-Science-Learn-Notes/Java/eightpart/network.html" class="nav-link sidebar-link sidebar-page" aria-label="è®¡ç®—æœºç½‘ç»œ"><!---->è®¡ç®—æœºç½‘ç»œ<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/Computer-Science-Learn-Notes/Java/eightpart/system.html" class="nav-link sidebar-link sidebar-page" aria-label="æ“ä½œç³»ç»Ÿ"><!---->æ“ä½œç³»ç»Ÿ<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/Computer-Science-Learn-Notes/Java/eightpart/datastruct.html" class="nav-link sidebar-link sidebar-page" aria-label="æ•°æ®ç»“æ„"><!---->æ•°æ®ç»“æ„<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/Computer-Science-Learn-Notes/Java/eightpart/intelligenceQuestion.html" class="nav-link sidebar-link sidebar-page" aria-label="æ™ºåŠ›é¢˜"><!---->æ™ºåŠ›é¢˜<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/Computer-Science-Learn-Notes/Java/eightpart/think.html" class="nav-link sidebar-link sidebar-page" aria-label="æ“ä½œç³»ç»Ÿ"><!---->æ“ä½œç³»ç»Ÿ<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/Computer-Science-Learn-Notes/Java/eightpart/giant.html" class="nav-link sidebar-link sidebar-page" aria-label="2022å¤§å‚å…«è‚¡æ–‡"><!---->2022å¤§å‚å…«è‚¡æ–‡<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/Computer-Science-Learn-Notes/Java/eightpart/intro.html" class="nav-link sidebar-link sidebar-page" aria-label="å‰è¨€"><!---->å‰è¨€<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li></ul></section></li><li><section class="sidebar-group"><button class="sidebar-heading clickable" type="button"><span class="font-icon icon iconfont icon-leaf" style=""></span><span class="title">æ¡†æ¶</span><span class="arrow end"></span></button><!----></section></li><li><section class="sidebar-group"><button class="sidebar-heading clickable" type="button"><span class="font-icon icon iconfont icon-async" style=""></span><span class="title">è™šæ‹Ÿæœº</span><span class="arrow end"></span></button><!----></section></li><li><section class="sidebar-group"><button class="sidebar-heading clickable" type="button"><span class="font-icon icon iconfont icon-launch" style=""></span><span class="title">Kotlinç»“åˆSpring</span><span class="arrow end"></span></button><!----></section></li><li><section class="sidebar-group"><button class="sidebar-heading clickable" type="button"><span class="font-icon icon iconfont icon-object" style=""></span><span class="title">LeetCodeåˆ·é¢˜é¡ºåº</span><span class="arrow end"></span></button><!----></section></li></ul></section></li><li><section class="sidebar-group"><button class="sidebar-heading clickable" type="button"><span class="font-icon icon iconfont icon-repair" style=""></span><span class="title">ç»éªŒæ€»ç»“</span><span class="arrow end"></span></button><!----></section></li></ul><!--[--><!----><!--]--></aside><!--[--><main class="page" id="main-content"><!--[--><!----><nav class="breadcrumb disable"></nav><div class="page-title"><h1><!---->JavaåŸºç¡€</h1><div class="page-info"><span class="page-author-info" aria-label="ä½œè€…ğŸ–Š" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon author-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="author icon"><path d="M649.6 633.6c86.4-48 147.2-144 147.2-249.6 0-160-128-288-288-288s-288 128-288 288c0 108.8 57.6 201.6 147.2 249.6-121.6 48-214.4 153.6-240 288-3.2 9.6 0 19.2 6.4 25.6 3.2 9.6 12.8 12.8 22.4 12.8h704c9.6 0 19.2-3.2 25.6-12.8 6.4-6.4 9.6-16 6.4-25.6-25.6-134.4-121.6-240-243.2-288z"></path></svg><span><span class="page-author-item">zhiyu1998</span></span><span property="author" content="zhiyu1998"></span></span><!----><span class="page-date-info" aria-label="å†™ä½œæ—¥æœŸğŸ“…" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon calendar-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="calendar icon"><path d="M716.4 110.137c0-18.753-14.72-33.473-33.472-33.473-18.753 0-33.473 14.72-33.473 33.473v33.473h66.993v-33.473zm-334.87 0c0-18.753-14.72-33.473-33.473-33.473s-33.52 14.72-33.52 33.473v33.473h66.993v-33.473zm468.81 33.52H716.4v100.465c0 18.753-14.72 33.473-33.472 33.473a33.145 33.145 0 01-33.473-33.473V143.657H381.53v100.465c0 18.753-14.72 33.473-33.473 33.473a33.145 33.145 0 01-33.473-33.473V143.657H180.6A134.314 134.314 0 0046.66 277.595v535.756A134.314 134.314 0 00180.6 947.289h669.74a134.36 134.36 0 00133.94-133.938V277.595a134.314 134.314 0 00-133.94-133.938zm33.473 267.877H147.126a33.145 33.145 0 01-33.473-33.473c0-18.752 14.72-33.473 33.473-33.473h736.687c18.752 0 33.472 14.72 33.472 33.473a33.145 33.145 0 01-33.472 33.473z"></path></svg><span><!----></span><meta property="datePublished" content="2023-04-04T15:12:04.000Z"></span><span class="page-pageview-info" aria-label="è®¿é—®é‡ğŸ”¢" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon eye-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="eye icon"><path d="M992 512.096c0-5.76-.992-10.592-1.28-11.136-.192-2.88-1.152-8.064-2.08-10.816-.256-.672-.544-1.376-.832-2.08-.48-1.568-1.024-3.104-1.6-4.32C897.664 290.112 707.104 160 512 160c-195.072 0-385.632 130.016-473.76 322.592-1.056 2.112-1.792 4.096-2.272 5.856a55.512 55.512 0 00-.64 1.6c-1.76 5.088-1.792 8.64-1.632 7.744-.832 3.744-1.568 11.168-1.568 11.168-.224 2.272-.224 4.032.032 6.304 0 0 .736 6.464 1.088 7.808.128 1.824.576 4.512 1.12 6.976h-.032c.448 2.08 1.12 4.096 1.984 6.08.48 1.536.992 2.976 1.472 4.032C126.432 733.856 316.992 864 512 864c195.136 0 385.696-130.048 473.216-321.696 1.376-2.496 2.24-4.832 2.848-6.912.256-.608.48-1.184.672-1.728 1.536-4.48 1.856-8.32 1.728-8.32l-.032.032c.608-3.104 1.568-7.744 1.568-13.28zM512 672c-88.224 0-160-71.776-160-160s71.776-160 160-160 160 71.776 160 160-71.776 160-160 160z"></path></svg><span class="waline-pageview-count" id="ArtalkPV" data-path="/Computer-Science-Learn-Notes/Java/eightpart/foundation.html">...</span></span><span class="page-reading-time-info" aria-label="é˜…è¯»æ—¶é—´âŒ›" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon timer-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="timer icon"><path d="M799.387 122.15c4.402-2.978 7.38-7.897 7.38-13.463v-1.165c0-8.933-7.38-16.312-16.312-16.312H256.33c-8.933 0-16.311 7.38-16.311 16.312v1.165c0 5.825 2.977 10.874 7.637 13.592 4.143 194.44 97.22 354.963 220.201 392.763-122.204 37.542-214.893 196.511-220.2 389.397-4.661 5.049-7.638 11.651-7.638 19.03v5.825h566.49v-5.825c0-7.379-2.849-13.981-7.509-18.9-5.049-193.016-97.867-351.985-220.2-389.527 123.24-37.67 216.446-198.453 220.588-392.892zM531.16 450.445v352.632c117.674 1.553 211.787 40.778 211.787 88.676H304.097c0-48.286 95.149-87.382 213.728-88.676V450.445c-93.077-3.107-167.901-81.297-167.901-177.093 0-8.803 6.99-15.793 15.793-15.793 8.803 0 15.794 6.99 15.794 15.793 0 80.261 63.69 145.635 142.01 145.635s142.011-65.374 142.011-145.635c0-8.803 6.99-15.793 15.794-15.793s15.793 6.99 15.793 15.793c0 95.019-73.789 172.82-165.96 177.093z"></path></svg><span>å¤§çº¦ 77 åˆ†é’Ÿ</span><meta property="timeRequired" content="PT77M"></span><span class="page-category-info" aria-label="åˆ†ç±»ğŸŒˆ" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon category-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="category icon"><path d="M148.41 106.992h282.176c22.263 0 40.31 18.048 40.31 40.31V429.48c0 22.263-18.047 40.31-40.31 40.31H148.41c-22.263 0-40.311-18.047-40.311-40.31V147.302c0-22.263 18.048-40.31 40.311-40.31zM147.556 553.478H429.73c22.263 0 40.311 18.048 40.311 40.31v282.176c0 22.263-18.048 40.312-40.31 40.312H147.555c-22.263 0-40.311-18.049-40.311-40.312V593.79c0-22.263 18.048-40.311 40.31-40.311zM593.927 106.992h282.176c22.263 0 40.31 18.048 40.31 40.31V429.48c0 22.263-18.047 40.31-40.31 40.31H593.927c-22.263 0-40.311-18.047-40.311-40.31V147.302c0-22.263 18.048-40.31 40.31-40.31zM730.22 920.502H623.926c-40.925 0-74.22-33.388-74.22-74.425V623.992c0-41.038 33.387-74.424 74.425-74.424h222.085c41.038 0 74.424 33.226 74.424 74.067v114.233c0 10.244-8.304 18.548-18.547 18.548s-18.548-8.304-18.548-18.548V623.635c0-20.388-16.746-36.974-37.33-36.974H624.13c-20.585 0-37.331 16.747-37.331 37.33v222.086c0 20.585 16.654 37.331 37.126 37.331H730.22c10.243 0 18.547 8.304 18.547 18.547 0 10.244-8.304 18.547-18.547 18.547z"></path></svg><span class="page-category-item category8" role>JavaåŸºç¡€</span><span class="page-category-item category4" role>å…«è‚¡æ–‡</span><meta property="articleSection" content="JavaåŸºç¡€,å…«è‚¡æ–‡"></span><!----></div><hr></div><div class="toc-place-holder"><aside id="toc"><!--[--><!----><!--]--><div class="toc-header">æ­¤é¡µå†…å®¹<button type="button" class="print-button" title="æ‰“å°"><svg xmlns="http://www.w3.org/2000/svg" class="icon print-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="print icon"><path d="M819.2 364.8h-44.8V128c0-17.067-14.933-32-32-32H281.6c-17.067 0-32 14.933-32 32v236.8h-44.8C145.067 364.8 96 413.867 96 473.6v192c0 59.733 49.067 108.8 108.8 108.8h44.8V896c0 17.067 14.933 32 32 32h460.8c17.067 0 32-14.933 32-32V774.4h44.8c59.733 0 108.8-49.067 108.8-108.8v-192c0-59.733-49.067-108.8-108.8-108.8zM313.6 160h396.8v204.8H313.6V160zm396.8 704H313.6V620.8h396.8V864zM864 665.6c0 25.6-19.2 44.8-44.8 44.8h-44.8V588.8c0-17.067-14.933-32-32-32H281.6c-17.067 0-32 14.933-32 32v121.6h-44.8c-25.6 0-44.8-19.2-44.8-44.8v-192c0-25.6 19.2-44.8 44.8-44.8h614.4c25.6 0 44.8 19.2 44.8 44.8v192z"></path></svg></button></div><div class="toc-wrapper"><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/Computer-Science-Learn-Notes/Java/eightpart/foundation.html#â˜•ï¸-javaåŸºç¡€" class="router-link-active router-link-exact-active toc-link level2">â˜•ï¸ JavaåŸºç¡€</a></li><li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/Computer-Science-Learn-Notes/Java/eightpart/foundation.html#java-8çš„æ¥å£æ–°å¢äº†å“ªäº›ç‰¹æ€§" class="router-link-active router-link-exact-active toc-link level3">Java 8çš„æ¥â¼æ–°å¢äº†å“ªäº›ç‰¹æ€§ï¼Ÿ</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/Computer-Science-Learn-Notes/Java/eightpart/foundation.html#é‡è½½å’Œé‡å†™çš„åŒºåˆ«" class="router-link-active router-link-exact-active toc-link level3">é‡è½½å’Œé‡å†™çš„åŒºåˆ«ï¼Ÿ</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/Computer-Science-Learn-Notes/Java/eightpart/foundation.html#å†…éƒ¨ç±»äº†è§£å—" class="router-link-active router-link-exact-active toc-link level3">å†…éƒ¨ç±»äº†è§£å—ï¼Ÿ</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/Computer-Science-Learn-Notes/Java/eightpart/foundation.html#hashset-å¦‚ä½•æ£€æŸ¥é‡å¤" class="router-link-active router-link-exact-active toc-link level3">HashSet å¦‚ä½•æ£€æŸ¥é‡å¤</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/Computer-Science-Learn-Notes/Java/eightpart/foundation.html#æ„é€ æ–¹æ³•æœ‰å“ªäº›ç‰¹æ€§" class="router-link-active router-link-exact-active toc-link level3">æ„é€ â½…æ³•æœ‰å“ªäº›ç‰¹æ€§ï¼Ÿ</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/Computer-Science-Learn-Notes/Java/eightpart/foundation.html#final-static-this-super-å…³é”®å­—æ€»ç»“" class="router-link-active router-link-exact-active toc-link level3">final,static,this,super å…³é”®å­—æ€»ç»“</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/Computer-Science-Learn-Notes/Java/eightpart/foundation.html#thisä¸superçš„åŒºåˆ«" class="router-link-active router-link-exact-active toc-link level3">thisä¸superçš„åŒºåˆ«</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/Computer-Science-Learn-Notes/Java/eightpart/foundation.html#é™æ€ä»£ç†å’ŒåŠ¨æ€ä»£ç†" class="router-link-active router-link-exact-active toc-link level3">é™æ€ä»£ç†å’ŒåŠ¨æ€ä»£ç†</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/Computer-Science-Learn-Notes/Java/eightpart/foundation.html#static-é™æ€ä»£ç å—ä¸-éé™æ€ä»£ç å—-æ„é€ ä»£ç å—" class="router-link-active router-link-exact-active toc-link level3">static{}é™æ€ä»£ç å—ä¸{}éé™æ€ä»£ç å—(æ„é€ ä»£ç å—)</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/Computer-Science-Learn-Notes/Java/eightpart/foundation.html#charå‹å˜é‡ä¸­èƒ½å¦èƒ½ä¸èƒ½å­˜å‚¨ä¸€ä¸ªä¸­æ–‡æ±‰å­—-ä¸ºä»€ä¹ˆ" class="router-link-active router-link-exact-active toc-link level3">charå‹å˜é‡ä¸­èƒ½å¦èƒ½ä¸èƒ½å­˜å‚¨â¼€ä¸ªä¸­â½‚æ±‰å­—ï¼Œä¸ºä»€ä¹ˆï¼Ÿ</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/Computer-Science-Learn-Notes/Java/eightpart/foundation.html#æ˜¯å¦å¯ä»¥ç»§æ‰¿stringç±»" class="router-link-active router-link-exact-active toc-link level3">æ˜¯å¦å¯ä»¥ç»§æ‰¿Stringç±»ï¼Ÿ</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/Computer-Science-Learn-Notes/Java/eightpart/foundation.html#è°ˆè°ˆä½ å¯¹å¤šæ€çš„ç†è§£" class="router-link-active router-link-exact-active toc-link level3">è°ˆè°ˆä½ å¯¹å¤šæ€çš„ç†è§£ï¼Ÿ</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/Computer-Science-Learn-Notes/Java/eightpart/foundation.html#æ„é€ å™¨-constructor-æ˜¯å¦å¯è¢«é‡å†™-override" class="router-link-active router-link-exact-active toc-link level3">æ„é€ å™¨ï¼ˆconstructorï¼‰æ˜¯å¦å¯è¢«é‡å†™ï¼ˆoverrideï¼‰ï¼Ÿ</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/Computer-Science-Learn-Notes/Java/eightpart/foundation.html#java-ä¸­æ“ä½œå­—ç¬¦ä¸²éƒ½æœ‰å“ªäº›ç±»-å®ƒä»¬ä¹‹é—´æœ‰ä»€ä¹ˆåŒºåˆ«" class="router-link-active router-link-exact-active toc-link level3">Java ä¸­æ“ä½œå­—ç¬¦ä¸²éƒ½æœ‰å“ªäº›ç±»ï¼Ÿå®ƒä»¬ä¹‹é—´æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/Computer-Science-Learn-Notes/Java/eightpart/foundation.html#string-str-i-å’Œstring-str-new-string-1-ä¸€æ ·å—" class="router-link-active router-link-exact-active toc-link level3">String str = &quot;i&quot; å’ŒString str = new String(&quot;1&quot;)â¼€æ ·å—ï¼Ÿ</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/Computer-Science-Learn-Notes/Java/eightpart/foundation.html#ä»€ä¹ˆæ˜¯åºåˆ—åŒ–ååºåˆ—åŒ–" class="router-link-active router-link-exact-active toc-link level3">ä»€ä¹ˆæ˜¯åºåˆ—åŒ–ååºåˆ—åŒ–?</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/Computer-Science-Learn-Notes/Java/eightpart/foundation.html#final-finally-finalizeçš„åŒºåˆ«" class="router-link-active router-link-exact-active toc-link level3">final finally finalizeçš„åŒºåˆ«</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/Computer-Science-Learn-Notes/Java/eightpart/foundation.html#â­javaæœ‰å“ªäº›æ•°æ®ç±»å‹" class="router-link-active router-link-exact-active toc-link level3">â­Javaæœ‰å“ªäº›æ•°æ®ç±»å‹</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/Computer-Science-Learn-Notes/Java/eightpart/foundation.html#float-f-3-4-æ˜¯å¦æ­£ç¡®" class="router-link-active router-link-exact-active toc-link level3">float f=3.4;æ˜¯å¦æ­£ç¡®ï¼Ÿ</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/Computer-Science-Learn-Notes/Java/eightpart/foundation.html#æˆå‘˜å˜é‡ä¸å±€éƒ¨å˜é‡çš„åŒºåˆ«æœ‰å“ªäº›" class="router-link-active router-link-exact-active toc-link level3">æˆå‘˜å˜é‡ä¸å±€éƒ¨å˜é‡çš„åŒºåˆ«æœ‰å“ªäº›ï¼Ÿ</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/Computer-Science-Learn-Notes/Java/eightpart/foundation.html#â­æ¥å£å’ŒæŠ½è±¡ç±»çš„åŒºåˆ«æ˜¯ä»€ä¹ˆ" class="router-link-active router-link-exact-active toc-link level3">â­æ¥å£å’ŒæŠ½è±¡ç±»çš„åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿ</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/Computer-Science-Learn-Notes/Java/eightpart/foundation.html#ğŸŒ java-æ³›å‹äº†è§£ä¹ˆ-æ³›å‹çš„ä½œç”¨-ä»€ä¹ˆæ˜¯ç±»å‹æ“¦é™¤" class="router-link-active router-link-exact-active toc-link level3">ğŸŒ Java æ³›å‹äº†è§£ä¹ˆï¼Ÿæ³›å‹çš„ä½œç”¨ï¼Ÿä»€ä¹ˆæ˜¯ç±»å‹æ“¦é™¤ï¼Ÿ</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/Computer-Science-Learn-Notes/Java/eightpart/foundation.html#â­-ä¸-equals" class="router-link-active router-link-exact-active toc-link level3">â­== ä¸ equals</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/Computer-Science-Learn-Notes/Java/eightpart/foundation.html#hashcode-ä¸-equals" class="router-link-active router-link-exact-active toc-link level3">hashCode ä¸ equals</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/Computer-Science-Learn-Notes/Java/eightpart/foundation.html#å¦‚ä½•å†³å®šä½¿ç”¨-hashmap-è¿˜æ˜¯-treemap" class="router-link-active router-link-exact-active toc-link level3">å¦‚ä½•å†³å®šä½¿ç”¨ HashMap è¿˜æ˜¯ TreeMapï¼Ÿ</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/Computer-Science-Learn-Notes/Java/eightpart/foundation.html#â­hashmap-çš„åº•å±‚å®ç°" class="router-link-active router-link-exact-active toc-link level3">â­HashMap çš„åº•å±‚å®ç°</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/Computer-Science-Learn-Notes/Java/eightpart/foundation.html#â­hashmapæºç åˆ†æ" class="router-link-active router-link-exact-active toc-link level3">â­HashMapæºç åˆ†æ</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/Computer-Science-Learn-Notes/Java/eightpart/foundation.html#hashmap-çš„é•¿åº¦ä¸ºä»€ä¹ˆæ˜¯-2-çš„å¹‚æ¬¡æ–¹" class="router-link-active router-link-exact-active toc-link level3">HashMap çš„é•¿åº¦ä¸ºä»€ä¹ˆæ˜¯ 2 çš„å¹‚æ¬¡æ–¹</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/Computer-Science-Learn-Notes/Java/eightpart/foundation.html#hashmap-å¤šçº¿ç¨‹æ“ä½œå¯¼è‡´æ­»å¾ªç¯é—®é¢˜" class="router-link-active router-link-exact-active toc-link level3">HashMap å¤šçº¿ç¨‹æ“ä½œå¯¼è‡´æ­»å¾ªç¯é—®é¢˜</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/Computer-Science-Learn-Notes/Java/eightpart/foundation.html#ä¸ºä»€ä¹ˆjavaåªæœ‰å€¼ä¼ é€’" class="router-link-active router-link-exact-active toc-link level3">ä¸ºä»€ä¹ˆJavaåªæœ‰å€¼ä¼ é€’</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/Computer-Science-Learn-Notes/Java/eightpart/foundation.html#å¼‚å¸¸å¤„ç†æ€»ç»“" class="router-link-active router-link-exact-active toc-link level3">å¼‚å¸¸å¤„ç†æ€»ç»“</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/Computer-Science-Learn-Notes/Java/eightpart/foundation.html#æœ‰å“ªäº›å¸¸è§çš„-io-æ¨¡å‹" class="router-link-active router-link-exact-active toc-link level3">æœ‰å“ªäº›å¸¸è§çš„ IO æ¨¡å‹?</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/Computer-Science-Learn-Notes/Java/eightpart/foundation.html#â­bio-nio-aio-æœ‰ä»€ä¹ˆåŒºåˆ«" class="router-link-active router-link-exact-active toc-link level3">â­BIO,NIO,AIO æœ‰ä»€ä¹ˆåŒºåˆ«</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/Computer-Science-Learn-Notes/Java/eightpart/foundation.html#â­javaé›†åˆç±»æ¡†æ¶çš„åŸºæœ¬æ¥å£æœ‰å“ªäº›" class="router-link-active router-link-exact-active toc-link level3">â­Javaé›†åˆç±»æ¡†æ¶çš„åŸºæœ¬æ¥å£æœ‰å“ªäº›ï¼Ÿ</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/Computer-Science-Learn-Notes/Java/eightpart/foundation.html#â­-arraylist-ä¸-linkedlist-åŒºåˆ«" class="router-link-active router-link-exact-active toc-link level3">â­ Arraylist ä¸ LinkedList åŒºåˆ«</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/Computer-Science-Learn-Notes/Java/eightpart/foundation.html#hashmapå’Œhashtableæœ‰ä»€ä¹ˆåŒºåˆ«" class="router-link-active router-link-exact-active toc-link level3">HashMapå’ŒHashTableæœ‰ä»€ä¹ˆåŒºåˆ«</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/Computer-Science-Learn-Notes/Java/eightpart/foundation.html#concurrenthashmap-å’Œ-hashtable-çš„åŒºåˆ«" class="router-link-active router-link-exact-active toc-link level3">ConcurrentHashMap å’Œ Hashtable çš„åŒºåˆ«</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/Computer-Science-Learn-Notes/Java/eightpart/foundation.html#â­concurrenthashmapçº¿ç¨‹å®‰å…¨çš„å…·ä½“å®ç°æ–¹å¼-åº•å±‚å…·ä½“å®ç°" class="router-link-active router-link-exact-active toc-link level3">â­ConcurrentHashMapçº¿ç¨‹å®‰å…¨çš„å…·ä½“å®ç°æ–¹å¼/åº•å±‚å…·ä½“å®ç°</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/Computer-Science-Learn-Notes/Java/eightpart/foundation.html#è¯´ä¸€è¯´javaåå°„" class="router-link-active router-link-exact-active toc-link level3">è¯´ä¸€è¯´Javaåå°„ï¼Ÿ</a></li><!----><!--]--></ul></li><!--]--></ul></div><!--[--><!----><!--]--></aside></div><!----><div class="theme-hope-content"><h2 id="â˜•ï¸-javaåŸºç¡€" tabindex="-1"><a class="header-anchor" href="#â˜•ï¸-javaåŸºç¡€" aria-hidden="true">#</a> â˜•ï¸ JavaåŸºç¡€</h2><h3 id="java-8çš„æ¥å£æ–°å¢äº†å“ªäº›ç‰¹æ€§" tabindex="-1"><a class="header-anchor" href="#java-8çš„æ¥å£æ–°å¢äº†å“ªäº›ç‰¹æ€§" aria-hidden="true">#</a> Java 8çš„æ¥â¼æ–°å¢äº†å“ªäº›ç‰¹æ€§ï¼Ÿ</h3><ul><li><strong>Lambda è¡¨è¾¾å¼</strong> âˆ’ Lambdaå…è®¸æŠŠå‡½æ•°ä½œä¸ºä¸€ä¸ªæ–¹æ³•çš„å‚æ•°ï¼ˆå‡½æ•°ä½œä¸ºå‚æ•°ä¼ é€’è¿›æ–¹æ³•ä¸­)ã€‚</li><li><strong>æ–¹æ³•å¼•ç”¨</strong> âˆ’ æ–¹æ³•å¼•ç”¨æä¾›äº†éå¸¸æœ‰ç”¨çš„è¯­æ³•ï¼Œå¯ä»¥ç›´æ¥å¼•ç”¨å·²æœ‰Javaç±»æˆ–å¯¹è±¡ï¼ˆå®ä¾‹ï¼‰çš„æ–¹æ³•æˆ–æ„é€ å™¨ã€‚ä¸lambdaè”åˆä½¿ç”¨ï¼Œæ–¹æ³•å¼•ç”¨å¯ä»¥ä½¿è¯­è¨€çš„æ„é€ æ›´ç´§å‡‘ç®€æ´ï¼Œå‡å°‘å†—ä½™ä»£ç ã€‚</li><li><strong>é»˜è®¤æ–¹æ³•</strong> âˆ’ é»˜è®¤æ–¹æ³•å°±æ˜¯ä¸€ä¸ªåœ¨æ¥å£é‡Œé¢æœ‰äº†ä¸€ä¸ªå®ç°çš„æ–¹æ³•ã€‚</li><li><strong>æ–°å·¥å…·</strong> âˆ’ æ–°çš„ç¼–è¯‘å·¥å…·ï¼Œå¦‚ï¼šNashornå¼•æ“ jjsã€ ç±»ä¾èµ–åˆ†æå™¨jdepsã€‚</li><li><strong>Stream API</strong> âˆ’æ–°æ·»åŠ çš„Stream APIï¼ˆjava.util.streamï¼‰ æŠŠçœŸæ­£çš„å‡½æ•°å¼ç¼–ç¨‹é£æ ¼å¼•å…¥åˆ°Javaä¸­ã€‚</li><li><strong>Date Time API</strong> âˆ’ åŠ å¼ºå¯¹æ—¥æœŸä¸æ—¶é—´çš„å¤„ç†ã€‚</li><li><strong>Optional ç±»</strong> âˆ’ Optional ç±»å·²ç»æˆä¸º Java 8 ç±»åº“çš„ä¸€éƒ¨åˆ†ï¼Œç”¨æ¥è§£å†³ç©ºæŒ‡é’ˆå¼‚å¸¸ã€‚</li><li><strong>Nashorn, JavaScript å¼•æ“</strong> âˆ’ Java 8æä¾›äº†ä¸€ä¸ªæ–°çš„Nashorn javascriptå¼•æ“ï¼Œå®ƒå…è®¸æˆ‘ä»¬åœ¨JVMä¸Šè¿è¡Œç‰¹å®šçš„javascriptåº”ç”¨ã€‚</li></ul><h3 id="é‡è½½å’Œé‡å†™çš„åŒºåˆ«" tabindex="-1"><a class="header-anchor" href="#é‡è½½å’Œé‡å†™çš„åŒºåˆ«" aria-hidden="true">#</a> é‡è½½å’Œé‡å†™çš„åŒºåˆ«ï¼Ÿ</h3><p>å‘ç”Ÿåœ¨åŒä¸€ä¸ªç±»ä¸­ï¼Œæ–¹æ³•åå¿…é¡»ç›¸åŒï¼Œå‚æ•°ç±»å‹ä¸åŒã€ä¸ªæ•°ä¸åŒã€é¡ºåºä¸åŒï¼Œæ–¹æ³•è¿”å›å€¼å’Œè®¿é—® ä¿®é¥°ç¬¦å¯ä»¥ä¸åŒã€‚ ä¸‹é¢æ˜¯ã€ŠJava æ ¸å¿ƒæŠ€æœ¯ã€‹å¯¹é‡è½½è¿™ä¸ªæ¦‚å¿µçš„ä»‹ç»ï¼š</p><p>ç»¼ä¸Šï¼šé‡è½½å°±æ˜¯åŒä¸€ä¸ªç±»ä¸­å¤šä¸ªåŒåæ–¹æ³•æ ¹æ®ä¸åŒçš„ä¼ å‚æ¥æ‰§è¡Œä¸åŒçš„é€»è¾‘å¤„ç†ã€‚ é‡å†™ï¼š é‡å†™å‘ç”Ÿåœ¨è¿è¡ŒæœŸï¼Œæ˜¯å­ç±»å¯¹çˆ¶ç±»çš„å…è®¸è®¿é—®çš„æ–¹æ³•çš„å®ç°è¿‡ç¨‹è¿›è¡Œé‡æ–°ç¼–å†™ã€‚</p><ol><li>è¿”å›å€¼ç±»å‹ã€æ–¹æ³•åã€å‚æ•°åˆ—è¡¨å¿…é¡»ç›¸åŒï¼ŒæŠ›å‡ºçš„å¼‚å¸¸èŒƒå›´å°äºç­‰äºçˆ¶ç±»ï¼Œè®¿é—®ä¿®é¥°ç¬¦èŒƒå›´ å¤§äºç­‰äºçˆ¶ç±»ã€‚</li><li>å¦‚æœçˆ¶ç±»æ–¹æ³•è®¿é—®ä¿®é¥°ç¬¦ä¸º private/final/static åˆ™å­ç±»å°±ä¸èƒ½é‡å†™è¯¥æ–¹æ³•ï¼Œä½†æ˜¯è¢« static ä¿®é¥° çš„æ–¹æ³•èƒ½å¤Ÿè¢«å†æ¬¡å£°æ˜ã€‚</li><li>æ„é€ æ–¹æ³•æ— æ³•è¢«é‡å†™ ç»¼ä¸Šï¼šé‡å†™å°±æ˜¯å­ç±»å¯¹çˆ¶ç±»æ–¹æ³•çš„é‡æ–°æ”¹é€ ï¼Œå¤–éƒ¨æ ·å­ä¸èƒ½æ”¹å˜ï¼Œå†…éƒ¨é€»è¾‘å¯ä»¥æ”¹å˜</li></ol><figure><img src="/Computer-Science-Learn-Notes/assets/image-20220617164632798-bb344f34.png" alt="image-20220617164632798" tabindex="0" loading="lazy"><figcaption>image-20220617164632798</figcaption></figure><figure><img src="/Computer-Science-Learn-Notes/assets/image-20220617164418584-e7678874.png" alt="image-20220617164418584" tabindex="0" loading="lazy"><figcaption>image-20220617164418584</figcaption></figure><h3 id="å†…éƒ¨ç±»äº†è§£å—" tabindex="-1"><a class="header-anchor" href="#å†…éƒ¨ç±»äº†è§£å—" aria-hidden="true">#</a> å†…éƒ¨ç±»äº†è§£å—ï¼Ÿ</h3><p>åœ¨Javaä¸­ï¼Œå¯ä»¥å°†â¼€ä¸ªç±»çš„å®šä¹‰æ”¾åœ¨å¦å¤–â¼€ä¸ªç±»çš„å®šä¹‰å†…éƒ¨ï¼Œè¿™å°±æ˜¯ å†…éƒ¨ç±» ã€‚å†…éƒ¨ç±»æœ¬èº«å°± æ˜¯ç±»çš„â¼€ ä¸ªå±æ€§ï¼Œä¸å…¶ä»–å±æ€§å®šä¹‰â½…å¼â¼€è‡´ã€‚</p><p>å†…éƒ¨ç±»å¯ä»¥åˆ†ä¸ºå››ç§ï¼š</p><p>æˆå‘˜å†…éƒ¨ç±»ï¼šåœ¨ä¸€ä¸ªç±»ä¸­ç›´æ¥å®šä¹‰çš„å†…éƒ¨ç±»ï¼Œæˆå‘˜å†…éƒ¨ç±»ä¸æ™®é€šç±»çš„æˆå‘˜æ²¡ä»€ä¹ˆåŒºåˆ«ï¼Œå¯ä»¥ä¸æ™®é€šæˆå‘˜ä¸€æ ·è¿›è¡Œä¿®é¥°å’Œé™åˆ¶ã€‚</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">class</span> <span class="token class-name">Circle</span> <span class="token punctuation">{</span>
    <span class="token keyword">double</span> radius <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
   
    <span class="token keyword">public</span> <span class="token class-name">Circle</span><span class="token punctuation">(</span><span class="token keyword">double</span> radius<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>radius <span class="token operator">=</span> radius<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
   
    <span class="token keyword">class</span> <span class="token class-name">Draw</span> <span class="token punctuation">{</span>     <span class="token comment">//å†…éƒ¨ç±»</span>
        <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">drawSahpe</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;drawshape&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å±€éƒ¨å†…éƒ¨ç±»ï¼šåœ¨æ–¹æ³•ä¸­å®šä¹‰çš„å†…éƒ¨ç±»ç§°ä¸ºå±€éƒ¨å†…éƒ¨ç±»ã€‚ä¸å±€éƒ¨å˜é‡ç±»ä¼¼</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">class</span> <span class="token class-name">People</span><span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token class-name">People</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
       
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
 
<span class="token keyword">class</span> <span class="token class-name">Man</span><span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token class-name">Man</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
       
    <span class="token punctuation">}</span>
   
    <span class="token keyword">public</span> <span class="token class-name">People</span> <span class="token function">getWoman</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">class</span> <span class="token class-name">Woman</span> <span class="token keyword">extends</span> <span class="token class-name">People</span><span class="token punctuation">{</span>   <span class="token comment">//å±€éƒ¨å†…éƒ¨ç±»</span>
            <span class="token keyword">int</span> age <span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Woman</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>åŒ¿åå†…éƒ¨ç±»ï¼šåŒ¿åå†…éƒ¨ç±»å°±æ˜¯æ²¡æœ‰åå­—çš„å†…éƒ¨ç±»</p><p>é™æ€å†…éƒ¨ç±»ï¼ˆ<strong>åµŒå¥—ç±»</strong>ï¼‰ï¼šå¦‚æœä½ ä¸éœ€è¦å†…éƒ¨ç±»å¯¹è±¡ä¸å…¶å¤–å›´ç±»å¯¹è±¡ä¹‹é—´æœ‰è”ç³»ï¼Œé‚£ä½ å¯ä»¥å°†å†…éƒ¨ç±»å£°æ˜ä¸ºstatic</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Test</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span>  <span class="token punctuation">{</span>
        <span class="token class-name">Outter<span class="token punctuation">.</span>Inner</span> inner <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Outter<span class="token punctuation">.</span>Inner</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
 
<span class="token keyword">class</span> <span class="token class-name">Outter</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token class-name">Outter</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
       
    <span class="token punctuation">}</span>
   
    <span class="token keyword">static</span> <span class="token keyword">class</span> <span class="token class-name">Inner</span> <span class="token punctuation">{</span>
        <span class="token keyword">public</span> <span class="token class-name">Inner</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
           
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="hashset-å¦‚ä½•æ£€æŸ¥é‡å¤" tabindex="-1"><a class="header-anchor" href="#hashset-å¦‚ä½•æ£€æŸ¥é‡å¤" aria-hidden="true">#</a> HashSet å¦‚ä½•æ£€æŸ¥é‡å¤</h3><p>æ€è·¯æ•´ç†ï¼šhashcodeç›¸åŒ -&gt; equals() ä¸åŒ-&gt; hashå†æ•£åˆ—</p><ol><li>å½“ä½ æŠŠå¯¹è±¡åŠ â¼ŠHashSetæ—¶ï¼ŒHashSetä¼šå…ˆè®¡ç®—å¯¹è±¡çš„hashcodeå€¼æ¥åˆ¤æ–­å¯¹è±¡åŠ â¼Šçš„ä½ç½®ï¼ŒåŒæ—¶ä¹Ÿä¼šä¸å…¶ä»–å·²ç»åŠ â¼Šçš„å¯¹è±¡çš„hashcodeå€¼ä½œâ½è¾ƒ</li><li>å¦‚æœæ²¡æœ‰ç›¸ç¬¦çš„hashcodeï¼ŒHashSetä¼šå‡è®¾å¯¹è±¡æ²¡æœ‰é‡å¤å‡ºç°ã€‚ä½†æ˜¯<strong>å¦‚æœå‘ç°æœ‰ç›¸åŒhashcodeå€¼çš„å¯¹è±¡ï¼Œè¿™æ—¶ä¼šè°ƒâ½¤equals()â½…æ³•</strong>æ¥æ£€æŸ¥hashcodeç›¸ç­‰çš„å¯¹è±¡æ˜¯å¦çœŸçš„ç›¸åŒ</li><li>å¦‚æœä¸¤è€…ç›¸åŒï¼ŒHashSetå°±ä¸ä¼šè®©å…¶åŠ â¼Šæ“ä½œæˆåŠŸã€‚å¦‚æœä¸åŒçš„è¯ï¼Œå°±ä¼šé‡æ–°æ•£åˆ—åˆ°å…¶ä»–ä½ç½®ã€‚è¿™æ ·æˆ‘ä»¬å°±â¼¤â¼¤å‡å°‘äº†equalsçš„æ¬¡æ•°ï¼Œç›¸åº”å°±â¼¤â¼¤æâ¾¼äº†æ‰§â¾é€Ÿåº¦ã€‚</li></ol><h3 id="æ„é€ æ–¹æ³•æœ‰å“ªäº›ç‰¹æ€§" tabindex="-1"><a class="header-anchor" href="#æ„é€ æ–¹æ³•æœ‰å“ªäº›ç‰¹æ€§" aria-hidden="true">#</a> æ„é€ â½…æ³•æœ‰å“ªäº›ç‰¹æ€§ï¼Ÿ</h3><ul><li>åå­—ä¸ç±»åç›¸åŒ</li><li>æ²¡æœ‰è¿”å›å€¼ï¼Œä½†ä¸èƒ½â½¤voidå£°æ˜æ„é€ å‡½æ•°</li><li>â½£æˆç±»çš„å¯¹è±¡æ—¶â¾ƒåŠ¨æ‰§â¾ï¼Œâ½†éœ€è°ƒâ½¤</li></ul><h3 id="final-static-this-super-å…³é”®å­—æ€»ç»“" tabindex="-1"><a class="header-anchor" href="#final-static-this-super-å…³é”®å­—æ€»ç»“" aria-hidden="true">#</a> final,static,this,super å…³é”®å­—æ€»ç»“</h3><h4 id="static" tabindex="-1"><a class="header-anchor" href="#static" aria-hidden="true">#</a> static</h4><p><strong>static å…³é”®å­—ä¸»è¦æœ‰ä»¥ä¸‹å››ç§ä½¿ç”¨åœºæ™¯ï¼š</strong></p><ol><li><strong>ä¿®é¥°æˆå‘˜å˜é‡å’Œæˆå‘˜æ–¹æ³•:</strong> è¢« static ä¿®é¥°çš„æˆå‘˜å±äºç±»ï¼Œä¸å±äºå•ä¸ªè¿™ä¸ªç±»çš„æŸä¸ªå¯¹è±¡ï¼Œè¢«ç±»ä¸­æ‰€æœ‰å¯¹è±¡å…±äº«ï¼Œå¯ä»¥å¹¶ä¸”å»ºè®®é€šè¿‡ç±»åè°ƒç”¨ã€‚è¢« static å£°æ˜çš„æˆå‘˜å˜é‡å±äºé™æ€æˆå‘˜å˜é‡ï¼Œé™æ€å˜é‡ å­˜æ”¾åœ¨ Java å†…å­˜åŒºåŸŸçš„æ–¹æ³•åŒºã€‚è°ƒç”¨æ ¼å¼ï¼š<code>ç±»å.é™æ€å˜é‡å</code> <code>ç±»å.é™æ€æ–¹æ³•å()</code></li><li><strong>é™æ€ä»£ç å—:</strong> é™æ€ä»£ç å—å®šä¹‰åœ¨ç±»ä¸­æ–¹æ³•å¤–, é™æ€ä»£ç å—åœ¨éé™æ€ä»£ç å—ä¹‹å‰æ‰§è¡Œ(é™æ€ä»£ç å—â€”&gt;éé™æ€ä»£ç å—â€”&gt;æ„é€ æ–¹æ³•)ã€‚ è¯¥ç±»ä¸ç®¡åˆ›å»ºå¤šå°‘å¯¹è±¡ï¼Œé™æ€ä»£ç å—åªæ‰§è¡Œä¸€æ¬¡.</li><li><strong>é™æ€å†…éƒ¨ç±»ï¼ˆstatic ä¿®é¥°ç±»çš„è¯åªèƒ½ä¿®é¥°å†…éƒ¨ç±»ï¼‰ï¼š</strong> é™æ€å†…éƒ¨ç±»ä¸éé™æ€å†…éƒ¨ç±»ä¹‹é—´å­˜åœ¨ä¸€ä¸ªæœ€å¤§çš„åŒºåˆ«: éé™æ€å†…éƒ¨ç±»åœ¨ç¼–è¯‘å®Œæˆä¹‹åä¼šéšå«åœ°ä¿å­˜ç€ä¸€ä¸ªå¼•ç”¨ï¼Œè¯¥å¼•ç”¨æ˜¯æŒ‡å‘åˆ›å»ºå®ƒçš„å¤–å›´ç±»ï¼Œä½†æ˜¯é™æ€å†…éƒ¨ç±»å´æ²¡æœ‰ã€‚æ²¡æœ‰è¿™ä¸ªå¼•ç”¨å°±æ„å‘³ç€ï¼š1. å®ƒçš„åˆ›å»ºæ˜¯ä¸éœ€è¦ä¾èµ–å¤–å›´ç±»çš„åˆ›å»ºã€‚2. å®ƒä¸èƒ½ä½¿ç”¨ä»»ä½•å¤–å›´ç±»çš„é static æˆå‘˜å˜é‡å’Œæ–¹æ³•ã€‚</li><li><strong>é™æ€å¯¼åŒ…(ç”¨æ¥å¯¼å…¥ç±»ä¸­çš„é™æ€èµ„æºï¼Œ1.5 ä¹‹åçš„æ–°ç‰¹æ€§):</strong> æ ¼å¼ä¸ºï¼š<code>import static</code> è¿™ä¸¤ä¸ªå…³é”®å­—è¿ç”¨å¯ä»¥æŒ‡å®šå¯¼å…¥æŸä¸ªç±»ä¸­çš„æŒ‡å®šé™æ€èµ„æºï¼Œå¹¶ä¸”ä¸éœ€è¦ä½¿ç”¨ç±»åè°ƒç”¨ç±»ä¸­é™æ€æˆå‘˜ï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨ç±»ä¸­é™æ€æˆå‘˜å˜é‡å’Œæˆå‘˜æ–¹æ³•ã€‚</li></ol><h4 id="final" tabindex="-1"><a class="header-anchor" href="#final" aria-hidden="true">#</a> final</h4><p><strong>final å…³é”®å­—ï¼Œæ„æ€æ˜¯æœ€ç»ˆçš„ã€ä¸å¯ä¿®æ”¹çš„ï¼Œæœ€è§ä¸å¾—å˜åŒ– ï¼Œç”¨æ¥ä¿®é¥°ç±»ã€æ–¹æ³•å’Œå˜é‡ï¼Œå…·æœ‰ä»¥ä¸‹ç‰¹ç‚¹ï¼š</strong></p><ol><li>final ä¿®é¥°çš„ç±»ä¸èƒ½è¢«ç»§æ‰¿ï¼Œfinal ç±»ä¸­çš„æ‰€æœ‰æˆå‘˜æ–¹æ³•éƒ½ä¼šè¢«éšå¼çš„æŒ‡å®šä¸º final æ–¹æ³•ï¼›</li><li>final ä¿®é¥°çš„æ–¹æ³•ä¸èƒ½è¢«é‡å†™ï¼›</li><li>final ä¿®é¥°çš„å˜é‡æ˜¯å¸¸é‡ï¼Œå¦‚æœæ˜¯åŸºæœ¬æ•°æ®ç±»å‹çš„å˜é‡ï¼Œåˆ™å…¶æ•°å€¼ä¸€æ—¦åœ¨åˆå§‹åŒ–ä¹‹åä¾¿ä¸èƒ½æ›´æ”¹ï¼›å¦‚æœæ˜¯å¼•ç”¨ç±»å‹çš„å˜é‡ï¼Œåˆ™åœ¨å¯¹å…¶åˆå§‹åŒ–ä¹‹åä¾¿ä¸èƒ½è®©å…¶æŒ‡å‘å¦ä¸€ä¸ªå¯¹è±¡ã€‚</li></ol><p>è¯´æ˜ï¼šä½¿ç”¨ final æ–¹æ³•çš„åŸå› æœ‰ä¸¤ä¸ªã€‚ç¬¬ä¸€ä¸ªåŸå› æ˜¯æŠŠæ–¹æ³•é”å®šï¼Œä»¥é˜²ä»»ä½•ç»§æ‰¿ç±»ä¿®æ”¹å®ƒçš„å«ä¹‰ï¼›ç¬¬äºŒä¸ªåŸå› æ˜¯æ•ˆç‡ã€‚åœ¨æ—©æœŸçš„ Java å®ç°ç‰ˆæœ¬ä¸­ï¼Œä¼šå°† final æ–¹æ³•è½¬ä¸ºå†…åµŒè°ƒç”¨ã€‚ä½†æ˜¯å¦‚æœæ–¹æ³•è¿‡äºåºå¤§ï¼Œå¯èƒ½çœ‹ä¸åˆ°å†…åµŒè°ƒç”¨å¸¦æ¥çš„ä»»ä½•æ€§èƒ½æå‡ï¼ˆç°åœ¨çš„ Java ç‰ˆæœ¬å·²ç»ä¸éœ€è¦ä½¿ç”¨ final æ–¹æ³•è¿›è¡Œè¿™äº›ä¼˜åŒ–äº†ï¼‰ã€‚ç±»ä¸­æ‰€æœ‰çš„ private æ–¹æ³•éƒ½éšå¼åœ°æŒ‡å®šä¸º finalã€‚</p><h4 id="this" tabindex="-1"><a class="header-anchor" href="#this" aria-hidden="true">#</a> this</h4><p>this å…³é”®å­—ç”¨äºå¼•ç”¨ç±»çš„å½“å‰å®ä¾‹ã€‚ ä¾‹å¦‚ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">class</span> <span class="token class-name">Manager</span> <span class="token punctuation">{</span>
    <span class="token class-name">Employees</span><span class="token punctuation">[</span><span class="token punctuation">]</span> employees<span class="token punctuation">;</span>
    <span class="token keyword">void</span> <span class="token function">manageEmployees</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">int</span> totalEmp <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>employees<span class="token punctuation">.</span>length<span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Total employees: &quot;</span> <span class="token operator">+</span> totalEmp<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">report</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">void</span> <span class="token function">report</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>åœ¨ä¸Šé¢çš„ç¤ºä¾‹ä¸­ï¼Œthis å…³é”®å­—ç”¨äºä¸¤ä¸ªåœ°æ–¹ï¼š</p><ul><li>this.employees.lengthï¼šè®¿é—®ç±» Manager çš„å½“å‰å®ä¾‹çš„å˜é‡ã€‚</li><li>this.reportï¼ˆï¼‰ï¼šè°ƒç”¨ç±» Manager çš„å½“å‰å®ä¾‹çš„æ–¹æ³•ã€‚</li></ul><p>æ­¤å…³é”®å­—æ˜¯å¯é€‰çš„ï¼Œè¿™æ„å‘³ç€å¦‚æœä¸Šé¢çš„ç¤ºä¾‹åœ¨ä¸ä½¿ç”¨æ­¤å…³é”®å­—çš„æƒ…å†µä¸‹è¡¨ç°ç›¸åŒã€‚ ä½†æ˜¯ï¼Œä½¿ç”¨æ­¤å…³é”®å­—å¯èƒ½ä¼šä½¿ä»£ç æ›´æ˜“è¯»æˆ–æ˜“æ‡‚ã€‚</p><h4 id="super-å…³é”®å­—" tabindex="-1"><a class="header-anchor" href="#super-å…³é”®å­—" aria-hidden="true">#</a> super å…³é”®å­—</h4><p>super å…³é”®å­—ç”¨äºä»å­ç±»è®¿é—®çˆ¶ç±»çš„å˜é‡å’Œæ–¹æ³•ã€‚ ä¾‹å¦‚ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Super</span> <span class="token punctuation">{</span>
    <span class="token keyword">protected</span> <span class="token keyword">int</span> number<span class="token punctuation">;</span>
    <span class="token keyword">protected</span> <span class="token function">showNumber</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;number = &quot;</span> <span class="token operator">+</span> number<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Sub</span> <span class="token keyword">extends</span> <span class="token class-name">Super</span> <span class="token punctuation">{</span>
    <span class="token keyword">void</span> <span class="token function">bar</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">super</span><span class="token punctuation">.</span>number <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>
        <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">showNumber</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>åœ¨ä¸Šé¢çš„ä¾‹å­ä¸­ï¼ŒSub ç±»è®¿é—®çˆ¶ç±»æˆå‘˜å˜é‡ number å¹¶è°ƒç”¨å…¶çˆ¶ç±» Super çš„ <code>showNumberï¼ˆï¼‰</code> æ–¹æ³•ã€‚</p><p><strong>ä½¿ç”¨ this å’Œ super è¦æ³¨æ„çš„é—®é¢˜ï¼š</strong></p><ul><li>åœ¨æ„é€ å™¨ä¸­ä½¿ç”¨ <code>super()</code> è°ƒç”¨çˆ¶ç±»ä¸­çš„å…¶ä»–æ„é€ æ–¹æ³•æ—¶ï¼Œè¯¥è¯­å¥å¿…é¡»å¤„äºæ„é€ å™¨çš„é¦–è¡Œï¼Œå¦åˆ™ç¼–è¯‘å™¨ä¼šæŠ¥é”™ã€‚å¦å¤–ï¼Œthis è°ƒç”¨æœ¬ç±»ä¸­çš„å…¶ä»–æ„é€ æ–¹æ³•æ—¶ï¼Œä¹Ÿè¦æ”¾åœ¨é¦–è¡Œã€‚</li><li>thisã€super ä¸èƒ½ç”¨åœ¨ static æ–¹æ³•ä¸­ã€‚</li></ul><p><strong>ç®€å•è§£é‡Šä¸€ä¸‹ï¼š</strong></p><p>è¢« static ä¿®é¥°çš„æˆå‘˜å±äºç±»ï¼Œä¸å±äºå•ä¸ªè¿™ä¸ªç±»çš„æŸä¸ªå¯¹è±¡ï¼Œè¢«ç±»ä¸­æ‰€æœ‰å¯¹è±¡å…±äº«ã€‚è€Œ this ä»£è¡¨å¯¹æœ¬ç±»å¯¹è±¡çš„å¼•ç”¨ï¼ŒæŒ‡å‘æœ¬ç±»å¯¹è±¡ï¼›è€Œ super ä»£è¡¨å¯¹çˆ¶ç±»å¯¹è±¡çš„å¼•ç”¨ï¼ŒæŒ‡å‘çˆ¶ç±»å¯¹è±¡ï¼›æ‰€ä»¥ï¼Œ <strong>this å’Œ super æ˜¯å±äºå¯¹è±¡èŒƒç•´çš„ä¸œè¥¿ï¼Œè€Œé™æ€æ–¹æ³•æ˜¯å±äºç±»èŒƒç•´çš„ä¸œè¥¿</strong>ã€‚</p><h3 id="thisä¸superçš„åŒºåˆ«" tabindex="-1"><a class="header-anchor" href="#thisä¸superçš„åŒºåˆ«" aria-hidden="true">#</a> thisä¸superçš„åŒºåˆ«</h3><ul><li>super:å®ƒå¼•â½¤å½“å‰å¯¹è±¡çš„ç›´æ¥â½—ç±»ä¸­çš„æˆå‘˜ï¼ˆâ½¤æ¥è®¿é—®ç›´æ¥â½—ç±»ä¸­è¢«éšè—çš„â½—ç±»ä¸­æˆå‘˜æ•°æ®æˆ–å‡½æ•°ï¼ŒåŸºç±»ä¸æ´¾â½£ç±»ä¸­æœ‰ç›¸åŒæˆå‘˜å®šä¹‰æ—¶å¦‚ï¼šsuper.å˜é‡åsuper.æˆå‘˜å‡½æ•°æ®åï¼ˆå®å‚ï¼‰</li><li>thisï¼šå®ƒä»£è¡¨å½“å‰å¯¹è±¡åï¼ˆåœ¨ç¨‹åºä¸­æ˜“äº§â½£â¼†ä¹‰æ€§ä¹‹å¤„ï¼Œåº”ä½¿â½¤thisæ¥æŒ‡æ˜å½“å‰å¯¹è±¡ï¼›å¦‚æœå‡½æ•°çš„å½¢å‚ä¸ç±»ä¸­çš„æˆå‘˜æ•°æ®åŒåï¼Œè¿™æ—¶éœ€â½¤thisæ¥æŒ‡æ˜æˆå‘˜å˜é‡åï¼‰</li><li>ğŸ‘»super()å’Œthis()ç±»ä¼¼ï¼ŒåŒºåˆ«æ˜¯ï¼šsuper()åœ¨â¼¦ç±»ä¸­è°ƒâ½¤â½—ç±»çš„æ„é€ â½…æ³•ï¼Œthis()åœ¨æœ¬ç±»å†…è°ƒâ½¤æœ¬ç±»çš„å…¶å®ƒæ„é€ â½…æ³•ã€‚</li><li>ğŸ‘»super()å’Œthis()å‡éœ€æ”¾åœ¨æ„é€ â½…æ³•å†…ç¬¬â¼€â¾ã€‚</li><li>ğŸ‘»thiså’Œsuperä¸èƒ½åŒæ—¶å‡ºç°åœ¨â¼€ä¸ªæ„é€ å‡½æ•°â¾¥â¾¯ï¼Œå› ä¸ºthiså¿…ç„¶ä¼šè°ƒâ½¤å…¶å®ƒçš„æ„é€ å‡½æ•°ï¼Œå…¶å®ƒçš„æ„é€ å‡½æ•°å¿…ç„¶ä¹Ÿä¼šæœ‰superè¯­å¥çš„å­˜åœ¨ï¼Œæ‰€ä»¥åœ¨åŒâ¼€ä¸ªæ„é€ å‡½æ•°â¾¥â¾¯æœ‰ç›¸åŒçš„è¯­å¥ï¼Œå°±å¤±å»äº†è¯­å¥çš„æ„ä¹‰ï¼Œç¼–è¯‘å™¨ä¹Ÿä¸ä¼šé€šè¿‡ã€‚</li><li>this()å’Œsuper()éƒ½æŒ‡çš„æ˜¯å¯¹è±¡ï¼Œæ‰€ä»¥ï¼Œå‡ä¸å¯ä»¥åœ¨staticç¯å¢ƒä¸­ä½¿â½¤ã€‚åŒ…æ‹¬ï¼šstaticå˜é‡,staticâ½…æ³•ï¼Œstaticè¯­å¥å—ã€‚</li><li>ğŸ‘»ä»æœ¬è´¨ä¸Šè®²ï¼Œthisæ˜¯â¼€ä¸ªæŒ‡å‘æœ¬å¯¹è±¡çš„æŒ‡é’ˆ,ç„¶â½½superæ˜¯â¼€ä¸ªJavaå…³é”®å­—ã€‚</li></ul><h3 id="é™æ€ä»£ç†å’ŒåŠ¨æ€ä»£ç†" tabindex="-1"><a class="header-anchor" href="#é™æ€ä»£ç†å’ŒåŠ¨æ€ä»£ç†" aria-hidden="true">#</a> é™æ€ä»£ç†å’ŒåŠ¨æ€ä»£ç†</h3><h4 id="æ¦‚è¿°" tabindex="-1"><a class="header-anchor" href="#æ¦‚è¿°" aria-hidden="true">#</a> æ¦‚è¿°</h4><p>ä»£ç†æ¨¡å¼å°±æ˜¯ <strong>ä½¿ç”¨ä»£ç†å¯¹è±¡æ¥ä»£æ›¿å¯¹çœŸå®å¯¹è±¡çš„è®¿é—®ï¼Œè¿™æ ·å°±å¯ä»¥åœ¨ä¸ä¿®æ”¹åŸç›®æ ‡å¯¹è±¡çš„å‰æä¸‹ï¼Œæä¾›é¢å¤–çš„åŠŸèƒ½æ“ä½œï¼Œæ‰©å±•ç›®æ ‡å¯¹è±¡çš„åŠŸèƒ½ã€‚</strong></p><p>ä»£ç†æ¨¡å¼å¤§è‡´æœ‰ä¸‰ç§è§’è‰²ï¼š</p><ul><li>Real Subjectï¼šçœŸå®ç±»ï¼Œä¹Ÿå°±æ˜¯è¢«ä»£ç†ç±»ã€å§”æ‰˜ç±»ã€‚ç”¨æ¥çœŸæ­£å®Œæˆä¸šåŠ¡æœåŠ¡åŠŸèƒ½ï¼›</li><li>Proxyï¼šä»£ç†ç±»ã€‚å°†è‡ªèº«çš„è¯·æ±‚ç”¨ Real Subject å¯¹åº”çš„åŠŸèƒ½æ¥å®ç°ï¼Œä»£ç†ç±»å¯¹è±¡å¹¶ä¸çœŸæ­£çš„å»å®ç°å…¶ä¸šåŠ¡åŠŸèƒ½ï¼›</li><li>Subjectï¼šå®šä¹‰ RealSubject å’Œ Proxy è§’è‰²éƒ½åº”è¯¥å®ç°çš„æ¥å£ã€‚</li></ul><figure><img src="/Computer-Science-Learn-Notes/assets/20210221222746-4e60fa24.png" alt="img" tabindex="0" loading="lazy"><figcaption>img</figcaption></figure><p>é€šä¿—æ¥è¯´ï¼Œ<strong>ä»£ç†æ¨¡å¼çš„ä¸»è¦ä½œç”¨æ˜¯æ‰©å±•ç›®æ ‡å¯¹è±¡çš„åŠŸèƒ½ï¼Œæ¯”å¦‚è¯´åœ¨ç›®æ ‡å¯¹è±¡çš„æŸä¸ªæ–¹æ³•æ‰§è¡Œå‰åä½ å¯ä»¥å¢åŠ ä¸€äº›é¢å¤–çš„æ“ä½œï¼Œå¹¶ä¸”ä¸ç”¨ä¿®æ”¹è¿™ä¸ªæ–¹æ³•çš„åŸæœ‰ä»£ç </strong>ã€‚å¦‚æœå¤§å®¶å­¦è¿‡ Spring çš„ AOPï¼Œä¸€å®šèƒ½å¤Ÿå¾ˆå¥½çš„ç†è§£è¿™å¥è¯ã€‚</p><p>ä¸¾ä¸ªä¾‹å­ï¼šä½ æ‰¾äº†å°çº¢æ¥å¸®ä½ å‘å°ç»¿é—®è¯ï¼Œå°çº¢å°±çœ‹ä½œæ˜¯ä»£ç†æˆ‘çš„ä»£ç†ç±» Proxyï¼Œè€Œä½ æ˜¯ Real Subjectï¼Œå› ä¸ºå°çº¢è¦ä¼ è¾¾çš„è¯å…¶å®æ˜¯ä½ è¯´çš„ã€‚é‚£ä¹ˆä½ å’Œå°çº¢éƒ½éœ€è¦å®ç°çš„æ¥å£ï¼ˆSubjectï¼‰å°±æ˜¯è¯´è¯ï¼Œç”±äºä½ ä¿©éƒ½èƒ½è¯´è¯ï¼Œåœ¨å¤–ç•Œçœ‹æ¥ä½ ä¿©å°±æ˜¯ä¸€æ ·çš„</p><figure><img src="/Computer-Science-Learn-Notes/assets/image-20220723002924420-e9d46867.png" alt="image-20220723002924420" tabindex="0" loading="lazy"><figcaption>image-20220723002924420</figcaption></figure><p>çœ‹åˆ°è¿™é‡Œï¼Œä¸çŸ¥é“å¤§å®¶èƒ½ä¸èƒ½ç†è§£äº†ä¸ºä»€ä¹ˆå§”æ‰˜ç±»å’Œä»£ç†ç±»éƒ½éœ€è¦å®ç°ç›¸åŒçš„æ¥å£ï¼Ÿ</p><p>é‚£æ˜¯ä¸ºäº†ä¿æŒè¡Œä¸ºçš„ä¸€è‡´æ€§ï¼Œåœ¨è®¿é—®è€…çœ‹æ¥ä¸¤è€…ä¹‹é—´å°±æ²¡æœ‰åŒºåˆ«ã€‚è¿™æ ·ï¼Œé€šè¿‡ä»£ç†ç±»è¿™ä¸ªä¸­é—´å±‚ï¼Œå¾ˆå¥½åœ°éšè—å’Œä¿æŠ¤äº†å§”æ‰˜ç±»å¯¹è±¡ï¼Œèƒ½<strong>æœ‰æ•ˆå±è”½å¤–ç•Œå¯¹å§”æ‰˜ç±»å¯¹è±¡çš„ç›´æ¥è®¿é—®</strong>ã€‚åŒæ—¶ï¼Œä¹Ÿå¯ä»¥åœ¨ä»£ç†ç±»ä¸ŠåŠ ä¸Šé¢å¤–çš„æ“ä½œï¼Œæ¯”å¦‚<strong>å°çº¢åœ¨è¯´è¯ä¹‹å‰ä¼šè·³ä¸€æ®µèˆï¼Œå¤–ç•Œå°±ä¼šè§‰å¾—ä½ åœ¨è¯´è¯å‰ä¼šè·³ä¸€æ®µèˆï¼Œæ‰€ä»¥ï¼Œè¿™å°±å®ç°äº†å§”æ‰˜ç±»çš„åŠŸèƒ½å¢å¼º</strong>ã€‚</p><p>ä»£ç†æ¨¡å¼æœ‰é™æ€ä»£ç†å’ŒåŠ¨æ€ä»£ç†ä¸¤ç§å®ç°æ–¹å¼ã€‚</p><h4 id="é™æ€ä»£ç†" tabindex="-1"><a class="header-anchor" href="#é™æ€ä»£ç†" aria-hidden="true">#</a> é™æ€ä»£ç†</h4><p>å…ˆæ¥çœ‹é™æ€ä»£ç†çš„å®ç°æ­¥éª¤ï¼š</p><p>1ï¼‰å®šä¹‰ä¸€ä¸ªæ¥å£ï¼ˆSubjectï¼‰</p><p>2ï¼‰åˆ›å»ºä¸€ä¸ªå§”æ‰˜ç±»ï¼ˆReal Subjectï¼‰å®ç°è¿™ä¸ªæ¥å£</p><p>3ï¼‰åˆ›å»ºä¸€ä¸ªä»£ç†ç±»ï¼ˆProxyï¼‰åŒæ ·å®ç°è¿™ä¸ªæ¥å£</p><p>4ï¼‰<strong>å°†å§”æ‰˜ç±» Real Subject æ³¨å…¥è¿›ä»£ç†ç±» Proxy</strong>ï¼Œåœ¨ä»£ç†ç±»çš„æ–¹æ³•ä¸­è°ƒç”¨ Real Subject ä¸­çš„å¯¹åº”æ–¹æ³•ã€‚è¿™æ ·çš„è¯ï¼Œæˆ‘ä»¬å°±å¯ä»¥é€šè¿‡ä»£ç†ç±»å±è”½å¯¹ç›®æ ‡å¯¹è±¡çš„è®¿é—®ï¼Œå¹¶ä¸”å¯ä»¥åœ¨ç›®æ ‡æ–¹æ³•æ‰§è¡Œå‰ååšä¸€äº›è‡ªå·±æƒ³åšçš„äº‹æƒ…ã€‚</p><p>ä»å®ç°å’Œåº”ç”¨è§’åº¦æ¥è¯´ï¼Œé™æ€ä»£ç†ä¸­ï¼Œæˆ‘ä»¬å¯¹ç›®æ ‡å¯¹è±¡çš„æ¯ä¸ªæ–¹æ³•çš„å¢å¼ºéƒ½æ˜¯æ‰‹åŠ¨å®Œæˆçš„ï¼Œéå¸¸ä¸çµæ´»ï¼ˆæ¯”å¦‚æ¥å£ä¸€æ—¦æ–°å¢åŠ æ–¹æ³•ï¼Œç›®æ ‡å¯¹è±¡å’Œä»£ç†å¯¹è±¡éƒ½è¦è¿›è¡Œä¿®æ”¹ï¼‰ä¸”éº»çƒ¦ï¼ˆéœ€è¦å¯¹æ¯ä¸ªç›®æ ‡ç±»éƒ½å•ç‹¬å†™ä¸€ä¸ªä»£ç†ç±»ï¼‰ã€‚ å®é™…åº”ç”¨åœºæ™¯éå¸¸éå¸¸å°‘ï¼Œæ—¥å¸¸å¼€å‘å‡ ä¹çœ‹ä¸åˆ°ä½¿ç”¨é™æ€ä»£ç†çš„åœºæ™¯ã€‚</p><p>ä» JVM å±‚é¢æ¥è¯´ï¼Œ <strong>é™æ€ä»£ç†åœ¨ç¼–è¯‘æ—¶å°±å°†æ¥å£ã€å§”æ‰˜ç±»ã€ä»£ç†ç±»è¿™äº›éƒ½å˜æˆäº†ä¸€ä¸ªä¸ªå®é™…çš„ <code>.class</code> æ–‡ä»¶ã€‚</strong></p><p>1ï¼‰å®šä¹‰å‘é€çŸ­ä¿¡çš„æ¥å£</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">SmsService</span> <span class="token punctuation">{</span>
    <span class="token class-name">String</span> <span class="token function">send</span><span class="token punctuation">(</span><span class="token class-name">String</span> message<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>2ï¼‰åˆ›å»ºä¸€ä¸ªå§”æ‰˜ç±»ï¼ˆReal Subjectï¼‰å®ç°è¿™ä¸ªæ¥å£</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">SmsServiceImpl</span> <span class="token keyword">implements</span> <span class="token class-name">SmsService</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">send</span><span class="token punctuation">(</span><span class="token class-name">String</span> message<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;send message:&quot;</span> <span class="token operator">+</span> message<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> message<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>3ï¼‰åˆ›å»ºä¸€ä¸ªä»£ç†ç±»ï¼ˆProxyï¼‰åŒæ ·å®ç°è¿™ä¸ªæ¥å£</p><p>4ï¼‰å°†å§”æ‰˜ç±» Real Subject æ³¨å…¥è¿›ä»£ç†ç±» Proxyï¼Œåœ¨ä»£ç†ç±»çš„æ–¹æ³•ä¸­è°ƒç”¨ Real Subject ä¸­çš„å¯¹åº”æ–¹æ³•ã€‚è¿™æ ·çš„è¯ï¼Œæˆ‘ä»¬å°±å¯ä»¥é€šè¿‡ä»£ç†ç±»å±è”½å¯¹ç›®æ ‡å¯¹è±¡çš„è®¿é—®ï¼Œå¹¶ä¸”å¯ä»¥åœ¨ç›®æ ‡æ–¹æ³•æ‰§è¡Œå‰ååšä¸€äº›è‡ªå·±æƒ³åšçš„äº‹æƒ…ã€‚</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">SmsProxy</span> <span class="token keyword">implements</span> <span class="token class-name">SmsService</span> <span class="token punctuation">{</span>

    <span class="token comment">// å°†å§”æ‰˜ç±»æ³¨å…¥è¿›ä»£ç†ç±»</span>
    <span class="token keyword">private</span> <span class="token keyword">final</span> <span class="token class-name">SmsService</span> smsService<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token class-name">SmsProxy</span><span class="token punctuation">(</span><span class="token class-name">SmsService</span> smsService<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>smsService <span class="token operator">=</span> smsService<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">send</span><span class="token punctuation">(</span><span class="token class-name">String</span> message<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// è°ƒç”¨å§”æ‰˜ç±»æ–¹æ³•ä¹‹å‰ï¼Œæˆ‘ä»¬å¯ä»¥æ·»åŠ è‡ªå·±çš„æ“ä½œ</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;before method send()&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// è°ƒç”¨å§”æ‰˜ç±»æ–¹æ³•</span>
        smsService<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span>message<span class="token punctuation">)</span><span class="token punctuation">;</span> 
        <span class="token comment">// è°ƒç”¨å§”æ‰˜ç±»æ–¹æ³•ä¹‹åï¼Œæˆ‘ä»¬åŒæ ·å¯ä»¥æ·»åŠ è‡ªå·±çš„æ“ä½œ</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;after method send()&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>é‚£ä¹ˆï¼Œå¦‚ä½•ä½¿ç”¨è¿™ä¸ªè¢«å¢å¼ºçš„ <code>send</code> æ–¹æ³•å‘¢ï¼Ÿ</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Main</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">SmsService</span> smsService <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SmsServiceImpl</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">SmsProxy</span> smsProxy <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SmsProxy</span><span class="token punctuation">(</span>smsService<span class="token punctuation">)</span><span class="token punctuation">;</span>
        smsProxy<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token string">&quot;Java&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è¿è¡Œä¸Šè¿°ä»£ç ä¹‹åï¼Œæ§åˆ¶å°æ‰“å°å‡ºï¼š</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>before method send<span class="token punctuation">(</span><span class="token punctuation">)</span>
send message:java
after method send<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä»è¾“å‡ºç»“æœå¯ä»¥çœ‹å‡ºï¼Œæˆ‘ä»¬å·²ç»å¢å¼ºäº†å§”æ‰˜ç±» <code>SmsServiceImpl</code> çš„ <code>send()</code> æ–¹æ³•ã€‚</p><p>å½“ç„¶ï¼Œä»ä¸Šè¿°ä»£ç æˆ‘ä»¬ä¹Ÿèƒ½çœ‹å‡ºæ¥ï¼Œé™æ€ä»£ç†å­˜åœ¨ä¸€å®šçš„å¼Šç«¯ã€‚å‡å¦‚è¯´æˆ‘ä»¬ç°åœ¨æ–°å¢äº†ä¸€ä¸ªå§”æ‰˜ç±»å®ç°äº† <code>SmsService</code> æ¥å£ï¼Œå¦‚æœæˆ‘ä»¬æƒ³è¦å¯¹è¿™ä¸ªå§”æ‰˜ç±»è¿›è¡Œå¢å¼ºï¼Œå°±éœ€è¦é‡æ–°å†™ä¸€ä¸ªä»£ç†ç±»ï¼Œç„¶åæ³¨å…¥è¿™ä¸ªæ–°çš„å§”æ‰˜ç±»ï¼Œéå¸¸ä¸çµæ´»ã€‚ä¹Ÿå°±æ˜¯è¯´é™æ€ä»£ç†æ˜¯ä¸€ä¸ªå§”æ‰˜äº†å¯¹åº”ä¸€ä¸ªä»£ç†ç±»ï¼Œèƒ½ä¸èƒ½<strong>å°†ä»£ç†ç±»åšæˆä¸€ä¸ªé€šç”¨çš„</strong>å‘¢ï¼Ÿä¸ºæ­¤ï¼ŒåŠ¨æ€ä»£ç†åº”ç”¨è€Œç”Ÿã€‚</p><h4 id="java-å­—èŠ‚ç ç”Ÿæˆæ¡†æ¶" tabindex="-1"><a class="header-anchor" href="#java-å­—èŠ‚ç ç”Ÿæˆæ¡†æ¶" aria-hidden="true">#</a> Java å­—èŠ‚ç ç”Ÿæˆæ¡†æ¶</h4><p>åœ¨è®²è§£åŠ¨æ€ä¹‹å‰ï¼Œæˆ‘ä»¬æœ‰å¿…è¦è¯¦ç»†è¯´ä¸€ä¸‹ <code>.class</code> å­—èŠ‚ç æ–‡ä»¶è¿™ä¸ªä¸œè¥¿ã€‚åŠ¨æ€ä»£ç†æœºåˆ¶å’Œ Java å­—èŠ‚ç ç”Ÿæˆæ¡†æ¶æ¯æ¯ç›¸å…³ã€‚</p><p>åœ¨ä¸Šæ–‡åå°„ä¸­æˆ‘ä»¬æåˆ°ï¼Œä¸€ä¸ª <code>Class</code> ç±»å¯¹åº”ä¸€ä¸ª <code>.class</code> å­—èŠ‚ç æ–‡ä»¶ï¼Œä¹Ÿå°±è¯´å­—èŠ‚ç æ–‡ä»¶ä¸­å­˜å‚¨äº†ä¸€ä¸ªç±»çš„å…¨éƒ¨ä¿¡æ¯ã€‚å­—èŠ‚ç å…¶å®æ˜¯äºŒè¿›åˆ¶æ–‡ä»¶ï¼Œå†…å®¹æ˜¯åªæœ‰ JVM èƒ½å¤Ÿè¯†åˆ«çš„æœºå™¨ç ã€‚</p><p>è§£æè¿‡ç¨‹è¿™æ ·çš„ï¼šJVM è¯»å– <code>.class</code> å­—èŠ‚ç æ–‡ä»¶ï¼Œå–å‡ºäºŒè¿›åˆ¶æ•°æ®ï¼ŒåŠ è½½åˆ°å†…å­˜ä¸­ï¼Œè§£æå­—èŠ‚ç æ–‡ä»¶å†…çš„ä¿¡æ¯ï¼Œç”Ÿæˆå¯¹åº”çš„ <code>Class</code> ç±»å¯¹è±¡ï¼š</p><figure><img src="/Computer-Science-Learn-Notes/assets/image-20220723003010392-b9e9bc87.png" alt="image-20220723003010392" tabindex="0" loading="lazy"><figcaption>image-20220723003010392</figcaption></figure><p>æ˜¾ç„¶ï¼Œä¸Šè¿°è¿™ä¸ªè¿‡ç¨‹æ˜¯åœ¨ç¼–è¯‘æœŸå°±å‘ç”Ÿçš„ã€‚</p><p>é‚£ä¹ˆï¼Œç”±äºJVM æ˜¯é€šè¿‡ <code>.class</code> å­—èŠ‚ç æ–‡ä»¶ï¼ˆä¹Ÿå°±æ˜¯äºŒè¿›åˆ¶ä¿¡æ¯ï¼‰åŠ è½½ç±»çš„ï¼Œå¦‚æœæˆ‘ä»¬åœ¨è¿è¡ŒæœŸéµå¾ª Java ç¼–è¯‘ç³»ç»Ÿç»„ç»‡ <code>.class</code> å­—èŠ‚ç æ–‡ä»¶çš„æ ¼å¼å’Œç»“æ„ï¼Œç”Ÿæˆç›¸åº”çš„äºŒè¿›åˆ¶æ•°æ®ï¼Œç„¶åå†æŠŠè¿™ä¸ªäºŒè¿›åˆ¶æ•°æ®åŠ è½½è½¬æ¢æˆå¯¹åº”çš„ç±»ã€‚è¿™æ ·ï¼Œæˆ‘ä»¬ä¸å°±å®Œæˆäº†åœ¨è¿è¡Œæ—¶åŠ¨æ€çš„åˆ›å»ºä¸€ä¸ªç±»ã€‚è¿™ä¸ªæ€æƒ³å…¶å®ä¹Ÿå°±æ˜¯åŠ¨æ€ä»£ç†çš„æ€æƒ³ã€‚</p><figure><img src="/Computer-Science-Learn-Notes/assets/image-20220723003018675-71309696.png" alt="image-20220723003018675" tabindex="0" loading="lazy"><figcaption>image-20220723003018675</figcaption></figure><p>åœ¨è¿è¡Œæ—¶æœŸæŒ‰ç…§ JVM è§„èŒƒå¯¹ <code>.class</code> å­—èŠ‚ç æ–‡ä»¶çš„ç»„ç»‡è§„åˆ™ï¼Œç”Ÿæˆå¯¹åº”çš„äºŒè¿›åˆ¶æ•°æ®ã€‚å½“å‰æœ‰å¾ˆå¤šå¼€æºæ¡†æ¶å¯ä»¥å®Œæˆè¿™ä¸ªåŠŸèƒ½ï¼Œå¦‚</p><ul><li>ASM</li><li>CGLIB</li><li>Javassist</li><li>......</li></ul><p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œ<strong>CGLIB æ˜¯åŸºäº ASM çš„</strong>ã€‚ è¿™é‡Œç®€å•å¯¹æ¯”ä¸€ä¸‹ ASM å’Œ Javassistï¼š</p><ul><li>Javassist æºä»£ç çº§ API æ¯” ASM ä¸­å®é™…çš„å­—èŠ‚ç æ“ä½œæ›´å®¹æ˜“ä½¿ç”¨</li><li>Javassist åœ¨å¤æ‚çš„å­—èŠ‚ç çº§æ“ä½œä¸Šæä¾›äº†æ›´é«˜çº§åˆ«çš„æŠ½è±¡å±‚ã€‚Javassist æºä»£ç çº§ API åªéœ€è¦å¾ˆå°‘çš„å­—èŠ‚ç çŸ¥è¯†ï¼Œç”šè‡³ä¸éœ€è¦ä»»ä½•å®é™…å­—èŠ‚ç çŸ¥è¯†ï¼Œå› æ­¤å®ç°èµ·æ¥æ›´å®¹æ˜“ã€æ›´å¿«ã€‚</li><li>Javassist ä½¿ç”¨åå°„æœºåˆ¶ï¼Œè¿™ä½¿å¾—å®ƒæ¯” ASM æ…¢ã€‚</li></ul><p><strong>æ€»çš„æ¥è¯´ ASM æ¯” Javassist å¿«å¾—å¤šï¼Œå¹¶ä¸”æä¾›äº†æ›´å¥½çš„æ€§èƒ½ï¼Œä½†æ˜¯ Javassist ç›¸å¯¹æ¥è¯´æ›´å®¹æ˜“ä½¿ç”¨</strong>ï¼Œä¸¤è€…å„æœ‰åƒç§‹ã€‚</p><p>ä»¥ Javassist ä¸ºä¾‹ï¼Œæˆ‘ä»¬æ¥çœ‹çœ‹è¿™äº›æ¡†æ¶åœ¨è¿è¡Œæ—¶ç”Ÿæˆ <code>.class</code> å­—èŠ‚ç æ–‡ä»¶çš„å¼ºå¤§èƒ½åŠ›ã€‚</p><p>æ­£å¸¸æ¥è¯´ï¼Œæˆ‘ä»¬åˆ›å»ºä¸€ä¸ªç±»çš„ä»£ç æ˜¯è¿™æ ·çš„ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>samples</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Programmer</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">code</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;I&#39;m a Programmer,Just Coding.....&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä¸‹é¢é€šè¿‡ Javassist åˆ›å»ºå’Œä¸Šé¢ä¸€æ¨¡ä¸€æ ·çš„ <code>Programmer</code> ç±»çš„å­—èŠ‚ç ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">import</span> <span class="token import"><span class="token namespace">javassist<span class="token punctuation">.</span></span><span class="token class-name">ClassPool</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javassist<span class="token punctuation">.</span></span><span class="token class-name">CtClass</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javassist<span class="token punctuation">.</span></span><span class="token class-name">CtMethod</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javassist<span class="token punctuation">.</span></span><span class="token class-name">CtNewMethod</span></span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MyGenerator</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span> <span class="token punctuation">{</span>
        <span class="token class-name">ClassPool</span> pool <span class="token operator">=</span> <span class="token class-name">ClassPool</span><span class="token punctuation">.</span><span class="token function">getDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token comment">// åˆ›å»º Programmer ç±»        </span>
        <span class="token class-name">CtClass</span> cc<span class="token operator">=</span> pool<span class="token punctuation">.</span><span class="token function">makeClass</span><span class="token punctuation">(</span><span class="token string">&quot;com.samples.Programmer&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// å®šä¹‰æ–¹æ³•</span>
        <span class="token class-name">CtMethod</span> method <span class="token operator">=</span> <span class="token class-name">CtNewMethod</span><span class="token punctuation">.</span><span class="token function">make</span><span class="token punctuation">(</span><span class="token string">&quot;public void code(){}&quot;</span><span class="token punctuation">,</span> cc<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// æ’å…¥æ–¹æ³•ä»£ç </span>
        method<span class="token punctuation">.</span><span class="token function">insertBefore</span><span class="token punctuation">(</span><span class="token string">&quot;System.out.println(\&quot;I&#39;m a Programmer,Just Coding.....\&quot;);&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        cc<span class="token punctuation">.</span><span class="token function">addMethod</span><span class="token punctuation">(</span>method<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// ä¿å­˜ç”Ÿæˆçš„å­—èŠ‚ç </span>
        cc<span class="token punctuation">.</span><span class="token function">writeFile</span><span class="token punctuation">(</span><span class="token string">&quot;d://temp&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>é€šè¿‡åç¼–è¯‘å·¥å…·æ‰“å¼€ <code>Programmer.class</code> å¯ä»¥çœ‹åˆ°ä»¥ä¸‹ä»£ç ï¼š</p><figure><img src="/Computer-Science-Learn-Notes/assets/image-20220723003032359-89da4a71.png" alt="image-20220723003032359" tabindex="0" loading="lazy"><figcaption>image-20220723003032359</figcaption></figure><h4 id="åŠ¨æ€ä»£ç†" tabindex="-1"><a class="header-anchor" href="#åŠ¨æ€ä»£ç†" aria-hidden="true">#</a> åŠ¨æ€ä»£ç†</h4><p>äº†è§£äº† Java å­—èŠ‚ç ç”Ÿæˆæ¡†æ¶ï¼Œå¯ä»¥å¼€å§‹å­¦ä¹ åŠ¨æ€ä»£ç†ï¼ˆDynamic Proxyï¼‰äº†ã€‚</p><p>å›é¡¾ä¸€ä¸‹é™æ€ä»£ç†ï¼Œæˆ‘ä»¬æŠŠé™æ€ä»£ç†çš„æ‰§è¡Œè¿‡ç¨‹æŠ½è±¡ä¸ºä¸‹å›¾ï¼š</p><figure><img src="/Computer-Science-Learn-Notes/assets/image-20220723003049255-47238a8f.png" alt="image-20220723003049255" tabindex="0" loading="lazy"><figcaption>image-20220723003049255</figcaption></figure><p>å¯ä»¥çœ‹è§ï¼Œä»£ç†ç±»æ— éæ˜¯åœ¨è°ƒç”¨å§”æ‰˜ç±»æ–¹æ³•çš„å‰åå¢åŠ äº†ä¸€äº›æ“ä½œã€‚å§”æ‰˜ç±»çš„ä¸åŒï¼Œä¹Ÿå°±å¯¼è‡´ä»£ç†ç±»çš„ä¸åŒã€‚</p><p>é‚£ä¹ˆä¸ºäº†åšä¸€ä¸ªé€šç”¨æ€§çš„ä»£ç†ç±»å‡ºæ¥ï¼Œæˆ‘ä»¬æŠŠè°ƒç”¨å§”æ‰˜ç±»æ–¹æ³•çš„è¿™ä¸ªåŠ¨ä½œæŠ½å–å‡ºæ¥ï¼ŒæŠŠå®ƒå°è£…æˆä¸€ä¸ªé€šç”¨æ€§çš„å¤„ç†ç±»ï¼Œäºæ˜¯å°±æœ‰äº†åŠ¨æ€ä»£ç†ä¸­çš„ <code>InvocationHandler</code> è§’è‰²ï¼ˆå¤„ç†ç±»ï¼‰ã€‚</p><p>äºæ˜¯ï¼Œåœ¨ä»£ç†ç±»å’Œå§”æ‰˜ç±»ä¹‹é—´å°±å¤šäº†ä¸€ä¸ªå¤„ç†ç±»çš„è§’è‰²ï¼Œè¿™ä¸ªè§’è‰²ä¸»è¦æ˜¯<strong>å¯¹ä»£ç†ç±»è°ƒç”¨å§”æ‰˜ç±»æ–¹æ³•çš„è¿™ä¸ªåŠ¨ä½œè¿›è¡Œç»Ÿä¸€çš„è°ƒç”¨</strong>ï¼Œä¹Ÿå°±æ˜¯ç”± <code>InvocationHandler</code> æ¥ç»Ÿä¸€å¤„ç†ä»£ç†ç±»è°ƒç”¨å§”æ‰˜ç±»æ–¹æ³•è¿™ä¸ªæ“ä½œã€‚çœ‹ä¸‹å›¾ï¼š</p><figure><img src="/Computer-Science-Learn-Notes/assets/image-20220723003057769-f00099a9.png" alt="image-20220723003057769" tabindex="0" loading="lazy"><figcaption>image-20220723003057769</figcaption></figure><p><strong>ä» JVM è§’åº¦æ¥è¯´ï¼ŒåŠ¨æ€ä»£ç†æ˜¯åœ¨è¿è¡Œæ—¶åŠ¨æ€ç”Ÿæˆ <code>.class</code> å­—èŠ‚ç æ–‡ä»¶ ï¼Œå¹¶åŠ è½½åˆ° JVM ä¸­çš„</strong>ã€‚è¿™ä¸ªæˆ‘ä»¬åœ¨ Java å­—èŠ‚ç ç”Ÿæˆæ¡†æ¶ä¸­å·²ç»æåˆ°è¿‡ã€‚</p><p>è™½ç„¶åŠ¨æ€ä»£ç†åœ¨æˆ‘ä»¬æ—¥å¸¸å¼€å‘ä¸­ä½¿ç”¨çš„ç›¸å¯¹è¾ƒå°‘ï¼Œä½†æ˜¯åœ¨æ¡†æ¶ä¸­çš„å‡ ä¹æ˜¯å¿…ç”¨çš„ä¸€é—¨æŠ€æœ¯ã€‚å­¦ä¼šäº†åŠ¨æ€ä»£ç†ä¹‹åï¼Œå¯¹äºæˆ‘ä»¬ç†è§£å’Œå­¦ä¹ å„ç§æ¡†æ¶çš„åŸç†ä¹Ÿéå¸¸æœ‰å¸®åŠ©ï¼Œ<strong>Spring AOPã€RPC ç­‰æ¡†æ¶çš„å®ç°éƒ½ä¾èµ–äº†åŠ¨æ€ä»£ç†</strong>ã€‚</p><p>å°± Java æ¥è¯´ï¼ŒåŠ¨æ€ä»£ç†çš„å®ç°æ–¹å¼æœ‰å¾ˆå¤šç§ï¼Œæ¯”å¦‚ï¼š</p><ul><li>JDK åŠ¨æ€ä»£ç†</li><li>CGLIB åŠ¨æ€ä»£ç†</li><li>Javassit åŠ¨æ€ä»£ç†</li><li>......</li></ul><p>ä¸‹é¢è¯¦ç»†è®²è§£è¿™ä¸‰ç§åŠ¨æ€ä»£ç†æœºåˆ¶ã€‚</p><h4 id="jdk-åŠ¨æ€ä»£ç†æœºåˆ¶" tabindex="-1"><a class="header-anchor" href="#jdk-åŠ¨æ€ä»£ç†æœºåˆ¶" aria-hidden="true">#</a> JDK åŠ¨æ€ä»£ç†æœºåˆ¶</h4><p>å…ˆæ¥çœ‹ä¸‹ JDK åŠ¨æ€ä»£ç†æœºåˆ¶çš„ä½¿ç”¨æ­¥éª¤ï¼š</p><p>1ï¼‰å®šä¹‰ä¸€ä¸ªæ¥å£ï¼ˆSubjectï¼‰</p><p>2ï¼‰åˆ›å»ºä¸€ä¸ªå§”æ‰˜ç±»ï¼ˆReal Subjectï¼‰å®ç°è¿™ä¸ªæ¥å£</p><p>3ï¼‰åˆ›å»ºä¸€ä¸ªå¤„ç†ç±»å¹¶å®ç° <code>InvocationHandler</code> æ¥å£ï¼Œé‡å†™å…¶ <code>invoke</code> æ–¹æ³•ï¼ˆåœ¨ <code>invoke</code> æ–¹æ³•ä¸­åˆ©ç”¨åå°„æœºåˆ¶è°ƒç”¨å§”æ‰˜ç±»çš„æ–¹æ³•ï¼Œå¹¶è‡ªå®šä¹‰ä¸€äº›å¤„ç†é€»è¾‘ï¼‰ï¼Œå¹¶å°†å§”æ‰˜ç±»æ³¨å…¥å¤„ç†ç±»</p><figure><img src="/Computer-Science-Learn-Notes/assets/image-20220723003128864-ee40cd37.png" alt="image-20220723003128864" tabindex="0" loading="lazy"><figcaption>image-20220723003128864</figcaption></figure><p>è¯¥æ–¹æ³•æœ‰ä¸‹é¢ä¸‰ä¸ªå‚æ•°ï¼š</p><ul><li>proxyï¼šä»£ç†ç±»å¯¹è±¡ï¼ˆè§ä¸‹ä¸€æ­¥ï¼‰</li><li>methodï¼šè¿˜è®°å¾—æˆ‘ä»¬åœ¨ä¸Šç¯‡æ–‡ç« åå°„ä¸­è®²åˆ°çš„ <code>Method.invoke</code> å—ï¼Ÿå°±æ˜¯è¿™ä¸ªï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡å®ƒæ¥è°ƒç”¨å§”æ‰˜ç±»çš„æ–¹æ³•ï¼ˆåå°„ï¼‰</li></ul><figure><img src="/Computer-Science-Learn-Notes/assets/image-20220723003137612-c2f6e902.png" alt="image-20220723003137612" tabindex="0" loading="lazy"><figcaption>image-20220723003137612</figcaption></figure><ul><li>argsï¼šä¼ ç»™å§”æ‰˜ç±»æ–¹æ³•çš„å‚æ•°åˆ—è¡¨</li></ul><p>4ï¼‰åˆ›å»ºä»£ç†å¯¹è±¡ï¼ˆProxyï¼‰ï¼šé€šè¿‡ <code>Proxy.newProxyInstance()</code> åˆ›å»ºå§”æ‰˜ç±»å¯¹è±¡çš„ä»£ç†å¯¹è±¡</p><figure><img src="/Computer-Science-Learn-Notes/assets/image-20220723003147365-3389df46.png" alt="image-20220723003147365" tabindex="0" loading="lazy"><figcaption>image-20220723003147365</figcaption></figure><p>è¿™ä¸ªæ–¹æ³•éœ€è¦ 3 ä¸ªå‚æ•°ï¼š</p><ul><li>ç±»åŠ è½½å™¨ ClassLoader</li><li>å§”æ‰˜ç±»å®ç°çš„æ¥å£æ•°ç»„ï¼Œè‡³å°‘éœ€è¦ä¼ å…¥ä¸€ä¸ªæ¥å£è¿›å»</li><li>è°ƒç”¨çš„ <code>InvocationHandler</code> å®ä¾‹å¤„ç†æ¥å£æ–¹æ³•ï¼ˆä¹Ÿå°±æ˜¯ç¬¬ 3 æ­¥æˆ‘ä»¬åˆ›å»ºçš„ç±»çš„å®ä¾‹ï¼‰</li></ul><p>ä¹Ÿå°±æ˜¯è¯´ï¼šæˆ‘ä»¬åœ¨é€šè¿‡ <code>Proxy</code> ç±»çš„ <code>newProxyInstance()</code> åˆ›å»ºçš„ä»£ç†å¯¹è±¡åœ¨è°ƒç”¨æ–¹æ³•çš„æ—¶å€™ï¼Œå®é™…ä¼šè°ƒç”¨åˆ°å®ç°äº† <code>InvocationHandler</code> æ¥å£çš„å¤„ç†ç±»çš„ <code>invoke()</code>æ–¹æ³•ï¼Œå¯ä»¥åœ¨ <code>invoke()</code> æ–¹æ³•ä¸­è‡ªå®šä¹‰å¤„ç†é€»è¾‘ï¼Œæ¯”å¦‚åœ¨æ–¹æ³•æ‰§è¡Œå‰ååšä»€ä¹ˆäº‹æƒ…ã€‚</p><p>1ï¼‰å®šä¹‰ä¸€ä¸ªæ¥å£ï¼ˆSubjectï¼‰</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">SmsService</span> <span class="token punctuation">{</span>
    <span class="token class-name">String</span> <span class="token function">send</span><span class="token punctuation">(</span><span class="token class-name">String</span> message<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>2ï¼‰åˆ›å»ºä¸€ä¸ªå§”æ‰˜ç±»ï¼ˆReal Subjectï¼‰å®ç°è¿™ä¸ªæ¥å£</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">SmsServiceImpl</span> <span class="token keyword">implements</span> <span class="token class-name">SmsService</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">send</span><span class="token punctuation">(</span><span class="token class-name">String</span> message<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;send message:&quot;</span> <span class="token operator">+</span> message<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> message<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>3ï¼‰åˆ›å»ºä¸€ä¸ªå¤„ç†ç±»ï¼Œå¹¶å°†å§”æ‰˜ç±»æ³¨å…¥å¤„ç†ç±»ï¼Œå¦å¤–ï¼Œè¿™ä¸ªå¤„ç†ç±»éœ€è¦å®ç° <code>InvocationHandler</code> æ¥å£ï¼Œé‡å†™å…¶ <code>invoke</code> æ–¹æ³•ï¼ˆåœ¨ <code>invoke</code> æ–¹æ³•ä¸­åˆ©ç”¨åå°„æœºåˆ¶è°ƒç”¨å§”æ‰˜ç±»çš„æ–¹æ³•ï¼Œå¹¶è‡ªå®šä¹‰ä¸€äº›å¤„ç†é€»è¾‘ï¼‰</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>lang<span class="token punctuation">.</span>reflect<span class="token punctuation">.</span></span><span class="token class-name">InvocationHandler</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>lang<span class="token punctuation">.</span>reflect<span class="token punctuation">.</span></span><span class="token class-name">InvocationTargetException</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>lang<span class="token punctuation">.</span>reflect<span class="token punctuation">.</span></span><span class="token class-name">Method</span></span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">DebugInvocationHandler</span> <span class="token keyword">implements</span> <span class="token class-name">InvocationHandler</span> <span class="token punctuation">{</span>

    <span class="token comment">// å°†å§”æ‰˜ç±»æ³¨å…¥å¤„ç†ç±»ï¼ˆè¿™é‡Œæˆ‘ä»¬ç”¨ Object ä»£æ›¿ï¼Œæ–¹ä¾¿æ‰©å±•ï¼‰</span>
    <span class="token keyword">private</span> <span class="token keyword">final</span> <span class="token class-name">Object</span> target<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token class-name">DebugInvocationHandler</span><span class="token punctuation">(</span><span class="token class-name">Object</span> target<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>target <span class="token operator">=</span> target<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// é‡å†™ invoke æ–¹æ³•</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">Object</span> <span class="token function">invoke</span><span class="token punctuation">(</span><span class="token class-name">Object</span> proxy<span class="token punctuation">,</span> <span class="token class-name">Method</span> method<span class="token punctuation">,</span> <span class="token class-name">Object</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">InvocationTargetException</span><span class="token punctuation">,</span> <span class="token class-name">IllegalAccessException</span> <span class="token punctuation">{</span>
        <span class="token comment">//è°ƒç”¨æ–¹æ³•ä¹‹å‰ï¼Œæˆ‘ä»¬å¯ä»¥æ·»åŠ è‡ªå·±çš„æ“ä½œ</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;before method &quot;</span> <span class="token operator">+</span> method<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Object</span> result <span class="token operator">=</span> method<span class="token punctuation">.</span><span class="token function">invoke</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> args<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//è°ƒç”¨æ–¹æ³•ä¹‹åï¼Œæˆ‘ä»¬åŒæ ·å¯ä»¥æ·»åŠ è‡ªå·±çš„æ“ä½œ</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;after method &quot;</span> <span class="token operator">+</span> method<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> result<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>4ï¼‰å®šä¹‰ä¸€ä¸ªåˆ›å»ºä»£ç†å¯¹è±¡ï¼ˆProxyï¼‰çš„å·¥å‚ç±»ï¼šé€šè¿‡ <code>Proxy.newProxyInstance()</code> åˆ›å»ºå§”æ‰˜ç±»å¯¹è±¡çš„ä»£ç†å¯¹è±¡</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">JdkProxyFactory</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">Object</span> <span class="token function">getProxy</span><span class="token punctuation">(</span><span class="token class-name">Object</span> target<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token class-name">Proxy</span><span class="token punctuation">.</span><span class="token function">newProxyInstance</span><span class="token punctuation">(</span>
                target<span class="token punctuation">.</span><span class="token function">getClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getClassLoader</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                target<span class="token punctuation">.</span><span class="token function">getClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getInterfaces</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                <span class="token keyword">new</span> <span class="token class-name">DebugInvocationHandler</span><span class="token punctuation">(</span>target<span class="token punctuation">)</span>
        <span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>5ï¼‰å®é™…ä½¿ç”¨</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token class-name">SmsService</span> smsService <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">SmsService</span><span class="token punctuation">)</span> <span class="token class-name">JdkProxyFactory</span><span class="token punctuation">.</span><span class="token function">getProxy</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">SmsServiceImpl</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
smsService<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token string">&quot;Java&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>è¿è¡Œä¸Šè¿°ä»£ç ä¹‹åï¼Œæ§åˆ¶å°æ‰“å°å‡ºï¼š</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>before method send
send message:Java
after method send
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="cglib-åŠ¨æ€ä»£ç†æœºåˆ¶" tabindex="-1"><a class="header-anchor" href="#cglib-åŠ¨æ€ä»£ç†æœºåˆ¶" aria-hidden="true">#</a> CGLIB åŠ¨æ€ä»£ç†æœºåˆ¶</h4><p><strong>JDK åŠ¨æ€ä»£ç†æœ‰ä¸€ä¸ªæœ€è‡´å‘½çš„é—®é¢˜æ˜¯å®ƒåªèƒ½ä»£ç†å®ç°äº†æŸä¸ªæ¥å£çš„å®ç°ç±»ï¼Œå¹¶ä¸”ä»£ç†ç±»ä¹Ÿåªèƒ½ä»£ç†æ¥å£ä¸­å®ç°çš„æ–¹æ³•ï¼Œè¦æ˜¯å®ç°ç±»ä¸­æœ‰è‡ªå·±ç§æœ‰çš„æ–¹æ³•ï¼Œè€Œæ¥å£ä¸­æ²¡æœ‰çš„è¯ï¼Œè¯¥æ–¹æ³•ä¸èƒ½è¿›è¡Œä»£ç†è°ƒç”¨</strong>ã€‚</p><p>ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨ CGLIB åŠ¨æ€ä»£ç†æœºåˆ¶ã€‚</p><p>ä¸Šæ–‡ä¹Ÿæåˆ°è¿‡ï¼ŒCGLIBï¼ˆCode Generation Libraryï¼‰æ˜¯ä¸€ä¸ªåŸºäº ASM çš„ Java å­—èŠ‚ç ç”Ÿæˆæ¡†æ¶ï¼Œå®ƒå…è®¸æˆ‘ä»¬åœ¨è¿è¡Œæ—¶å¯¹å­—èŠ‚ç è¿›è¡Œä¿®æ”¹å’ŒåŠ¨æ€ç”Ÿæˆã€‚åŸç†å°±æ˜¯<strong>é€šè¿‡å­—èŠ‚ç æŠ€æœ¯ç”Ÿæˆä¸€ä¸ªå­ç±»ï¼Œå¹¶åœ¨å­ç±»ä¸­æ‹¦æˆªçˆ¶ç±»æ–¹æ³•çš„è°ƒç”¨ï¼Œç»‡å…¥é¢å¤–çš„ä¸šåŠ¡é€»è¾‘</strong>ã€‚å…³é”®è¯å¤§å®¶æ³¨æ„åˆ°æ²¡æœ‰ï¼Œæ‹¦æˆªï¼CGLIB å¼•å…¥ä¸€ä¸ªæ–°çš„è§’è‰²å°±æ˜¯<strong>æ–¹æ³•æ‹¦æˆªå™¨</strong> <code>MethodInterceptor</code>ã€‚å’Œ JDK ä¸­çš„å¤„ç†ç±» <code>InvocationHandler</code> å·®ä¸å¤šï¼Œä¹Ÿæ˜¯ç”¨æ¥å®ç°æ–¹æ³•çš„ç»Ÿä¸€è°ƒç”¨çš„ã€‚çœ‹ä¸‹å›¾ï¼š</p><figure><img src="/Computer-Science-Learn-Notes/assets/image-20220723003222393-bd5beb84.png" alt="image-20220723003222393" tabindex="0" loading="lazy"><figcaption>image-20220723003222393</figcaption></figure><p>å¦å¤–ç”±äº CGLIB é‡‡ç”¨<strong>ç»§æ‰¿</strong>çš„æ–¹å¼ï¼Œæ‰€ä»¥è¢«ä»£ç†çš„ç±»ä¸èƒ½è¢« <code>final</code> ä¿®é¥°ã€‚</p><p>å¾ˆå¤šçŸ¥åçš„å¼€æºæ¡†æ¶éƒ½ä½¿ç”¨åˆ°äº† CGLIBï¼Œ ä¾‹å¦‚ <strong>Spring ä¸­çš„ AOP æ¨¡å—ä¸­ï¼šå¦‚æœç›®æ ‡å¯¹è±¡å®ç°äº†æ¥å£ï¼Œåˆ™é»˜è®¤é‡‡ç”¨ JDK åŠ¨æ€ä»£ç†ï¼Œå¦åˆ™é‡‡ç”¨ CGLIB åŠ¨æ€ä»£ç†</strong>ã€‚</p><p>æ¥çœ‹ CGLIB åŠ¨æ€ä»£ç†çš„ä½¿ç”¨æ­¥éª¤ï¼š</p><p>1ï¼‰é¦–å…ˆåˆ›å»ºä¸€ä¸ªå§”æ‰˜ç±»ï¼ˆReal Subjectï¼‰</p><p>2ï¼‰åˆ›å»ºä¸€ä¸ªæ–¹æ³•æ‹¦æˆªå™¨å®ç°æ¥å£ <code>MethodInterceptor</code>ï¼Œå¹¶é‡å†™ <code>intercept</code> æ–¹æ³•ã€‚<code>intercept</code> ç”¨äºæ‹¦æˆªå¹¶å¢å¼ºå§”æ‰˜ç±»çš„æ–¹æ³•ï¼ˆå’Œ JDK åŠ¨æ€ä»£ç† <code>InvocationHandler</code> ä¸­çš„ <code>invoke</code> æ–¹æ³•ç±»ä¼¼ï¼‰</p><figure><img src="/Computer-Science-Learn-Notes/assets/image-20220723003232098-3a6913b5.png" alt="image-20220723003232098" tabindex="0" loading="lazy"><figcaption>image-20220723003232098</figcaption></figure><p>è¯¥æ–¹æ³•æ‹¥æœ‰å››ä¸ªå‚æ•°ï¼š</p><ul><li>Object var1ï¼šå§”æ‰˜ç±»å¯¹è±¡</li><li>Method var2ï¼šè¢«æ‹¦æˆªçš„æ–¹æ³•ï¼ˆå§”æ‰˜ç±»ä¸­éœ€è¦å¢å¼ºçš„æ–¹æ³•ï¼‰</li><li>Object[] var3ï¼šæ–¹æ³•å…¥å‚</li><li>MethodProxy var4ï¼šç”¨äºè°ƒç”¨å§”æ‰˜ç±»çš„åŸå§‹æ–¹æ³•ï¼ˆåº•å±‚ä¹Ÿæ˜¯é€šè¿‡åå°„æœºåˆ¶ï¼Œä¸è¿‡ä¸æ˜¯ <code>Method.invoke</code> äº†ï¼Œè€Œæ˜¯ä½¿ç”¨ <code>MethodProxy.invokeSuper</code> æ–¹æ³•ï¼‰</li></ul><figure><img src="/Computer-Science-Learn-Notes/assets/image-20220723003242424-bea5c8cf.png" alt="image-20220723003242424" tabindex="0" loading="lazy"><figcaption>image-20220723003242424</figcaption></figure><p>3ï¼‰åˆ›å»ºä»£ç†å¯¹è±¡ï¼ˆProxyï¼‰ï¼šé€šè¿‡ <code>Enhancer.create()</code> åˆ›å»ºå§”æ‰˜ç±»å¯¹è±¡çš„ä»£ç†å¯¹è±¡</p><figure><img src="/Computer-Science-Learn-Notes/assets/image-20220723003250555-85f2780d.png" alt="image-20220723003250555" tabindex="0" loading="lazy"><figcaption>image-20220723003250555</figcaption></figure><p>ä¹Ÿå°±æ˜¯è¯´ï¼šæˆ‘ä»¬åœ¨é€šè¿‡ <code>Enhancer</code> ç±»çš„ <code>create()</code> åˆ›å»ºçš„ä»£ç†å¯¹è±¡åœ¨è°ƒç”¨æ–¹æ³•çš„æ—¶å€™ï¼Œå®é™…ä¼šè°ƒç”¨åˆ°å®ç°äº† <code>MethodInterceptor</code> æ¥å£çš„å¤„ç†ç±»çš„ <code>intercept()</code>æ–¹æ³•ï¼Œå¯ä»¥åœ¨ <code>intercept()</code> æ–¹æ³•ä¸­è‡ªå®šä¹‰å¤„ç†é€»è¾‘ï¼Œæ¯”å¦‚åœ¨æ–¹æ³•æ‰§è¡Œå‰ååšä»€ä¹ˆäº‹æƒ…ã€‚</p><blockquote><p>å¯ä»¥å‘ç°ï¼ŒCGLIB åŠ¨æ€ä»£ç†æœºåˆ¶å’Œ JDK åŠ¨æ€ä»£ç†æœºåˆ¶çš„æ­¥éª¤å·®ä¸å¤šï¼ŒCGLIB åŠ¨æ€ä»£ç†çš„æ ¸å¿ƒæ˜¯æ–¹æ³•æ‹¦æˆªå™¨ <code>MethodInterceptor</code> å’Œ <code>Enhancer</code>ï¼Œè€Œ JDK åŠ¨æ€ä»£ç†çš„æ ¸å¿ƒæ˜¯å¤„ç†ç±» <code>InvocationHandler</code> å’Œ <code>Proxy</code>ã€‚</p></blockquote><p>ä¸åŒäº JDK åŠ¨æ€ä»£ç†ä¸éœ€è¦é¢å¤–çš„ä¾èµ–ã€‚CGLIB æ˜¯ä¸€ä¸ªå¼€æºé¡¹ç›®ï¼Œå¦‚æœä½ è¦ä½¿ç”¨å®ƒçš„è¯ï¼Œéœ€è¦æ‰‹åŠ¨æ·»åŠ ç›¸å…³ä¾èµ–ã€‚</p><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>cglib<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>cglib<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>3.3.0<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>1ï¼‰é¦–å…ˆåˆ›å»ºä¸€ä¸ªå§”æ‰˜ç±»ï¼ˆReal Subjectï¼‰</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">AliSmsService</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">send</span><span class="token punctuation">(</span><span class="token class-name">String</span> message<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;send message:&quot;</span> <span class="token operator">+</span> message<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> message<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>2ï¼‰åˆ›å»ºä¸€ä¸ªæ–¹æ³•æ‹¦æˆªå™¨å®ç°æ¥å£ <code>MethodInterceptor</code>ï¼Œå¹¶é‡å†™ <code>intercept</code> æ–¹æ³•</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">import</span> <span class="token import"><span class="token namespace">net<span class="token punctuation">.</span>sf<span class="token punctuation">.</span>cglib<span class="token punctuation">.</span>proxy<span class="token punctuation">.</span></span><span class="token class-name">MethodInterceptor</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">net<span class="token punctuation">.</span>sf<span class="token punctuation">.</span>cglib<span class="token punctuation">.</span>proxy<span class="token punctuation">.</span></span><span class="token class-name">MethodProxy</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>lang<span class="token punctuation">.</span>reflect<span class="token punctuation">.</span></span><span class="token class-name">Method</span></span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">DebugMethodInterceptor</span> <span class="token keyword">implements</span> <span class="token class-name">MethodInterceptor</span> <span class="token punctuation">{</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">Object</span> <span class="token function">intercept</span><span class="token punctuation">(</span><span class="token class-name">Object</span> o<span class="token punctuation">,</span> <span class="token class-name">Method</span> method<span class="token punctuation">,</span> <span class="token class-name">Object</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">,</span> <span class="token class-name">MethodProxy</span> methodProxy<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Throwable</span> <span class="token punctuation">{</span>
        <span class="token comment">// è°ƒç”¨æ–¹æ³•ä¹‹å‰ï¼Œæˆ‘ä»¬å¯ä»¥æ·»åŠ è‡ªå·±çš„æ“ä½œ</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;before method &quot;</span> <span class="token operator">+</span> method<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// é€šè¿‡åå°„è°ƒç”¨å§”æ‰˜ç±»çš„æ–¹æ³•</span>
        <span class="token class-name">Object</span> object <span class="token operator">=</span> methodProxy<span class="token punctuation">.</span><span class="token function">invokeSuper</span><span class="token punctuation">(</span>o<span class="token punctuation">,</span> args<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// è°ƒç”¨æ–¹æ³•ä¹‹åï¼Œæˆ‘ä»¬åŒæ ·å¯ä»¥æ·»åŠ è‡ªå·±çš„æ“ä½œ</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;after method &quot;</span> <span class="token operator">+</span> method<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> object<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>3ï¼‰åˆ›å»ºä»£ç†å¯¹è±¡ï¼ˆProxyï¼‰ï¼šé€šè¿‡ <code>Enhancer.create()</code> åˆ›å»ºå§”æ‰˜ç±»å¯¹è±¡çš„ä»£ç†å¯¹è±¡</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">import</span> <span class="token import"><span class="token namespace">net<span class="token punctuation">.</span>sf<span class="token punctuation">.</span>cglib<span class="token punctuation">.</span>proxy<span class="token punctuation">.</span></span><span class="token class-name">Enhancer</span></span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">CglibProxyFactory</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">Object</span> <span class="token function">getProxy</span><span class="token punctuation">(</span><span class="token class-name">Class</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span><span class="token punctuation">&gt;</span></span> clazz<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// åˆ›å»ºåŠ¨æ€ä»£ç†å¢å¼ºç±»</span>
        <span class="token class-name">Enhancer</span> enhancer <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Enhancer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// è®¾ç½®ç±»åŠ è½½å™¨</span>
        enhancer<span class="token punctuation">.</span><span class="token function">setClassLoader</span><span class="token punctuation">(</span>clazz<span class="token punctuation">.</span><span class="token function">getClassLoader</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// è®¾ç½®å§”æ‰˜ç±»ï¼ˆè®¾ç½®çˆ¶ç±»ï¼‰</span>
        enhancer<span class="token punctuation">.</span><span class="token function">setSuperclass</span><span class="token punctuation">(</span>clazz<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// è®¾ç½®æ–¹æ³•æ‹¦æˆªå™¨</span>
        enhancer<span class="token punctuation">.</span><span class="token function">setCallback</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">DebugMethodInterceptor</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// åˆ›å»ºä»£ç†ç±»</span>
        <span class="token keyword">return</span> enhancer<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>ä» <code>setSuperclass</code> æˆ‘ä»¬å°±èƒ½çœ‹å‡ºï¼Œä¸ºä»€ä¹ˆè¯´ CGLIB æ˜¯åŸºäºç»§æ‰¿çš„ã€‚</p></blockquote><p>4ï¼‰å®é™…ä½¿ç”¨</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token class-name">AliSmsService</span> aliSmsService <span class="token operator">=</span> 
    <span class="token punctuation">(</span><span class="token class-name">AliSmsService</span><span class="token punctuation">)</span> <span class="token class-name">CglibProxyFactory</span><span class="token punctuation">.</span><span class="token function">getProxy</span><span class="token punctuation">(</span><span class="token class-name">AliSmsService</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
aliSmsService<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token string">&quot;Java&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è¿è¡Œä¸Šè¿°ä»£ç ä¹‹åï¼Œæ§åˆ¶å°æ‰“å°å‡ºï¼š</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>before method send
send message:Java
after method send
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="jdk-åŠ¨æ€ä»£ç†å’Œ-cglib-åŠ¨æ€ä»£ç†å¯¹æ¯”" tabindex="-1"><a class="header-anchor" href="#jdk-åŠ¨æ€ä»£ç†å’Œ-cglib-åŠ¨æ€ä»£ç†å¯¹æ¯”" aria-hidden="true">#</a> JDK åŠ¨æ€ä»£ç†å’Œ CGLIB åŠ¨æ€ä»£ç†å¯¹æ¯”</h4><p>1ï¼‰JDK åŠ¨æ€ä»£ç†æ˜¯åŸºäºå®ç°äº†æ¥å£çš„å§”æ‰˜ç±»ï¼Œé€šè¿‡æ¥å£å®ç°ä»£ç†ï¼›è€Œ CGLIB åŠ¨æ€ä»£ç†æ˜¯åŸºäºç»§æ‰¿äº†å§”æ‰˜ç±»çš„å­ç±»ï¼Œé€šè¿‡å­ç±»å®ç°ä»£ç†ã€‚</p><p>2ï¼‰JDK åŠ¨æ€ä»£ç†åªèƒ½ä»£ç†å®ç°äº†æ¥å£çš„ç±»ï¼Œä¸”åªèƒ½å¢å¼ºæ¥å£ä¸­ç°æœ‰çš„æ–¹æ³•ï¼›è€Œ CGLIB å¯ä»¥ä»£ç†æœªå®ç°ä»»ä½•æ¥å£çš„ç±»ã€‚</p><p>3ï¼‰å°±äºŒè€…çš„æ•ˆç‡æ¥è¯´ï¼Œå¤§éƒ¨åˆ†æƒ…å†µéƒ½æ˜¯ JDK åŠ¨æ€ä»£ç†çš„æ•ˆç‡æ›´é«˜ï¼Œéšç€ JDK ç‰ˆæœ¬çš„å‡çº§ï¼Œè¿™ä¸ªä¼˜åŠ¿æ›´åŠ æ˜æ˜¾ã€‚</p><blockquote><p>æä¸€å˜´ï¼Œå¸¸è§çš„è¿˜æœ‰ <strong>Javassist åŠ¨æ€ä»£ç†æœºåˆ¶</strong>ã€‚å’Œ CGLIB ä¸€æ ·ï¼Œä½œä¸ºä¸€ä¸ª Java å­—èŠ‚ç ç”Ÿæˆæ¡†æ¶ï¼ŒJavassist å¤©ç”Ÿå°±æ‹¥æœ‰åœ¨è¿è¡Œæ—¶åŠ¨æ€åˆ›å»ºä¸€ä¸ªç±»çš„èƒ½åŠ›ï¼Œå®ç°åŠ¨æ€ä»£ç†è‡ªç„¶ä¸åœ¨è¯ä¸‹ã€‚ Dubbo å°±æ˜¯é»˜è®¤ä½¿ç”¨ Javassit æ¥è¿›è¡ŒåŠ¨æ€ä»£ç†çš„ã€‚</p></blockquote><h4 id="é™æ€ä»£ç†å’ŒåŠ¨æ€ä»£ç†å¯¹æ¯”" tabindex="-1"><a class="header-anchor" href="#é™æ€ä»£ç†å’ŒåŠ¨æ€ä»£ç†å¯¹æ¯”" aria-hidden="true">#</a> é™æ€ä»£ç†å’ŒåŠ¨æ€ä»£ç†å¯¹æ¯”</h4><ol><li><strong>çµæ´»æ€§</strong> ï¼šåŠ¨æ€ä»£ç†æ›´åŠ çµæ´»ï¼Œä¸éœ€è¦å¿…é¡»å®ç°æ¥å£ï¼Œå¯ä»¥ç›´æ¥ä»£ç†å®ç°ç±»ï¼Œå¹¶ä¸”å¯ä»¥ä¸éœ€è¦é’ˆå¯¹æ¯ä¸ªç›®æ ‡ç±»éƒ½åˆ›å»ºä¸€ä¸ªä»£ç†ç±»ã€‚å¦å¤–ï¼Œé™æ€ä»£ç†ä¸­ï¼Œæ¥å£ä¸€æ—¦æ–°å¢åŠ æ–¹æ³•ï¼Œç›®æ ‡å¯¹è±¡å’Œä»£ç†å¯¹è±¡éƒ½è¦è¿›è¡Œä¿®æ”¹ï¼Œè¿™æ˜¯éå¸¸éº»çƒ¦çš„</li><li><strong>JVM å±‚é¢</strong> ï¼šé™æ€ä»£ç†åœ¨ç¼–è¯‘æ—¶å°±å°†æ¥å£ã€å®ç°ç±»ã€ä»£ç†ç±»è¿™äº›éƒ½å˜æˆäº†ä¸€ä¸ªä¸ªå®é™…çš„ <code>.class</code> å­—èŠ‚ç æ–‡ä»¶ã€‚è€ŒåŠ¨æ€ä»£ç†æ˜¯åœ¨è¿è¡Œæ—¶åŠ¨æ€ç”Ÿæˆç±»å­—èŠ‚ç ï¼Œå¹¶åŠ è½½åˆ° JVM ä¸­çš„ã€‚</li></ol><h4 id="ä»€ä¹ˆæƒ…å†µä¸‹ä½¿ç”¨åŠ¨æ€ä»£ç†" tabindex="-1"><a class="header-anchor" href="#ä»€ä¹ˆæƒ…å†µä¸‹ä½¿ç”¨åŠ¨æ€ä»£ç†" aria-hidden="true">#</a> ä»€ä¹ˆæƒ…å†µä¸‹ä½¿ç”¨åŠ¨æ€ä»£ç†</h4><ol><li>è®¾è®¡æ¨¡å¼ä¸­æœ‰ä¸€ä¸ªè®¾è®¡åŸåˆ™æ˜¯<strong>å¼€é—­åŸåˆ™</strong>ï¼Œå³<strong>å¯¹ä¿®æ”¹å…³é—­ï¼Œå¯¹æ‰©å±•å¼€æ”¾</strong>ï¼Œæˆ‘ä»¬åœ¨å·¥ä½œä¸­æœ‰æ—¶ä¼šæ¥æ‰‹å¾ˆå¤šå‰äººçš„ä»£ç ï¼Œé‡Œé¢ä»£ç é€»è¾‘è®©äººæ‘¸ä¸ç€å¤´è„‘ï¼Œå°±å¾ˆéš¾å»ä¸‹æ‰‹ä¿®æ”¹ä»£ç ï¼Œé‚£ä¹ˆè¿™æ—¶æˆ‘ä»¬å°±å¯ä»¥é€šè¿‡ä»£ç†å¯¹ç±»è¿›è¡Œå¢å¼ºã€‚</li><li>æˆ‘ä»¬åœ¨ä½¿ç”¨ <strong>RPC æ¡†æ¶</strong>çš„æ—¶å€™ï¼Œæ¡†æ¶æœ¬èº«å¹¶ä¸èƒ½æå‰çŸ¥é“å„ä¸ªä¸šåŠ¡æ–¹è¦è°ƒç”¨å“ªäº›æ¥å£çš„å“ªäº›æ–¹æ³• ã€‚é‚£ä¹ˆè¿™ä¸ªæ—¶å€™ï¼Œå°±å¯ç”¨é€šè¿‡åŠ¨æ€ä»£ç†çš„æ–¹å¼æ¥å»ºç«‹ä¸€ä¸ªä¸­é—´äººç»™å®¢æˆ·ç«¯ä½¿ç”¨ï¼Œä¹Ÿæ–¹ä¾¿æ¡†æ¶è¿›è¡Œæ­å»ºé€»è¾‘ï¼ŒæŸç§ç¨‹åº¦ä¸Šä¹Ÿæ˜¯å®¢æˆ·ç«¯ä»£ç å’Œæ¡†æ¶æ¾è€¦åˆçš„ä¸€ç§è¡¨ç°ã€‚</li><li><strong>Spring çš„ AOP</strong> æœºåˆ¶åŒæ ·ä¹Ÿæ˜¯é‡‡ç”¨äº†åŠ¨æ€ä»£ç†ï¼Œæ­¤å¤„ä¸åšè¯¦ç»†è®¨è®ºã€‚</li></ol><h4 id="æ€»ç»“" tabindex="-1"><a class="header-anchor" href="#æ€»ç»“" aria-hidden="true">#</a> æ€»ç»“</h4><p>å…¨éƒ¨æ‹ä¸€éä¸‹æ¥è¿˜æ˜¯æ”¶è·è›®å¤šçš„ï¼Œæˆ‘æ„Ÿè§‰åªè¦ç†è§£äº†å­—èŠ‚ç åœ¨ç¼–è¯‘æœŸç”Ÿæˆè¿˜æ˜¯åœ¨è¿è¡ŒæœŸç”Ÿæˆï¼Œå°±å·®ä¸å¤šèƒ½å¤ŸæŠŠæ¡ä½é™æ€ä»£ç†å’ŒåŠ¨æ€ä»£ç†äº†ã€‚æ€»ç»“ä¸€ä¸‹é™æ€ä»£ç†å’ŒåŠ¨æ€ä»£ç†ä¸­çš„è§’è‰²ï¼š</p><p>é™æ€ä»£ç†ï¼š</p><ul><li>Subjectï¼šå…¬å…±æ¥å£</li><li>Real Subjectï¼šå§”æ‰˜ç±»</li><li>Proxyï¼šä»£ç†ç±»</li></ul><p>JDK åŠ¨æ€ä»£ç†ï¼š</p><ul><li>Subjectï¼šå…¬å…±æ¥å£</li><li>Real Subjectï¼šå§”æ‰˜ç±»</li><li>Proxyï¼šä»£ç†ç±»</li><li><strong>InvocationHandler</strong>ï¼šå¤„ç†ç±»ï¼Œç»Ÿä¸€è°ƒç”¨æ–¹æ³•</li></ul><p>CGLIB åŠ¨æ€ä»£ç†ï¼š</p><ul><li>Subjectï¼šå…¬å…±æ¥å£</li><li>Real Subjectï¼šå§”æ‰˜ç±»</li><li>Proxyï¼šä»£ç†ç±»</li><li><strong>MethodInterceptor</strong>ï¼šæ–¹æ³•æ‹¦æˆªå™¨ï¼Œç»Ÿä¸€è°ƒç”¨æ–¹æ³•</li></ul><h3 id="static-é™æ€ä»£ç å—ä¸-éé™æ€ä»£ç å—-æ„é€ ä»£ç å—" tabindex="-1"><a class="header-anchor" href="#static-é™æ€ä»£ç å—ä¸-éé™æ€ä»£ç å—-æ„é€ ä»£ç å—" aria-hidden="true">#</a> static{}é™æ€ä»£ç å—ä¸{}éé™æ€ä»£ç å—(æ„é€ ä»£ç å—)</h3><p><strong>ç›¸åŒç‚¹</strong>ï¼š éƒ½æ˜¯åœ¨ JVM åŠ è½½ç±»æ—¶ä¸”åœ¨æ„é€ æ–¹æ³•æ‰§è¡Œä¹‹å‰æ‰§è¡Œï¼Œåœ¨ç±»ä¸­éƒ½å¯ä»¥å®šä¹‰å¤šä¸ªï¼Œå®šä¹‰å¤šä¸ªæ—¶æŒ‰å®šä¹‰çš„é¡ºåºæ‰§è¡Œï¼Œä¸€èˆ¬åœ¨ä»£ç å—ä¸­å¯¹ä¸€äº› static å˜é‡è¿›è¡Œèµ‹å€¼ã€‚</p><p><strong>ä¸åŒç‚¹</strong>ï¼š é™æ€ä»£ç å—åœ¨éé™æ€ä»£ç å—ä¹‹å‰æ‰§è¡Œ(é™æ€ä»£ç å— -&gt; éé™æ€ä»£ç å— -&gt; æ„é€ æ–¹æ³•)ã€‚é™æ€ä»£ç å—åªåœ¨ç¬¬ä¸€æ¬¡ new æ‰§è¡Œä¸€æ¬¡ï¼Œä¹‹åä¸å†æ‰§è¡Œï¼Œè€Œéé™æ€ä»£ç å—åœ¨æ¯ new ä¸€æ¬¡å°±æ‰§è¡Œä¸€æ¬¡ã€‚ éé™æ€ä»£ç å—å¯åœ¨æ™®é€šæ–¹æ³•ä¸­å®šä¹‰(ä¸è¿‡ä½œç”¨ä¸å¤§)ï¼›è€Œé™æ€ä»£ç å—ä¸è¡Œã€‚</p><blockquote><p>ğŸ› <strong>ä¿®æ­£</strong>ï¼šé™æ€ä»£ç å—å¯èƒ½åœ¨ç¬¬ä¸€æ¬¡ new å¯¹è±¡çš„æ—¶å€™æ‰§è¡Œï¼Œä½†ä¸ä¸€å®šåªåœ¨ç¬¬ä¸€æ¬¡ new çš„æ—¶å€™æ‰§è¡Œã€‚æ¯”å¦‚é€šè¿‡ <code>Class.forName(&quot;ClassDemo&quot;)</code>åˆ›å»º Class å¯¹è±¡çš„æ—¶å€™ä¹Ÿä¼šæ‰§è¡Œï¼Œå³ new æˆ–è€… <code>Class.forName(&quot;ClassDemo&quot;)</code> éƒ½ä¼šæ‰§è¡Œé™æ€ä»£ç å—ã€‚ ä¸€èˆ¬æƒ…å†µä¸‹,å¦‚æœæœ‰äº›ä»£ç æ¯”å¦‚ä¸€äº›é¡¹ç›®æœ€å¸¸ç”¨çš„å˜é‡æˆ–å¯¹è±¡å¿…é¡»åœ¨é¡¹ç›®å¯åŠ¨çš„æ—¶å€™å°±æ‰§è¡Œçš„æ—¶å€™,éœ€è¦ä½¿ç”¨é™æ€ä»£ç å—,è¿™ç§ä»£ç æ˜¯ä¸»åŠ¨æ‰§è¡Œçš„ã€‚å¦‚æœæˆ‘ä»¬æƒ³è¦è®¾è®¡ä¸éœ€è¦åˆ›å»ºå¯¹è±¡å°±å¯ä»¥è°ƒç”¨ç±»ä¸­çš„æ–¹æ³•ï¼Œä¾‹å¦‚ï¼š<code>Arrays</code> ç±»ï¼Œ<code>Character</code> ç±»ï¼Œ<code>String</code> ç±»ç­‰ï¼Œå°±éœ€è¦ä½¿ç”¨é™æ€æ–¹æ³•, ä¸¤è€…çš„åŒºåˆ«æ˜¯ é™æ€ä»£ç å—æ˜¯è‡ªåŠ¨æ‰§è¡Œçš„è€Œé™æ€æ–¹æ³•æ˜¯è¢«è°ƒç”¨çš„æ—¶å€™æ‰æ‰§è¡Œçš„.</p></blockquote><p>Exampleï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Test</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token class-name">Test</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&quot;é»˜è®¤æ„é€ æ–¹æ³•ï¼--&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">//éé™æ€ä»£ç å—</span>
    <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&quot;éé™æ€ä»£ç å—ï¼--&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">//é™æ€ä»£ç å—</span>
    <span class="token keyword">static</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&quot;é™æ€ä»£ç å—ï¼--&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&quot;é™æ€æ–¹æ³•ä¸­çš„å†…å®¹! --&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">{</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&quot;é™æ€æ–¹æ³•ä¸­çš„ä»£ç å—ï¼--&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">Test</span> test <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Test</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Test</span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//é™æ€ä»£ç å—ï¼--é™æ€æ–¹æ³•ä¸­çš„å†…å®¹! --é™æ€æ–¹æ³•ä¸­çš„ä»£ç å—ï¼--</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä¸Šè¿°ä»£ç è¾“å‡ºï¼š</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>é™æ€ä»£ç å—ï¼--éé™æ€ä»£ç å—ï¼--é»˜è®¤æ„é€ æ–¹æ³•ï¼--é™æ€æ–¹æ³•ä¸­çš„å†…å®¹! --é™æ€æ–¹æ³•ä¸­çš„ä»£ç å—ï¼--
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>å½“åªæ‰§è¡Œ <code>Test.test();</code> æ—¶è¾“å‡ºï¼š</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>é™æ€ä»£ç å—ï¼--é™æ€æ–¹æ³•ä¸­çš„å†…å®¹! --é™æ€æ–¹æ³•ä¸­çš„ä»£ç å—ï¼--
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>å½“åªæ‰§è¡Œ <code>Test test = new Test();</code> æ—¶è¾“å‡ºï¼š</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>é™æ€ä»£ç å—ï¼--éé™æ€ä»£ç å—ï¼--é»˜è®¤æ„é€ æ–¹æ³•ï¼--
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>éé™æ€ä»£ç å—ä¸æ„é€ å‡½æ•°çš„åŒºåˆ«æ˜¯ï¼š éé™æ€ä»£ç å—æ˜¯ç»™æ‰€æœ‰å¯¹è±¡è¿›è¡Œç»Ÿä¸€åˆå§‹åŒ–ï¼Œè€Œæ„é€ å‡½æ•°æ˜¯ç»™å¯¹åº”çš„å¯¹è±¡åˆå§‹åŒ–ï¼Œå› ä¸ºæ„é€ å‡½æ•°æ˜¯å¯ä»¥å¤šä¸ªçš„ï¼Œè¿è¡Œå“ªä¸ªæ„é€ å‡½æ•°å°±ä¼šå»ºç«‹ä»€ä¹ˆæ ·çš„å¯¹è±¡ï¼Œä½†æ— è®ºå»ºç«‹å“ªä¸ªå¯¹è±¡ï¼Œéƒ½ä¼šå…ˆæ‰§è¡Œç›¸åŒçš„æ„é€ ä»£ç å—ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œæ„é€ ä»£ç å—ä¸­å®šä¹‰çš„æ˜¯ä¸åŒå¯¹è±¡å…±æ€§çš„åˆå§‹åŒ–å†…å®¹ã€‚</p><h3 id="charå‹å˜é‡ä¸­èƒ½å¦èƒ½ä¸èƒ½å­˜å‚¨ä¸€ä¸ªä¸­æ–‡æ±‰å­—-ä¸ºä»€ä¹ˆ" tabindex="-1"><a class="header-anchor" href="#charå‹å˜é‡ä¸­èƒ½å¦èƒ½ä¸èƒ½å­˜å‚¨ä¸€ä¸ªä¸­æ–‡æ±‰å­—-ä¸ºä»€ä¹ˆ" aria-hidden="true">#</a> charå‹å˜é‡ä¸­èƒ½å¦èƒ½ä¸èƒ½å­˜å‚¨â¼€ä¸ªä¸­â½‚æ±‰å­—ï¼Œä¸ºä»€ä¹ˆï¼Ÿ</h3><p>charå¯ä»¥å­˜å‚¨â¼€ä¸ªä¸­â½‚æ±‰å­—ï¼Œå› ä¸ºJavaä¸­ä½¿â½¤çš„ç¼–ç æ˜¯Unicode(ä¸é€‰æ‹©ä»»ä½•ç‰¹å®šçš„ç¼–ç ï¼Œç›´æ¥ä½¿â½¤å­—ç¬¦åœ¨å­—ç¬¦é›†ä¸­çš„ç¼–å·ï¼Œè¿™æ˜¯ç»Ÿâ¼€çš„å”¯â¼€â½…æ³•ï¼‰ï¼Œâ¼€ä¸ªcharç±»å‹å 2ä¸ªå­—èŠ‚ï¼ˆ16â½ç‰¹ï¼‰ï¼Œæ‰€ä»¥æ”¾â¼€ä¸ªä¸­â½‚æ˜¯æ²¡é—®é¢˜çš„ã€‚</p><h3 id="æ˜¯å¦å¯ä»¥ç»§æ‰¿stringç±»" tabindex="-1"><a class="header-anchor" href="#æ˜¯å¦å¯ä»¥ç»§æ‰¿stringç±»" aria-hidden="true">#</a> æ˜¯å¦å¯ä»¥ç»§æ‰¿Stringç±»ï¼Ÿ</h3><p>Stringç±»æ˜¯finalç±»ï¼Œä¸å¯ä»¥è¢«ç»§æ‰¿ã€‚</p><p>è¡¥å……ï¼šç»§æ‰¿Stringæœ¬èº«å°±æ˜¯â¼€ä¸ªé”™è¯¯çš„â¾ä¸ºï¼Œå¯¹Stringç±»å‹æœ€å¥½çš„é‡â½¤â½…å¼æ˜¯å…³è”å…³ç³»ï¼ˆHas-Aï¼‰å’Œä¾èµ–å…³ç³»ï¼ˆUse-Aï¼‰â½½ä¸æ˜¯ç»§æ‰¿å…³ç³»ï¼ˆIs-Aï¼‰ã€‚</p><h3 id="è°ˆè°ˆä½ å¯¹å¤šæ€çš„ç†è§£" tabindex="-1"><a class="header-anchor" href="#è°ˆè°ˆä½ å¯¹å¤šæ€çš„ç†è§£" aria-hidden="true">#</a> è°ˆè°ˆä½ å¯¹å¤šæ€çš„ç†è§£ï¼Ÿ</h3><p>è‘—ä½œæƒå½’<a href="https://pdai.xn--tech-8e6h48v" target="_blank" rel="noopener noreferrer">https://pdai.techæ‰€æœ‰<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>ã€‚ é“¾æ¥ï¼š<a href="https://www.pdai.tech/md/java/basic/java-basic-oop.html" target="_blank" rel="noopener noreferrer">https://www.pdai.tech/md/java/basic/java-basic-oop.html<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><p>å¤šæ€åˆ†ä¸ºç¼–è¯‘æ—¶å¤šæ€å’Œè¿è¡Œæ—¶å¤šæ€:</p><ul><li>ç¼–è¯‘æ—¶å¤šæ€ä¸»è¦æŒ‡æ–¹æ³•çš„é‡è½½</li><li>è¿è¡Œæ—¶å¤šæ€æŒ‡ç¨‹åºä¸­å®šä¹‰çš„å¯¹è±¡å¼•ç”¨æ‰€æŒ‡å‘çš„å…·ä½“ç±»å‹åœ¨è¿è¡ŒæœŸé—´æ‰ç¡®å®š</li></ul><p>è¿è¡Œæ—¶å¤šæ€æœ‰ä¸‰ä¸ªæ¡ä»¶:</p><ul><li>ç»§æ‰¿</li><li>è¦†ç›–(é‡å†™)</li><li>å‘ä¸Šè½¬å‹</li></ul><p>ä¸‹é¢çš„ä»£ç ä¸­ï¼Œä¹å™¨ç±»(Instrument)æœ‰ä¸¤ä¸ªå­ç±»: Wind å’Œ Percussionï¼Œå®ƒä»¬éƒ½è¦†ç›–äº†çˆ¶ç±»çš„ play() æ–¹æ³•ï¼Œå¹¶ä¸”åœ¨ main() æ–¹æ³•ä¸­ä½¿ç”¨çˆ¶ç±» Instrument æ¥å¼•ç”¨ Wind å’Œ Percussion å¯¹è±¡ã€‚åœ¨ Instrument å¼•ç”¨è°ƒç”¨ play() æ–¹æ³•æ—¶ï¼Œä¼šæ‰§è¡Œå®é™…å¼•ç”¨å¯¹è±¡æ‰€åœ¨ç±»çš„ play() æ–¹æ³•ï¼Œè€Œä¸æ˜¯ Instrument ç±»çš„æ–¹æ³•ã€‚</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Instrument</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">play</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Instrument is playing...&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Wind</span> <span class="token keyword">extends</span> <span class="token class-name">Instrument</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">play</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Wind is playing...&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Percussion</span> <span class="token keyword">extends</span> <span class="token class-name">Instrument</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">play</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Percussion is playing...&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Music</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Instrument</span><span class="token punctuation">&gt;</span></span> instruments <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        instruments<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Wind</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        instruments<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Percussion</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token class-name">Instrument</span> instrument <span class="token operator">:</span> instruments<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            instrument<span class="token punctuation">.</span><span class="token function">play</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>è¯¦ç»†</p></blockquote><p>å¤šæ€çš„æ¦‚å¿µå¹¶ä¸éš¾ï¼Œå¹¶ä¸”åœ¨å®é™…ç¼–ç ä¸­å¯ä»¥è¯´æ˜¯æœ€æœ€é«˜é¢‘ä½¿ç”¨ç‡ã€‚å¤šæ€å°±æ˜¯<strong>ä½¿å¾—åŒä¸€ä¸ªè¡Œä¸ºå…·æœ‰å¤šä¸ªä¸åŒè¡¨ç°å½¢å¼æˆ–å½¢æ€çš„èƒ½åŠ›</strong>ã€‚ä¸¾ä¸ªå½¢è±¡ç‚¹çš„ä¾‹å­ï¼šå¯¹äº â€œæ‰“å°â€ è¿™ä¸ªè¡Œä¸ºï¼Œä½¿ç”¨å½©è‰²æ‰“å°æœº â€œæ‰“å°â€ å‡ºæ¥çš„æ•ˆæœå°±æ˜¯å½©è‰²çš„ï¼Œè€Œä½¿ç”¨é»‘ç™½æ‰“å°æœº â€œæ‰“å°â€ å‡ºæ¥çš„æ•ˆæœå°±æ˜¯é»‘ç™½çš„ã€‚æˆ‘ä»¬å°±ç§° â€œæ‰“å°â€ è¿™ä¸ªè¡Œä¸ºæ˜¯å¤šæ€çš„ï¼Œå½©è‰²æ‰“å°æ•ˆæœå’Œé»‘ç™½æ‰“å°æ•ˆæœå°±æ˜¯ â€œæ‰“å°â€ è¿™ä¸ªè¡Œä¸ºçš„ä¸¤ä¸ªä¸åŒçš„è¡¨ç°å½¢å¼ã€‚</p><figure><img src="/Computer-Science-Learn-Notes/assets/image-20220618172157050-1609e9bd.png" alt="image-20220618172157050" tabindex="0" loading="lazy"><figcaption>image-20220618172157050</figcaption></figure><p>è¿˜å¯ä»¥è¿™æ ·ç†è§£ï¼Œ<strong>åŒä¸€ä¸ªè¡Œä¸ºåœ¨ä¸åŒçš„å¯¹è±¡ä¸Šä¼šäº§ç”Ÿä¸åŒçš„ç»“æœ</strong>ã€‚å†ä¸¾ä¸ªå½¢è±¡ç‚¹çš„ä¾‹å­ï¼šæ¯”å¦‚æˆ‘ä»¬æŒ‰ä¸‹ F1 é”®è¿™ä¸ªè¡Œä¸ºï¼šå¦‚æœå½“å‰åœ¨ Word ä¸‹å¼¹å‡ºçš„å°±æ˜¯ Word å¸®åŠ©å’Œæ”¯æŒï¼›åœ¨ Windows ä¸‹å¼¹å‡ºçš„å°±æ˜¯ Windows å¸®åŠ©å’Œæ”¯æŒã€‚</p><h4 id="å¤šæ€å‘ç”Ÿçš„ä¸‰ä¸ªå¿…è¦æ¡ä»¶" tabindex="-1"><a class="header-anchor" href="#å¤šæ€å‘ç”Ÿçš„ä¸‰ä¸ªå¿…è¦æ¡ä»¶" aria-hidden="true">#</a> å¤šæ€å‘ç”Ÿçš„ä¸‰ä¸ªå¿…è¦æ¡ä»¶</h4><p>å…ˆçœ‹ä¸‹é¢è¿™æ®µä»£ç ï¼Œé¦–å…ˆï¼Œæˆ‘ä»¬æœ‰ä¸€ä¸ªåŸºç±» <code>Shape</code>ï¼Œä¸‰ä¸ªå­ç±»ï¼Œå¹¶ä¸”éƒ½é‡å†™äº†åŸºç±»çš„ <code>draw</code> æ–¹æ³•ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">class</span> <span class="token class-name">Shape</span> <span class="token punctuation">{</span>
    <span class="token keyword">void</span> <span class="token function">draw</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span>
 
<span class="token keyword">class</span> <span class="token class-name">Circle</span> <span class="token keyword">extends</span> <span class="token class-name">Shape</span> <span class="token punctuation">{</span>
    <span class="token keyword">void</span> <span class="token function">draw</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Circle.draw()&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
 
<span class="token keyword">class</span> <span class="token class-name">Square</span> <span class="token keyword">extends</span> <span class="token class-name">Shape</span> <span class="token punctuation">{</span>
    <span class="token keyword">void</span> <span class="token function">draw</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Square.draw()&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
 
<span class="token keyword">class</span> <span class="token class-name">Triangle</span> <span class="token keyword">extends</span> <span class="token class-name">Shape</span> <span class="token punctuation">{</span>
    <span class="token keyword">void</span> <span class="token function">draw</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Triangle.draw()&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä¸‹é¢è¿™å‡ è¡Œä»£ç å°±å……åˆ†ä½“ç°äº†å¤šæ€æ€§ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token class-name">Shape</span> circle <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Circle</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">Shape</span> square <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Square</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">Shape</span> triangle <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Triangle</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å¤§å®¶åº”è¯¥ä¸ä¼šå¤ªé™Œç”Ÿï¼Œå°±æ˜¯<strong>å‘ä¸Šè½¬å‹</strong>ï¼Œæ²¡é”™ï¼Œå®ƒå°±æ˜¯å¤šæ€çš„ä½“ç°ã€‚åŒæ ·çš„ä¸€ä¸ª draw æ–¹æ³•ï¼Œåœ¨è¿™ä¸‰ä¸ªä¸åŒçš„å¯¹è±¡ä¸Šäº§ç”Ÿäº†ä¸‰ç§ä¸åŒçš„è¡Œä¸ºï¼Œå¤šæ€åœ¨æ­¤ä½“ç°çš„æ·‹æ¼“å°½è‡´ã€‚</p><p>è¿™é‡Œéœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå½“ä½¿ç”¨å¤šæ€æ–¹å¼è°ƒç”¨æ–¹æ³•æ—¶ï¼Œç¼–è¯‘å™¨ä¼šé¦–å…ˆæ£€æŸ¥çˆ¶ç±»ä¸­æ˜¯å¦æœ‰è¯¥æ–¹æ³•ï¼Œå¦‚æœæ²¡æœ‰ï¼Œåˆ™ç¼–è¯‘é”™è¯¯ï¼›å¦‚æœçˆ¶ç±»ä¸­æœ‰è¯¥æ–¹æ³•ï¼Œå¹¶ä¸”è¢«å­ç±»é‡å†™ï¼Œå°±ä¼šè°ƒç”¨å­ç±»çš„è¿™ä¸ªæ–¹æ³•ï¼›å¦‚æœçˆ¶ç±»çš„æ–¹æ³•æ²¡æœ‰è¢«å­ç±»é‡å†™ï¼Œå°±ä¼šè°ƒç”¨çˆ¶ç±»çš„æ–¹æ³•ã€‚</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token class-name">Shape</span> circle <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Circle</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
circle<span class="token punctuation">.</span><span class="token function">draw</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// è°ƒç”¨çš„æ˜¯ Circle çš„ eat</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>ç®€å•æ¥è¯´ï¼š<strong>å½“çˆ¶ç±»å¼•ç”¨å˜é‡æŒ‡å‘å­ç±»å¯¹è±¡åï¼ˆå¤šæ€ï¼‰ï¼Œåªèƒ½ä½¿ç”¨çˆ¶ç±»å·²å£°æ˜çš„æ–¹æ³•ï¼Œä½†æ–¹æ³•å¦‚æœè¢«é‡å†™ä¼šæ‰§è¡Œå­ç±»çš„æ–¹æ³•ï¼Œå¦‚æœæ–¹æ³•æœªè¢«é‡å†™é‚£ä¹ˆå°†æ‰§è¡Œçˆ¶ç±»çš„æ–¹æ³•</strong>ã€‚</p><p>ç»“åˆä¸Šè¿°è¿™æ®µç®€å•çš„ä»£ç ï¼Œæˆ‘ä»¬æ€»ç»“ä¸€ä¸‹å¤šæ€äº§ç”Ÿçš„å¿…è¦æ¡ä»¶ï¼š</p><ul><li>1ï¼‰ç»§æ‰¿</li><li>2ï¼‰é‡å†™</li><li>3ï¼‰çˆ¶ç±»å¼•ç”¨æŒ‡å‘å­ç±»å¯¹è±¡ï¼š<code>Parent p = new Child();</code></li></ul><figure><img src="/Computer-Science-Learn-Notes/assets/image-20220618172217768-c8bb7d45.png" alt="image-20220618172217768" tabindex="0" loading="lazy"><figcaption>image-20220618172217768</figcaption></figure><h4 id="å¤šæ€æ˜¯å¦‚ä½•å‘ç”Ÿçš„" tabindex="-1"><a class="header-anchor" href="#å¤šæ€æ˜¯å¦‚ä½•å‘ç”Ÿçš„" aria-hidden="true">#</a> å¤šæ€æ˜¯å¦‚ä½•å‘ç”Ÿçš„</h4><p>â“ é‚£ä¹ˆï¼Œå¤šæ€åˆ°åº•æ˜¯å¦‚ä½•å‘ç”Ÿçš„ï¼Ÿç¼–è¯‘å™¨æ˜¯å¦‚ä½•çŸ¥é“çˆ¶ç±» Shape å¼•ç”¨æŒ‡å‘çš„æ˜¯ Circle è€Œä¸æ˜¯ Triangle æˆ– Square å‘¢ï¼Ÿ</p><p>é¦–å…ˆï¼Œæˆ‘ä»¬éœ€è¦äº†è§£é™æ€ç»‘å®šå’ŒåŠ¨æ€ç»‘å®šçš„æ¦‚å¿µã€‚ä»€ä¹ˆæ˜¯<strong>ç»‘å®š</strong>ï¼Ÿå°†ä¸€ä¸ªæ–¹æ³•è°ƒç”¨åŒä¸€ä¸ªæ–¹æ³•ä¸»ä½“å…³è”èµ·æ¥çš„è¿‡ç¨‹å°±ç§°ä½œç»‘å®šã€‚</p><p>è‹¥ç»‘å®šå‘ç”Ÿåœ¨ç¨‹åºè¿è¡Œå‰ï¼Œå«åš<strong>é™æ€ç»‘å®š</strong>ï¼Œä¹Ÿç§°<strong>å‰æœŸç»‘å®š</strong>ã€‚ä½ å¯èƒ½ä»æ¥æ²¡æœ‰å¬è¯´è¿™ä¸ªæœ¯è¯­ï¼Œå› ä¸ºå®ƒæ˜¯<strong>é¢å‘è¿‡ç¨‹</strong>è¯­è¨€ä¸éœ€é€‰æ‹©é»˜è®¤çš„ç»‘å®šæ–¹å¼ï¼Œä¾‹å¦‚åœ¨ C è¯­è¨€ä¸­å°±åªæœ‰å‰æœŸç»‘å®šè¿™ä¸€ç§æ–¹æ³•è°ƒç”¨ã€‚</p><p>é‚£ä¹ˆå¯¹äºè¿™æ®µä»£ç ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token class-name">Shape</span> circle <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Circle</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">Shape</span> square <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Square</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
circle<span class="token punctuation">.</span><span class="token function">draw</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Shape å³å¼•ç”¨ç±»å‹åœ¨ç¼–è¯‘æœŸå¯çŸ¥ï¼Œä¸ä¼šè¢«æ”¹å˜ï¼Œè€Œ Circle ä½œä¸ºå®ä¾‹å¯¹è±¡ç±»å‹åœ¨è¿è¡ŒæœŸæ‰å¯çŸ¥ï¼Œå¯èƒ½ä¼šå‘ç”Ÿå˜åŒ–ã€‚æ‰€ä»¥å¦‚æœä½¿ç”¨å‰æœŸç»‘å®šï¼Œåœ¨è¿è¡Œä¹‹å‰ï¼Œç¼–è¯‘å™¨åªçŸ¥é“æœ‰ä¸€ä¸ª Shape å¼•ç”¨ï¼Œå®ƒæ— æ³•å¾—çŸ¥ç©¶ç«Ÿä¼šè°ƒç”¨å“ªä¸ªæ–¹æ³•ã€‚</p><p>è§£å†³æ–¹æ³•å°±æ˜¯<strong>åŠ¨æ€ç»‘å®š</strong> Dynamic Bindingï¼Œåœ¨è¿è¡Œæ—¶æ ¹æ®å¯¹è±¡çš„ç±»å‹è‡ªåŠ¨çš„è¿›è¡Œç»‘å®šï¼Œæ‰€ä»¥åŠ¨æ€ç»‘å®šä¹Ÿç§°<strong>è¿è¡Œæ—¶ç»‘å®š</strong>ã€‚åŠ¨æ€ç»‘å®šæ˜¯å¤šæ€çš„åŸºç¡€ã€‚</p><p>æ³¨æ„ï¼šJava ä¸­é™¤äº† <code>static</code>å’Œ <code>final</code>æ–¹æ³•ï¼ˆ<code>private</code>æ–¹æ³•å±äº <code>final</code>æ–¹æ³•ï¼‰ä¹‹å¤–ï¼Œå…¶ä»–æ‰€æœ‰æ–¹æ³•éƒ½æ˜¯åŠ¨æ€ç»‘å®šã€‚è¿™æ„å‘³ç€é€šå¸¸æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬ä¸éœ€è¦åˆ¤æ–­åŠ¨æ€ç»‘å®šæ˜¯å¦ä¼šå‘ç”Ÿï¼Œå®ƒæ˜¯è‡ªåŠ¨å‘ç”Ÿçš„ã€‚</p><blockquote><p><code>final</code> å’Œ <code>static</code> å…³é”®å­—åç»­ä¼šå•ç‹¬å‡ºæ–‡ç« è®²è§£ï¼Œæ­¤å¤„å°±ç¬¼ç»Ÿçš„æ¦‚è¿°ä¸€ä¸‹ä¸ºä»€ä¹ˆè¿™ä¸¤ä¸ªå…³é”®å­—ä¿®é¥°çš„æ–¹æ³•æ˜¯é™æ€ç»‘å®šçš„ï¼š</p><ul><li><code>final</code> ä¸å…è®¸æ–¹æ³•é‡å†™ï¼Œè€Œå¤šæ€å‘ç”Ÿçš„æ¡ä»¶ä¹‹ä¸€å°±æ˜¯é‡å†™ï¼Œæ‰€ä»¥ <code>final</code> æ–¹æ³•ä¼šåœ¨ç¼–è¯‘æœŸé—´å°±è¿›è¡Œç»‘å®šï¼Œå³é™æ€ç»‘å®š</li><li><code>static</code> æ–¹æ³•æ˜¯ç±»ç›´æ¥æ‹¥æœ‰çš„çš„ï¼Œä¸è¯¥ç±»çš„ä»»ä½•ä¸€ä¸ªå¯¹è±¡éƒ½æ— å…³ï¼ˆè¯¥ç±»çš„æ‰€æœ‰å¯¹è±¡å…±åŒç»´æŠ¤ï¼‰ï¼Œæ‰€ä»¥ä¹Ÿæ˜¯é™æ€ç»‘å®š</li></ul></blockquote><h4 id="é‡è½½å’Œé‡å†™" tabindex="-1"><a class="header-anchor" href="#é‡è½½å’Œé‡å†™" aria-hidden="true">#</a> é‡è½½å’Œé‡å†™</h4><p>é‡è½½å’Œé‡å†™åœ¨ä¹‹å‰çš„æ–‡ç« ä¸­éƒ½è¯´è¿‡äº†ï¼Œæ­¤å¤„æ­£å¥½å€Ÿç€å¤šæ€è¿™ä¸ªä¸»é¢˜å°†è¿™ä¸¤ä¸ªå®¹æ˜“æ··æ·†çš„æ¦‚å¿µæ€»ç»“ä¸€æ³¢ã€‚</p><p>æ–¹æ³•çš„<strong>é‡å†™ Overriding</strong> å’Œ<strong>é‡è½½ Overloading</strong> éƒ½æ˜¯æ˜¯ Java å¤šæ€æ€§çš„è¡¨ç°ã€‚</p><p>ğŸ”¸ 1ï¼‰<strong>æ–¹æ³•é‡å†™æ˜¯çˆ¶ç±»ä¸å­ç±»ä¹‹é—´å¤šæ€æ€§çš„è¡¨ç°</strong>ã€‚å…¶å­ç±»å’Œçˆ¶ç±»æ–¹æ³•çš„åå­—ç›¸åŒï¼Œå‚æ•°ä¸ªæ•°ç›¸åŒï¼Œè¿”å›ç±»å‹ä¹Ÿç›¸åŒï¼Œå¹¶ä¸”å­ç±»çš„è®¿é—®æƒé™ä¸èƒ½æ¯”çˆ¶ç±»çš„ä¸¥æ ¼ï¼Œæ¯”å¦‚çˆ¶ç±»æ˜¯ publicï¼Œé‚£ä¹ˆå­ç±»ä¹Ÿåªèƒ½æ˜¯ publicï¼Œä¸èƒ½æ¯” public æ›´ä¸¥æ ¼ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œ<strong>æ–¹æ³•é‡å†™ï¼Œåªæœ‰æ–¹æ³•ä½“æ˜¯ä¸ä¸€æ ·çš„ï¼Œè®¿é—®æƒé™å¯ä»¥æœ‰é™åˆ¶çš„ä¿®æ”¹</strong>ã€‚</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">class</span> <span class="token class-name">Shape</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">draw</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span>
 
<span class="token keyword">class</span> <span class="token class-name">Circle</span> <span class="token keyword">extends</span> <span class="token class-name">Shape</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">draw</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Circle.draw()&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ğŸš¨ å…¶å®ï¼Œä¸Šé¢è¯´çš„è¿”å›ç±»å‹å®Œå…¨ç›¸åŒå¹¶ä¸ä¸¥æ ¼æ­£ç¡®ã€‚ä¸‹é¢æˆ‘ä»¬æ¥è§£é‡Šä¸€ä¸‹ã€‚</p><p>é¦–å…ˆï¼Œæˆ‘ä»¬éœ€è¦çŸ¥é“<strong>æ–¹æ³•çš„åå­—å’Œå‚æ•°åˆ—è¡¨ç§°ä¸ºæ–¹æ³•çš„ç­¾å</strong>ã€‚ä¾‹å¦‚ï¼Œ<code>draw()</code> å’Œ <code>draw(String)</code> æ˜¯ä¸¤ä¸ªå…·æœ‰ç›¸åŒåå­—ï¼Œ ä¸åŒç­¾åçš„æ–¹æ³•ã€‚å¦‚æœåœ¨å­ç±»ä¸­å®šä¹‰äº†ä¸€ä¸ªä¸è¶…ç±»ç­¾åç›¸åŒçš„æ–¹æ³•ï¼Œ é‚£ä¹ˆå­ç±»ä¸­çš„è¿™ä¸ªæ–¹æ³•å°±è¦†ç›–/é‡å†™äº†è¶…ç±»ä¸­çš„è¿™ä¸ªç›¸åŒç­¾åçš„æ–¹æ³•ã€‚</p><p>ä¸è¿‡ï¼Œ<strong>è¿”å›ç±»å‹ä¸æ˜¯ç­¾åçš„ä¸€éƒ¨åˆ†</strong>ï¼Œ å› æ­¤ï¼Œåœ¨è¦†ç›–/é‡å†™æ–¹æ³•æ—¶ï¼Œ ä¸€å®šè¦ä¿è¯è¿”å›ç±»çš„å…¼å®¹æ€§ã€‚ <strong>å…è®¸å­ç±»å°†è¦†ç›–æ–¹æ³•çš„è¿”å›ç±»å‹å®šä¹‰ä¸ºåŸè¿”å›ç±»å‹çš„å­ç±»å‹</strong>ã€‚</p><p>ä¾‹å¦‚ï¼Œ å‡è®¾ <code>Shape</code> ç±»æœ‰</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">class</span> <span class="token class-name">Shape</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token class-name">Shape</span> <span class="token function">draw</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    	<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>åœ¨åé¢çš„å­ç±» <code>Circle</code> ä¸­ï¼Œ å¯ä»¥æŒ‰ç…§å¦‚ä¸‹æ‰€ç¤ºçš„æ–¹å¼è¦†ç›–è¿™ä¸ªæ–¹æ³•</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">class</span> <span class="token class-name">Circle</span> <span class="token keyword">extends</span> <span class="token class-name">Shape</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token class-name">Circle</span> <span class="token function">draw</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ç”¨ä¸“ä¸šæœ¯è¯­æ¥è¯´ï¼Œè¿™ä¸¤ä¸ª <code>draw</code> æ–¹æ³•å…·æœ‰<strong>å¯åå˜çš„è¿”å›ç±»å‹</strong>ã€‚</p><p>ğŸ”¸ 2ï¼‰æ–¹æ³•é‡è½½å¹¶éå¤šæ€çš„å¿…è¦æ¡ä»¶ï¼Œä¸è¿‡å¯ä»¥ç†è§£æˆ<strong>æŸä¸ªç±»çš„å¤šæ€æ€§çš„è¡¨ç°</strong>ã€‚æ‰€è°“æ–¹æ³•é‡è½½ï¼Œå°±æ˜¯ä¸€ä¸ªç±»ä¸­å®šä¹‰äº†å¤šä¸ªæ–¹æ³•åç›¸åŒï¼Œä½†æ˜¯å‚æ•°çš„æ•°é‡æˆ–è€…ç±»å‹ä¸åŒã€‚æ–¹æ³•çš„è¿”å›ç±»å‹å’Œè®¿é—®æƒé™å¯ä»¥ä»»æ„ä¿®æ”¹ï¼Œä¸ä»¥å®ƒä¿©ä½œä¸ºæ–¹æ³•é‡è½½çš„æ ‡å¿—ã€‚</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">class</span> <span class="token class-name">Circle</span> <span class="token keyword">extends</span> <span class="token class-name">Shape</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">draw</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Circle.draw()&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">draw</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Circle.draw()&quot;</span> <span class="token operator">+</span> i<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><figure><img src="/Computer-Science-Learn-Notes/assets/image-20220618172249142-51409e37.png" alt="image-20220618172249142" tabindex="0" loading="lazy"><figcaption>image-20220618172249142</figcaption></figure><p>æ€»ç»“ä¸€ä¸‹æ–¹æ³•é‡è½½å’Œé‡å†™ï¼š</p><table><thead><tr><th style="text-align:center;"></th><th style="text-align:center;">æ–¹æ³•é‡è½½</th><th style="text-align:center;">æ–¹æ³•é‡å†™</th></tr></thead><tbody><tr><td style="text-align:center;">æ–¹æ³•å</td><td style="text-align:center;">ç›¸åŒ</td><td style="text-align:center;">ç›¸åŒ</td></tr><tr><td style="text-align:center;">å‚æ•°åˆ—è¡¨</td><td style="text-align:center;">å¿…é¡»ä¸åŒ</td><td style="text-align:center;">å¿…é¡»ç›¸åŒ</td></tr><tr><td style="text-align:center;">è¿”å›ç±»å‹</td><td style="text-align:center;">å¯ä»¥ä¸åŒ</td><td style="text-align:center;">å­ç±»æ–¹æ³•çš„è¿”å›ç±»å‹å¯ä»¥æ˜¯åŸçˆ¶ç±»æ–¹æ³•è¿”å›ç±»å‹çš„å­ç±»å‹</td></tr><tr><td style="text-align:center;">è®¿é—®ä¿®é¥°ç¬¦</td><td style="text-align:center;">å¯ä»¥ä¸åŒ</td><td style="text-align:center;">å­ç±»ä¸èƒ½åšæ›´ä¸¥æ ¼çš„é™åˆ¶ï¼ˆå¯ä»¥é™ä½é™åˆ¶ï¼‰</td></tr></tbody></table><h4 id="main-æ–¹æ³•æ˜¯å¦å¯ä»¥é‡è½½" tabindex="-1"><a class="header-anchor" href="#main-æ–¹æ³•æ˜¯å¦å¯ä»¥é‡è½½" aria-hidden="true">#</a> main æ–¹æ³•æ˜¯å¦å¯ä»¥é‡è½½</h4><p>IBM æ—©äº›å¹´å‡ºè¿‡è¿™æ–¹é¢çš„é¢˜ï¼Œè€ƒå€’äº†ä¸€ç‰‡äººã€‚é¦–å…ˆï¼Œç­”æ¡ˆæ˜¯è‚¯å®šçš„ï¼Œmain æ—¢ç„¶ä½œä¸ºä¸€ä¸ªæ–¹æ³•ï¼Œé‚£å®ƒå½“ç„¶å¯ä»¥è¢«é‡è½½ã€‚</p><p>ä½†æ˜¯ï¼Œ<strong>å¦‚æœæ˜¯ä½œä¸ºç¨‹åºçš„å…¥å£ï¼Œé‚£ä¹ˆ main å‡½æ•°åªæœ‰ä¸€ç§å†™æ³•ï¼ŒJava è™šæ‹Ÿæœºåœ¨è¿è¡Œçš„æ—¶å€™åªä¼šè°ƒç”¨å¸¦æœ‰å‚æ•°æ˜¯ String æ•°ç»„çš„é‚£ä¸ª <code>main()</code> æ–¹æ³•</strong>ï¼Œè€Œå…¶ä»–é‡è½½çš„å†™æ³•è™šæ‹Ÿæœºæ˜¯ä¸è®¤çš„ï¼Œåªèƒ½äººä¸ºçš„è°ƒç”¨ã€‚</p><p>ä¸¾ä¸ªä¾‹å­ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">class</span> <span class="token class-name">Test</span> <span class="token punctuation">{</span>
	<span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token function">main</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;é‡è½½çš„ main æ–¹æ³•&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è¯¥ç¨‹åºè¿è¡Œç»“æœå¦‚ä¸‹ï¼š</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>é‡è½½çš„ main æ–¹æ³•
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>å¯ä»¥çœ‹å‡ºç¬¬ä¸€ä¸ª main æ–¹æ³•æ­£å¸¸è°ƒç”¨äº†é‡è½½çš„ç¬¬äºŒä¸ª main æ–¹æ³•ï¼Œå³ main æ–¹æ³•èƒ½å¤Ÿè¢«å®Œç¾é‡è½½ã€‚ä½†æ˜¯ç¨‹åºçš„å…¥å£ä»ç„¶æ˜¯ç¬¬ä¸€ä¸ª main æ–¹æ³•å³å‚æ•°ä¸º String æ•°ç»„ã€‚</p><figure><img src="/Computer-Science-Learn-Notes/assets/image-20220618172317736-ef85ff44.png" alt="image-20220618172317736" tabindex="0" loading="lazy"><figcaption>image-20220618172317736</figcaption></figure><h3 id="æ„é€ å™¨-constructor-æ˜¯å¦å¯è¢«é‡å†™-override" tabindex="-1"><a class="header-anchor" href="#æ„é€ å™¨-constructor-æ˜¯å¦å¯è¢«é‡å†™-override" aria-hidden="true">#</a> æ„é€ å™¨ï¼ˆconstructorï¼‰æ˜¯å¦å¯è¢«é‡å†™ï¼ˆoverrideï¼‰ï¼Ÿ</h3><p>æ„é€ å™¨ä¸èƒ½è¢«ç»§æ‰¿ï¼Œå› æ­¤ä¸èƒ½è¢«é‡å†™ï¼Œä½†å¯ä»¥è¢«é‡è½½</p><h3 id="java-ä¸­æ“ä½œå­—ç¬¦ä¸²éƒ½æœ‰å“ªäº›ç±»-å®ƒä»¬ä¹‹é—´æœ‰ä»€ä¹ˆåŒºåˆ«" tabindex="-1"><a class="header-anchor" href="#java-ä¸­æ“ä½œå­—ç¬¦ä¸²éƒ½æœ‰å“ªäº›ç±»-å®ƒä»¬ä¹‹é—´æœ‰ä»€ä¹ˆåŒºåˆ«" aria-hidden="true">#</a> Java ä¸­æ“ä½œå­—ç¬¦ä¸²éƒ½æœ‰å“ªäº›ç±»ï¼Ÿå®ƒä»¬ä¹‹é—´æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ</h3><p>æ“ä½œå­—ç¬¦ä¸²çš„ç±»æœ‰ï¼š<strong>Stringã€StringBufferã€StringBuilder</strong>ã€‚</p><p>ç¬¬ä¸€ç‚¹: å¯å˜å’Œé€‚ç”¨èŒƒå›´ã€‚Stringå¯¹è±¡æ˜¯ä¸å¯å˜çš„ï¼Œè€ŒStringBufferå’ŒStringBuilderæ˜¯å¯å˜å­—ç¬¦åºåˆ—ã€‚æ¯æ¬¡å¯¹Stringçš„æ“ä½œç›¸å½“äºç”Ÿæˆä¸€ä¸ªæ–°çš„Stringå¯¹è±¡ï¼Œè€Œå¯¹StringBufferå’ŒStringBuilderçš„æ“ä½œæ˜¯å¯¹å¯¹è±¡æœ¬èº«çš„æ“ä½œï¼Œè€Œä¸ä¼šç”Ÿæˆæ–°çš„å¯¹è±¡ï¼Œæ‰€ä»¥å¯¹äºé¢‘ç¹æ”¹å˜å†…å®¹çš„å­—ç¬¦ä¸²é¿å…ä½¿ç”¨Stringï¼Œå› ä¸ºé¢‘ç¹çš„ç”Ÿæˆå¯¹è±¡å°†ä¼šå¯¹ç³»ç»Ÿæ€§èƒ½äº§ç”Ÿå½±å“ã€‚</p><p>ç¬¬äºŒç‚¹: çº¿ç¨‹å®‰å…¨ã€‚Stringç”±äºæœ‰finalä¿®é¥°ï¼Œæ˜¯immutableçš„ï¼Œå®‰å…¨æ€§æ˜¯ç®€å•è€Œçº¯ç²¹çš„ã€‚StringBuilderå’ŒStringBufferçš„åŒºåˆ«åœ¨äºStringBuilderä¸ä¿è¯åŒæ­¥ï¼Œä¹Ÿå°±æ˜¯è¯´å¦‚æœéœ€è¦çº¿ç¨‹å®‰å…¨éœ€è¦ä½¿ç”¨StringBufferï¼Œä¸éœ€è¦åŒæ­¥çš„StringBuilderæ•ˆç‡æ›´é«˜</p><table><thead><tr><th style="text-align:center;"></th><th style="text-align:center;">å¯å˜æ€§</th><th>çº¿ç¨‹å®‰å…¨</th></tr></thead><tbody><tr><td style="text-align:center;">String</td><td style="text-align:center;">ä¸å¯å˜</td><td>å› ä¸ºä¸å¯å˜ï¼Œæ‰€ä»¥æ˜¯çº¿ç¨‹å®‰å…¨çš„</td></tr><tr><td style="text-align:center;">StringBuffer</td><td style="text-align:center;">å¯å˜</td><td>çº¿ç¨‹å®‰å…¨çš„ï¼Œå› ä¸ºå…¶å†…éƒ¨å¤§å¤šæ•°æ–¹æ³•éƒ½ä½¿ç”¨ <code>synchronized</code>è¿›è¡ŒåŒæ­¥ã€‚å…¶æ•ˆç‡è¾ƒä½</td></tr><tr><td style="text-align:center;">StringBuilder</td><td style="text-align:center;">å¯å˜</td><td>ä¸æ˜¯çº¿ç¨‹å®‰å…¨çš„ï¼Œå› ä¸ºæ²¡æœ‰ä½¿ç”¨ <code>synchronized</code>è¿›è¡ŒåŒæ­¥ï¼Œè¿™ä¹Ÿæ˜¯å…¶æ•ˆç‡é«˜äº StringBuffer çš„åŸå› ã€‚å•çº¿ç¨‹ä¸‹ï¼Œä¼˜å…ˆè€ƒè™‘ä½¿ç”¨ StringBuilderã€‚</td></tr></tbody></table><h3 id="string-str-i-å’Œstring-str-new-string-1-ä¸€æ ·å—" tabindex="-1"><a class="header-anchor" href="#string-str-i-å’Œstring-str-new-string-1-ä¸€æ ·å—" aria-hidden="true">#</a> String str = &quot;i&quot; å’ŒString str = new String(&quot;1&quot;)â¼€æ ·å—ï¼Ÿ</h3><p>ä¸â¼€æ ·ï¼Œå› ä¸ºå†…å­˜çš„åˆ†é…â½…å¼ä¸â¼€æ ·ã€‚String str=&quot;i&quot;çš„â½…å¼ï¼ŒJVMä¼šå°†å…¶åˆ†é…åˆ°å¸¸é‡æ± ä¸­ï¼›â½½String str=new String(&quot;i&quot;)ï¼ŒJVMä¼šå°†å…¶åˆ†é…åˆ°å †å†…å­˜ä¸­ã€‚</p><h3 id="ä»€ä¹ˆæ˜¯åºåˆ—åŒ–ååºåˆ—åŒ–" tabindex="-1"><a class="header-anchor" href="#ä»€ä¹ˆæ˜¯åºåˆ—åŒ–ååºåˆ—åŒ–" aria-hidden="true">#</a> ä»€ä¹ˆæ˜¯åºåˆ—åŒ–ååºåˆ—åŒ–?</h3><p>å¦‚æœæˆ‘ä»¬éœ€è¦æŒä¹…åŒ– Java å¯¹è±¡æ¯”å¦‚å°† Java å¯¹è±¡ä¿å­˜åœ¨æ–‡ä»¶ä¸­ï¼Œæˆ–è€…åœ¨ç½‘ç»œä¼ è¾“ Java å¯¹è±¡ï¼Œè¿™äº›åœºæ™¯éƒ½éœ€è¦ç”¨åˆ°åºåˆ—åŒ–ã€‚</p><p>ç®€å•æ¥è¯´ï¼š</p><ul><li><strong>åºåˆ—åŒ–</strong>ï¼š å°†æ•°æ®ç»“æ„æˆ–å¯¹è±¡è½¬æ¢æˆäºŒè¿›åˆ¶å­—èŠ‚æµçš„è¿‡ç¨‹</li><li><strong>ååºåˆ—åŒ–</strong>ï¼šå°†åœ¨åºåˆ—åŒ–è¿‡ç¨‹ä¸­æ‰€ç”Ÿæˆçš„äºŒè¿›åˆ¶å­—èŠ‚æµè½¬æ¢æˆæ•°æ®ç»“æ„æˆ–è€…å¯¹è±¡çš„è¿‡ç¨‹</li></ul><p>å¯¹äº Java è¿™ç§é¢å‘å¯¹è±¡ç¼–ç¨‹è¯­è¨€æ¥è¯´ï¼Œæˆ‘ä»¬åºåˆ—åŒ–çš„éƒ½æ˜¯å¯¹è±¡ï¼ˆObjectï¼‰ä¹Ÿå°±æ˜¯å®ä¾‹åŒ–åçš„ç±»(Class)ï¼Œä½†æ˜¯åœ¨ C++è¿™ç§åŠé¢å‘å¯¹è±¡çš„è¯­è¨€ä¸­ï¼Œstruct(ç»“æ„ä½“)å®šä¹‰çš„æ˜¯æ•°æ®ç»“æ„ç±»å‹ï¼Œè€Œ class å¯¹åº”çš„æ˜¯å¯¹è±¡ç±»å‹ã€‚</p><p>ç»´åŸºç™¾ç§‘æ˜¯å¦‚æ˜¯ä»‹ç»åºåˆ—åŒ–çš„ï¼š</p><blockquote><p><strong>åºåˆ—åŒ–</strong>ï¼ˆserializationï¼‰åœ¨è®¡ç®—æœºç§‘å­¦çš„æ•°æ®å¤„ç†ä¸­ï¼Œæ˜¯æŒ‡å°†æ•°æ®ç»“æ„æˆ–å¯¹è±¡çŠ¶æ€è½¬æ¢æˆå¯å–ç”¨æ ¼å¼ï¼ˆä¾‹å¦‚å­˜æˆæ–‡ä»¶ï¼Œå­˜äºç¼“å†²ï¼Œæˆ–ç»ç”±ç½‘ç»œä¸­å‘é€ï¼‰ï¼Œä»¥ç•™å¾…åç»­åœ¨ç›¸åŒæˆ–å¦ä¸€å°è®¡ç®—æœºç¯å¢ƒä¸­ï¼Œèƒ½æ¢å¤åŸå…ˆçŠ¶æ€çš„è¿‡ç¨‹ã€‚ä¾ç…§åºåˆ—åŒ–æ ¼å¼é‡æ–°è·å–å­—èŠ‚çš„ç»“æœæ—¶ï¼Œå¯ä»¥åˆ©ç”¨å®ƒæ¥äº§ç”Ÿä¸åŸå§‹å¯¹è±¡ç›¸åŒè¯­ä¹‰çš„å‰¯æœ¬ã€‚å¯¹äºè®¸å¤šå¯¹è±¡ï¼Œåƒæ˜¯ä½¿ç”¨å¤§é‡å¼•ç”¨çš„å¤æ‚å¯¹è±¡ï¼Œè¿™ç§åºåˆ—åŒ–é‡å»ºçš„è¿‡ç¨‹å¹¶ä¸å®¹æ˜“ã€‚é¢å‘å¯¹è±¡ä¸­çš„å¯¹è±¡åºåˆ—åŒ–ï¼Œå¹¶ä¸æ¦‚æ‹¬ä¹‹å‰åŸå§‹å¯¹è±¡æ‰€å…³ç³»çš„å‡½æ•°ã€‚è¿™ç§è¿‡ç¨‹ä¹Ÿç§°ä¸ºå¯¹è±¡ç¼–ç»„ï¼ˆmarshallingï¼‰ã€‚ä»ä¸€ç³»åˆ—å­—èŠ‚æå–æ•°æ®ç»“æ„çš„åå‘æ“ä½œï¼Œæ˜¯ååºåˆ—åŒ–ï¼ˆä¹Ÿç§°ä¸ºè§£ç¼–ç»„ã€deserializationã€unmarshallingï¼‰ã€‚</p></blockquote><p>ç»¼ä¸Šï¼š<strong>åºåˆ—åŒ–çš„ä¸»è¦ç›®çš„æ˜¯é€šè¿‡ç½‘ç»œä¼ è¾“å¯¹è±¡æˆ–è€…è¯´æ˜¯å°†å¯¹è±¡å­˜å‚¨åˆ°æ–‡ä»¶ç³»ç»Ÿã€æ•°æ®åº“ã€å†…å­˜ä¸­ã€‚</strong></p><figure><img src="/Computer-Science-Learn-Notes/assets/image-20220404155706856-ab4fe293.png" alt="image-20220620170922943" tabindex="0" loading="lazy"><figcaption>image-20220620170922943</figcaption></figure><h3 id="final-finally-finalizeçš„åŒºåˆ«" tabindex="-1"><a class="header-anchor" href="#final-finally-finalizeçš„åŒºåˆ«" aria-hidden="true">#</a> final finally finalizeçš„åŒºåˆ«</h3><ul><li>finalå¯ä»¥ä¿®é¥°ç±»ã€å˜é‡ã€â½…æ³•ï¼Œä¿®é¥°ç±»è¡¨ç¤ºè¯¥ç±»ä¸èƒ½è¢«ç»§æ‰¿ã€ä¿®é¥°â½…æ³•è¡¨ç¤ºè¯¥â½…æ³•ä¸èƒ½è¢«é‡å†™ã€ä¿®é¥°å˜é‡è¡¨ç¤ºè¯¥å˜é‡æ˜¯â¼€ä¸ªå¸¸é‡ä¸èƒ½è¢«é‡æ–°èµ‹å€¼ã€‚</li><li>finallyâ¼€èˆ¬ä½œâ½¤åœ¨try-catchä»£ç å—ä¸­ï¼Œåœ¨å¤„ç†å¼‚å¸¸çš„æ—¶å€™ï¼Œé€šå¸¸æˆ‘ä»¬å°†â¼€å®šè¦æ‰§â¾çš„ä»£ç â½…æ³•finallyä»£ç å—ä¸­ï¼Œè¡¨ç¤ºä¸ç®¡æ˜¯å¦å‡ºç°å¼‚å¸¸ï¼Œè¯¥ä»£ç å—éƒ½ä¼šæ‰§â¾ï¼Œâ¼€èˆ¬â½¤æ¥å­˜æ”¾â¼€äº›å…³é—­èµ„æºçš„ä»£ç ã€‚</li></ul><blockquote><p>âš ï¸ç‰¹æ®Šæƒ…å†µï¼šå½“finallyä¸­åŒ…å«return</p><figure><img src="/Computer-Science-Learn-Notes/assets/image-20220619143704353-6081c8fd.png" alt="image-20220619143704353" tabindex="0" loading="lazy"><figcaption>image-20220619143704353</figcaption></figure></blockquote><ul><li>finalizeæ˜¯â¼€ä¸ªâ½…æ³•ï¼Œå±äºObjectç±»çš„â¼€ä¸ªâ½…æ³•ï¼Œâ½½Objectç±»æ˜¯æ‰€æœ‰ç±»çš„â½—ç±»ï¼Œè¯¥â½…æ³•â¼€èˆ¬ç”±åƒåœ¾å›æ”¶å™¨æ¥è°ƒâ½¤ï¼Œå½“æˆ‘ä»¬è°ƒâ½¤System.gc()â½…æ³•çš„æ—¶å€™ï¼Œç”±åƒåœ¾å›æ”¶å™¨è°ƒâ½¤finalize()ï¼Œå›æ”¶åƒåœ¾ï¼Œâ¼€ä¸ªå¯¹è±¡æ˜¯å¦å¯å›æ”¶çš„æœ€ååˆ¤æ–­ã€‚</li></ul><blockquote><p>âš ï¸æ³¨ï¼š</p><ul><li>Java è¯­è¨€æä¾›äº†å¯¹è±¡ç»ˆæ­¢ï¼ˆfinalizationï¼‰æœºåˆ¶æ¥å…è®¸å¼€å‘äººå‘˜æä¾›å¯¹è±¡è¢«é”€æ¯ä¹‹å‰çš„è‡ªå®šä¹‰å¤„ç†é€»è¾‘ã€‚</li><li>å½“åƒåœ¾å›æ”¶å™¨å‘ç°æ²¡æœ‰å¼•ç”¨æŒ‡å‘ä¸€ä¸ªå¯¹è±¡ï¼Œå³ï¼šåƒåœ¾å›æ”¶æ­¤å¯¹è±¡ä¹‹å‰ï¼Œæ€»ä¼šå…ˆè°ƒç”¨è¿™ä¸ªå¯¹è±¡çš„ <code>finalize( )</code> æ–¹æ³•ã€‚</li><li><code>finalize( )</code> æ–¹æ³•å…è®¸åœ¨å­ç±»ä¸­è¢«é‡å†™ï¼Œç”¨äºåœ¨å¯¹è±¡è¢«å›æ”¶æ—¶è¿›è¡Œèµ„æºé‡Šæ”¾ã€‚é€šå¸¸åœ¨è¿™ä¸ªæ–¹æ³•ä¸­è¿›è¡Œä¸€äº›èµ„æºé‡Šæ”¾å’Œæ¸…ç†çš„å·¥ä½œï¼Œæ¯”å¦‚å…³é—­æ–‡ä»¶ã€å¥—æ¥å­—å’Œæ•°æ®åº“è¿æ¥ç­‰ã€‚</li><li><strong>æ°¸è¿œä¸è¦ä¸»åŠ¨è°ƒç”¨æŸä¸ªå¯¹è±¡çš„ finalize ( ) æ–¹æ³•ï¼Œåº”è¯¥äº¤ç»™åƒåœ¾å›æ”¶æœºåˆ¶è°ƒç”¨</strong>ã€‚ç†ç”±åŒ…æ‹¬ä¸‹é¢ä¸‰ç‚¹ï¼š <ul><li>åœ¨ <code>finalize( )</code> æ‰§è¡Œæ—¶å¯èƒ½ä¼šå¯¼è‡´å¯¹è±¡å¤æ´»ã€‚</li><li><code>finalize( )</code> æ–¹æ³•çš„æ‰§è¡Œæ—¶é—´æ˜¯æ²¡æœ‰ä¿éšœçš„ï¼Œå®ƒå®Œå…¨ç”± GC çº¿ç¨‹å†³å®šï¼Œæç«¯æƒ…å†µä¸‹ï¼Œè‹¥ä¸å‘ç”Ÿ GCï¼Œåˆ™ <code>finalize( )</code> æ–¹æ³•å°†æ²¡æœ‰æ‰§è¡Œæœºä¼šã€‚</li><li>ä¸€ä¸ªç³Ÿç³•çš„ <code>finalize( )</code> ä¼šä¸¥é‡å½±å“ GC çš„æ€§èƒ½ã€‚</li></ul></li><li>ä»åŠŸèƒ½ä¸Šæ¥è¯´ï¼Œ<code>finalize( )</code> æ–¹æ³•ä¸ C++ ä¸­çš„ææ„å‡½æ•°æ¯”è¾ƒç›¸ä¼¼ï¼Œä½†æ˜¯ Java é‡‡ç”¨çš„æ˜¯åŸºäºåƒåœ¾å›æ”¶å™¨çš„è‡ªåŠ¨å†…å­˜ç®¡ç†æœºåˆ¶ï¼Œæ‰€ä»¥ <code>finalize( )</code> æ–¹æ³•åœ¨æœ¬è´¨ä¸Šä¸åŒäº C++ ä¸­çš„ææ„å‡½æ•°ã€‚</li><li>ç”±äº <code>finalize( )</code> æ–¹æ³•çš„å­˜åœ¨ï¼Œè™šæ‹Ÿæœºä¸­çš„å¯¹è±¡ä¸€èˆ¬å¤„äºä¸‰ç§å¯èƒ½çš„çŠ¶æ€</li></ul></blockquote><h3 id="â­javaæœ‰å“ªäº›æ•°æ®ç±»å‹" tabindex="-1"><a class="header-anchor" href="#â­javaæœ‰å“ªäº›æ•°æ®ç±»å‹" aria-hidden="true">#</a> â­Javaæœ‰å“ªäº›æ•°æ®ç±»å‹</h3><ul><li>ğŸ”¢ æ•°å€¼ï¼šbyteï¼Œshortï¼Œintï¼Œlong</li><li>ğŸ§¿ æµ®ç‚¹ï¼šfloatï¼Œdouble</li><li>ğŸ”£ å­—ç¬¦ï¼šchar</li><li>â˜‘ï¸ å¸ƒå°”ï¼šboolean</li></ul><p>è¿™å…«ç§åŸºæœ¬ç±»å‹éƒ½æœ‰å¯¹åº”çš„åŒ…è£…ç±»åˆ†åˆ«ä¸ºï¼šByteã€Shortã€Integerã€Longã€Floatã€Doubleã€Characterã€Boolean</p><h4 id="åŸºæœ¬ç±»å‹å’ŒåŒ…è£…ç±»å‹çš„åŒºåˆ«" tabindex="-1"><a class="header-anchor" href="#åŸºæœ¬ç±»å‹å’ŒåŒ…è£…ç±»å‹çš„åŒºåˆ«" aria-hidden="true">#</a> åŸºæœ¬ç±»å‹å’ŒåŒ…è£…ç±»å‹çš„åŒºåˆ«ï¼Ÿ</h4><ul><li>åŒ…è£…ç±»å‹ä¸èµ‹å€¼å°±æ˜¯ <code>null</code> ï¼Œè€ŒåŸºæœ¬ç±»å‹æœ‰é»˜è®¤å€¼ä¸”ä¸æ˜¯ <code>null</code>ã€‚</li><li>åŒ…è£…ç±»å‹å¯ç”¨äºæ³›å‹ï¼Œè€ŒåŸºæœ¬ç±»å‹ä¸å¯ä»¥ã€‚</li><li>åŸºæœ¬æ•°æ®ç±»å‹çš„å±€éƒ¨å˜é‡å­˜æ”¾åœ¨ Java è™šæ‹Ÿæœºæ ˆä¸­çš„å±€éƒ¨å˜é‡è¡¨ä¸­ï¼ŒåŸºæœ¬æ•°æ®ç±»å‹çš„æˆå‘˜å˜é‡ï¼ˆæœªè¢« <code>static</code> ä¿®é¥° ï¼‰å­˜æ”¾åœ¨ Java è™šæ‹Ÿæœºçš„å †ä¸­ã€‚åŒ…è£…ç±»å‹å±äºå¯¹è±¡ç±»å‹ï¼Œæˆ‘ä»¬çŸ¥é“å‡ ä¹æ‰€æœ‰å¯¹è±¡å®ä¾‹éƒ½å­˜åœ¨äºå †ä¸­ã€‚</li><li>ç›¸æ¯”äºå¯¹è±¡ç±»å‹ï¼Œ åŸºæœ¬æ•°æ®ç±»å‹å ç”¨çš„ç©ºé—´éå¸¸å°ã€‚</li></ul><p><strong>ä¸ºä»€ä¹ˆè¯´æ˜¯å‡ ä¹æ‰€æœ‰å¯¹è±¡å®ä¾‹å‘¢ï¼Ÿ</strong> è¿™æ˜¯å› ä¸º HotSpot è™šæ‹Ÿæœºå¼•å…¥äº† JIT ä¼˜åŒ–ä¹‹åï¼Œä¼šå¯¹å¯¹è±¡è¿›è¡Œé€ƒé€¸åˆ†æï¼Œå¦‚æœå‘ç°æŸä¸€ä¸ªå¯¹è±¡å¹¶æ²¡æœ‰é€ƒé€¸åˆ°æ–¹æ³•å¤–éƒ¨ï¼Œé‚£ä¹ˆå°±å¯èƒ½é€šè¿‡æ ‡é‡æ›¿æ¢æ¥å®ç°æ ˆä¸Šåˆ†é…ï¼Œè€Œé¿å…å †ä¸Šåˆ†é…å†…å­˜</p><p>âš ï¸æ³¨æ„ ï¼š <strong>åŸºæœ¬æ•°æ®ç±»å‹å­˜æ”¾åœ¨æ ˆä¸­æ˜¯ä¸€ä¸ªå¸¸è§çš„è¯¯åŒºï¼</strong> åŸºæœ¬æ•°æ®ç±»å‹çš„æˆå‘˜å˜é‡å¦‚æœæ²¡æœ‰è¢« <code>static</code> ä¿®é¥°çš„è¯ï¼ˆä¸å»ºè®®è¿™ä¹ˆä½¿ç”¨ï¼Œåº”è¯¥è¦ä½¿ç”¨åŸºæœ¬æ•°æ®ç±»å‹å¯¹åº”çš„åŒ…è£…ç±»å‹ï¼‰ï¼Œå°±å­˜æ”¾åœ¨å †ä¸­ã€‚</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">class</span> <span class="token class-name">BasicTypeVar</span><span class="token punctuation">{</span>
  <span class="token keyword">private</span> <span class="token keyword">int</span> x<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="åŒ…è£…ç±»å‹çš„ç¼“å­˜æœºåˆ¶äº†è§£ä¹ˆ" tabindex="-1"><a class="header-anchor" href="#åŒ…è£…ç±»å‹çš„ç¼“å­˜æœºåˆ¶äº†è§£ä¹ˆ" aria-hidden="true">#</a> åŒ…è£…ç±»å‹çš„ç¼“å­˜æœºåˆ¶äº†è§£ä¹ˆï¼Ÿ</h4><p>Java åŸºæœ¬æ•°æ®ç±»å‹çš„åŒ…è£…ç±»å‹çš„å¤§éƒ¨åˆ†éƒ½ç”¨åˆ°äº†ç¼“å­˜æœºåˆ¶æ¥æå‡æ€§èƒ½ã€‚</p><p><code>Byte</code>,<code>Short</code>,<code>Integer</code>,<code>Long</code> è¿™ 4 ç§åŒ…è£…ç±»é»˜è®¤åˆ›å»ºäº†æ•°å€¼ <strong>[-128ï¼Œ127]</strong> çš„ç›¸åº”ç±»å‹çš„ç¼“å­˜æ•°æ®ï¼Œ<code>Character</code> åˆ›å»ºäº†æ•°å€¼åœ¨ <strong>[0,127]</strong> èŒƒå›´çš„ç¼“å­˜æ•°æ®ï¼Œ<code>Boolean</code> ç›´æ¥è¿”å› <code>True</code> or <code>False</code>ã€‚</p><h4 id="â­ï¸å ç”¨çš„ç©ºé—´å¤§å°" tabindex="-1"><a class="header-anchor" href="#â­ï¸å ç”¨çš„ç©ºé—´å¤§å°" aria-hidden="true">#</a> â­ï¸å ç”¨çš„ç©ºé—´å¤§å°</h4><p>ğŸ‘¨â€ğŸ’»é¢è¯•å®˜ ï¼š å®ƒä»¬çš„é»˜è®¤å€¼å’Œå ç”¨çš„ç©ºé—´å¤§å°çŸ¥é“ä¸ï¼Ÿ</p><p>ğŸ™‹ æˆ‘ ï¼šè¿™ 8 ç§åŸºæœ¬æ•°æ®ç±»å‹çš„é»˜è®¤å€¼ä»¥åŠæ‰€å ç©ºé—´çš„å¤§å°å¦‚ä¸‹ï¼š</p><table><thead><tr><th>åŸºæœ¬ç±»å‹</th><th>ä½æ•°</th><th>å­—èŠ‚</th><th>é»˜è®¤å€¼</th></tr></thead><tbody><tr><td>int</td><td>32</td><td>4</td><td>0</td></tr><tr><td>short</td><td>16</td><td>2</td><td>0</td></tr><tr><td>long</td><td>64</td><td>8</td><td>0L</td></tr><tr><td>byte</td><td>8</td><td>1</td><td>0</td></tr><tr><td>char</td><td>16</td><td>2</td><td>&#39;u0000&#39;</td></tr><tr><td>float</td><td>32</td><td>4</td><td>0f</td></tr><tr><td>double</td><td>64</td><td>8</td><td>0d</td></tr><tr><td>boolean</td><td>1</td><td></td><td>false</td></tr></tbody></table><p>å¦å¤–ï¼Œå¯¹äº booleanï¼Œå®˜æ–¹æ–‡æ¡£æœªæ˜ç¡®å®šä¹‰ï¼Œå®ƒä¾èµ–äº JVM å‚å•†çš„å…·ä½“å®ç°ã€‚é€»è¾‘ä¸Šç†è§£æ˜¯å ç”¨ 1 ä½ï¼Œä½†æ˜¯å®é™…ä¸­ä¼šè€ƒè™‘è®¡ç®—æœºé«˜æ•ˆå­˜å‚¨å› ç´ ã€‚</p><h4 id="java-ä¸­-boolean-å å¤šå°‘å­—èŠ‚" tabindex="-1"><a class="header-anchor" href="#java-ä¸­-boolean-å å¤šå°‘å­—èŠ‚" aria-hidden="true">#</a> Java ä¸­ boolean å å¤šå°‘å­—èŠ‚ï¼Ÿ</h4><p>Oracle å®˜æ–¹æ–‡æ¡£åœ°å€åœ¨æ­¤ï¼š<a href="https://docs.oracle.com/javase/tutorial/java/nutsandbolts/datatypes.html" target="_blank" rel="noopener noreferrer">https://docs.oracle.com/javase/tutorial/java/nutsandbolts/datatypes.html<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><figure><img src="/Computer-Science-Learn-Notes/assets/image-20220706230119388-78ce159e.png" alt="img" tabindex="0" loading="lazy"><figcaption>img</figcaption></figure><p>æ€»å…± 8 å¤§åŸºç¡€æ•°æ®ç±»å‹ï¼Œå…¶ä½™ 7 ä¸ªéƒ½éå¸¸æ˜ç¡®çš„æ ‡æ˜äº†å ç”¨å¤šå°‘å­—èŠ‚ï¼Œåªæœ‰ boolean æ¨¡æ£±ä¸¤å¯ï¼š</p><blockquote><p><strong>boolean</strong>: The <code>boolean</code> data type has only two possible values: <code>true</code> and <code>false</code>. Use this data type for simple flags that track true/false conditions. This data type represents one bit of information, but its &quot;size&quot; isn&#39;t something that&#39;s precisely defined.</p></blockquote><p>ç¿»è¯‘ä¸‹åˆ’çº¿éƒ¨åˆ†ï¼šè¿™ä¸ªæ•°æ®ç±»å‹è¡¨ç¤º 1 bit çš„ä¿¡æ¯ï¼ˆtrue or falseï¼Œç¼–è¯‘åç”¨ 0 æˆ– 1 æ¥è¡¨ç¤ºï¼‰ï¼Œä½†æ˜¯å®ƒçš„ size å¹¶æ²¡æœ‰è¢«ç²¾ç¡®åœ°å®šä¹‰ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œ<strong>ä¸ç®¡å®ƒå å¤šå¤§çš„ç©ºé—´ï¼Œåªæœ‰ 1 ä¸ª bit çš„ä¿¡æ¯æ˜¯æœ‰æ„ä¹‰çš„ã€‚</strong></p><p>äº‹å®ä¸Šï¼Œboolean åˆ°åº•å ç”¨å¤šå°‘å¤§å°çš„ç©ºé—´ï¼Œâ€œIt&#39;s virtual machine dependent.â€ï¼Œ<strong>å®Œå…¨å–å†³äº Java è™šæ‹Ÿæœºæœ¬èº«çš„è®¾è®¡</strong>ã€‚</p><p>ä¸è¿‡æ˜¾ç„¶ boolean æ˜¯è‚¯å®šä¸å¯èƒ½åªå ç”¨ 1 ä¸ª bit çš„ï¼Œæœ€èµ·ç ä¹Ÿæ˜¯ 1 ä¸ª Bytesï¼ˆå­—èŠ‚ï¼‰ï¼Œå› ä¸ºè®¡ç®—æœºå¤„ç†æ•°æ®çš„æœ€å°å•ä½æ˜¯ 1 ä¸ªå­—èŠ‚</p><p>ã€ŠJava è™šæ‹Ÿæœºè§„èŒƒã€‹å¯¹äº boolean åˆ°åº•å ç”¨å¤šå°‘ç©ºé—´æä¾›äº†ä¸€å®šçš„å»ºè®®ï¼ˆåªæ˜¯å»ºè®®ï¼Œå…·ä½“çš„å®ç°ä»ç„¶å–å†³äºæ¯ä¸ªè™šæ‹Ÿæœºæ˜¯å¦æŒ‰ç…§è§„èŒƒæ¥ï¼‰ï¼Œå®˜æ–¹æ–‡æ¡£åœ¨è¿™é‡Œï¼š<a href="https://docs.oracle.com/javase/specs/jvms/se8/html/jvms-2.html#jvms-2.3.4" target="_blank" rel="noopener noreferrer">https://docs.oracle.com/javase/specs/jvms/se8/html/jvms-2.html#jvms-2.3.4<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><blockquote><p>Although the Java Virtual Machine defines a <code>boolean</code> type, it only provides very limited support for it. There are no Java Virtual Machine instructions solely dedicated to operations on <code>boolean</code> values. Instead, expressions in the Java programming language that operate on <code>boolean</code> values are compiled to use values of the Java Virtual Machine <code>int</code> data type.</p></blockquote><p>å°½ç®¡ Java è™šæ‹Ÿæœºå®šä¹‰äº†ä¸€ä¸ªå¸ƒå°”ç±»å‹ï¼Œä½†æ˜¯å®ƒåªæä¾›äº†éå¸¸æœ‰é™çš„æ”¯æŒï¼Œ<strong>å¹¶ã€æ²¡æœ‰ã€‘ä¸“é—¨ç”¨äºå¯¹ã€boolean å€¼ã€‘è¿›è¡Œæ“ä½œçš„ Java è™šæ‹ŸæœºæŒ‡ä»¤</strong>ã€‚ç›¸åï¼Œ<strong>Java ä¸­æ“ä½œ boolean å€¼çš„è¡¨è¾¾å¼è¢«ç¼–è¯‘ä¸ºä½¿ç”¨ int æ•°æ®ç±»å‹çš„å€¼</strong>ã€‚</p><blockquote><p>The Java Virtual Machine does directly support <code>boolean</code> arrays. Its <code>newarray</code> instruction (<code>newarray</code>) enables creation of <code>boolean</code> arrays. Arrays of type <code>boolean</code> are accessed and modified using the <code>byte</code> array instructions <code>baload</code> and <code>bastore</code>.</p></blockquote><p>ä¸è¿‡ï¼Œ<strong>Java è™šæ‹Ÿæœºã€ç›´æ¥æ”¯æŒã€‘ã€boolean æ•°ç»„ã€‘</strong>ï¼Œé€šè¿‡ <code>newarray</code> æŒ‡ä»¤åˆ›å»º boolean æ•°ç»„ï¼Œç„¶åé€šè¿‡ byte æ•°ç»„æŒ‡ä»¤ <code>baload</code> å’Œ <code>bastore</code> æ¥è®¿é—®å’Œä¿®æ”¹ boolean æ•°ç»„ã€‚</p><ul><li><code>newarray</code> æŒ‡ä»¤ï¼šCreate new array</li><li><code>baload</code> æŒ‡ä»¤ï¼šLoad <code>byte</code> or <code>boolean</code> from array</li><li><code>bastore</code> æŒ‡ä»¤ï¼šStore into <code>byte</code> or <code>boolean</code> array</li></ul><blockquote><p>In Oracleâ€™s Java Virtual Machine implementation, <code>boolean</code> arrays in the Java programming language are encoded as Java Virtual Machine <code>byte</code> arrays, using 8 bits per <code>boolean</code> element.</p></blockquote><p><strong>åœ¨ Oracle çš„ Java è™šæ‹Ÿæœºå®ç°ä¸­ï¼ŒJava ä¸­çš„ boolean æ•°ç»„è¢«ç¼–ç ä¸º byte æ•°ç»„ï¼Œæ¯ä¸ª boolean å…ƒç´ ä½¿ç”¨ 1 å­—èŠ‚ï¼ˆ8 bitï¼‰</strong>ã€‚</p><p>æ€»ç»“ä¸‹ï¼ŒJava è™šæ‹Ÿæœºè§„èŒƒæè®®ï¼š</p><ul><li>å¦‚æœ boolean æ˜¯ â€œå•ç‹¬ä½¿ç”¨â€ï¼šboolean è¢«ç¼–è¯‘ä¸º int ç±»å‹ï¼Œå  <strong>4</strong> ä¸ªå­—èŠ‚</li><li>å¦‚æœboolean æ˜¯ä»¥ â€œboolean æ•°ç»„â€ çš„å½¢å¼ä½¿ç”¨ï¼šboolean å  <strong>1</strong> ä¸ªå­—èŠ‚ï¼ŒJava è™šæ‹Ÿæœºç›´æ¥æ”¯æŒ boolean æ•°ç»„ï¼Œé€šè¿‡ <code>newarray</code> æŒ‡ä»¤åˆ›å»º boolean æ•°ç»„ï¼Œç„¶åé€šè¿‡ byte æ•°ç»„æŒ‡ä»¤ <code>baload</code> å’Œ <code>bastore</code> æ¥è®¿é—®å’Œä¿®æ”¹ boolean æ•°ç»„</li></ul><h3 id="float-f-3-4-æ˜¯å¦æ­£ç¡®" tabindex="-1"><a class="header-anchor" href="#float-f-3-4-æ˜¯å¦æ­£ç¡®" aria-hidden="true">#</a> float f=3.4;æ˜¯å¦æ­£ç¡®ï¼Ÿ</h3><p>ä¸æ­£ç¡®ï¼Œèµ‹å€¼è¿ç®—ç¬¦ &quot;=&quot; å·¦å³ä¸¤è¾¹çš„ç²¾åº¦ç±»å‹ä¸åŒ¹é…ã€‚</p><p>Javaä¸­ï¼Œæœ‰å°æ•°ç‚¹çš„é»˜è®¤è¢«å­˜å‚¨ä¸ºdoubleç±»å‹ï¼Œå³åŒç²¾åº¦ï¼›è€Œfloatç±»å‹çš„å˜é‡ä¸ºå•ç²¾åº¦ã€‚</p><p>å¯ä»¥ä½¿ç”¨å¼ºè½¬æˆ–åŠ fï¼Œå³ float f = (folat)3.4ï¼Œfloat f = 3.4fã€‚</p><p>æµ‹è¯•ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">float</span> f <span class="token operator">=</span> <span class="token number">3.14222222222222222222222</span><span class="token punctuation">;</span>
    <span class="token keyword">double</span> d <span class="token operator">=</span> <span class="token number">3.4</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>f<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>d<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span>
<span class="token number">1.</span>java<span class="token operator">:</span><span class="token number">3</span><span class="token operator">:</span> é”™è¯¯<span class="token operator">:</span> ä¸å…¼å®¹çš„ç±»å‹<span class="token operator">:</span> ä»<span class="token keyword">double</span>è½¬æ¢åˆ°<span class="token keyword">float</span>å¯èƒ½ä¼šæœ‰æŸå¤±
<span class="token keyword">float</span> f <span class="token operator">=</span> <span class="token number">3.14222222222222222222222</span><span class="token punctuation">;</span>
      <span class="token operator">^</span>
<span class="token number">1</span> ä¸ªé”™è¯¯
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>æ‹“å±•ï¼šInteger a = 1000ï¼ŒInteger b = 1000ï¼Œa==b çš„ç»“æœæ˜¯ä»€ä¹ˆï¼Ÿé‚£å¦‚æœ aï¼Œb éƒ½ä¸º1ï¼Œç»“æœåˆæ˜¯ä»€ä¹ˆï¼Ÿ</p></blockquote><p>Integer a = 1000ï¼ŒInteger b = 1000ï¼Œa==b ç»“æœä¸º<strong>false</strong></p><p>Integer a = 1ï¼ŒInteger b = 1ï¼Œa==b ç»“æœä¸º<strong>true</strong></p><p>è¿™é“é¢˜ä¸»è¦è€ƒå¯Ÿ Integer åŒ…è£…ç±»ç¼“å­˜çš„èŒƒå›´,<strong>åœ¨-128~127ä¹‹é—´ä¼šç¼“å­˜èµ·æ¥</strong>,æ¯”è¾ƒçš„æ˜¯ç›´æ¥ç¼“å­˜çš„æ•°æ®,åœ¨æ­¤ä¹‹å¤–æ¯”è¾ƒçš„æ˜¯å¯¹è±¡</p><h3 id="æˆå‘˜å˜é‡ä¸å±€éƒ¨å˜é‡çš„åŒºåˆ«æœ‰å“ªäº›" tabindex="-1"><a class="header-anchor" href="#æˆå‘˜å˜é‡ä¸å±€éƒ¨å˜é‡çš„åŒºåˆ«æœ‰å“ªäº›" aria-hidden="true">#</a> æˆå‘˜å˜é‡ä¸å±€éƒ¨å˜é‡çš„åŒºåˆ«æœ‰å“ªäº›ï¼Ÿ</h3><ol><li>ä»<strong>è¯­æ³•å½¢å¼ä¸Š</strong>çœ‹:æˆå‘˜å˜é‡æ˜¯å±äºç±»çš„ï¼Œè€Œå±€éƒ¨å˜é‡æ˜¯åœ¨æ–¹æ³•ä¸­å®šä¹‰çš„å˜é‡æˆ–æ˜¯æ–¹æ³•çš„å‚æ•°ï¼›æˆå‘˜å˜é‡å¯ä»¥è¢«public,private,staticç­‰ä¿®é¥°ç¬¦æ‰€ä¿®é¥°ï¼Œè€Œ<strong>å±€éƒ¨å˜é‡ä¸èƒ½è¢«è®¿é—®æ§åˆ¶ä¿®é¥°ç¬¦åŠstaticæ‰€ä¿®é¥°</strong>ï¼›ä½†æ˜¯ï¼Œæˆå‘˜å˜é‡å’Œå±€éƒ¨å˜é‡éƒ½èƒ½è¢«finalæ‰€ä¿®é¥°ã€‚</li><li>ä»å˜é‡<strong>åœ¨å†…å­˜ä¸­çš„å­˜å‚¨æ–¹å¼</strong>æ¥çœ‹:å¦‚æœæˆå‘˜å˜é‡æ˜¯ä½¿ç”¨staticä¿®é¥°çš„ï¼Œé‚£ä¹ˆè¿™ä¸ªæˆå‘˜å˜é‡æ˜¯å±äºç±»çš„ï¼Œå¦‚æœæ²¡æœ‰ä½¿ç”¨staticä¿®é¥°ï¼Œè¿™ä¸ªæˆå‘˜å˜é‡æ˜¯å±äºå®ä¾‹çš„ã€‚å¯¹è±¡å­˜äºå †å†…å­˜ï¼Œå¦‚æœå±€éƒ¨å˜é‡ç±»å‹ä¸ºåŸºæœ¬æ•°æ®ç±»å‹ï¼Œé‚£ä¹ˆå­˜å‚¨åœ¨æ ˆå†…å­˜ï¼Œå¦‚æœä¸ºå¼•ç”¨æ•°æ®ç±»å‹ï¼Œé‚£å­˜æ”¾çš„æ˜¯æŒ‡å‘å †å†…å­˜å¯¹è±¡çš„å¼•ç”¨æˆ–è€…æ˜¯æŒ‡å‘å¸¸é‡æ± ä¸­çš„åœ°å€ã€‚</li><li>ä»å˜é‡åœ¨<strong>å†…å­˜ä¸­çš„ç”Ÿå­˜æ—¶é—´ä¸Š</strong>çœ‹:æˆå‘˜å˜é‡æ˜¯å¯¹è±¡çš„ä¸€éƒ¨åˆ†ï¼Œå®ƒéšç€å¯¹è±¡çš„åˆ›å»ºè€Œå­˜åœ¨ï¼Œè€Œå±€éƒ¨å˜é‡éšç€æ–¹æ³•çš„è°ƒç”¨è€Œè‡ªåŠ¨æ¶ˆå¤±ã€‚</li><li>æˆå‘˜å˜é‡<strong>å¦‚æœæ²¡æœ‰è¢«èµ‹åˆå€¼</strong>:åˆ™ä¼šè‡ªåŠ¨ä»¥ç±»å‹çš„é»˜è®¤å€¼è€Œèµ‹å€¼ï¼ˆä¸€ç§æƒ…å†µä¾‹å¤–:è¢«finalä¿®é¥°çš„æˆå‘˜å˜é‡ä¹Ÿå¿…é¡»æ˜¾å¼åœ°èµ‹å€¼ï¼‰ï¼Œè€Œ<strong>å±€éƒ¨å˜é‡åˆ™ä¸ä¼šè‡ªåŠ¨èµ‹å€¼</strong>ã€‚</li></ol><h3 id="â­æ¥å£å’ŒæŠ½è±¡ç±»çš„åŒºåˆ«æ˜¯ä»€ä¹ˆ" tabindex="-1"><a class="header-anchor" href="#â­æ¥å£å’ŒæŠ½è±¡ç±»çš„åŒºåˆ«æ˜¯ä»€ä¹ˆ" aria-hidden="true">#</a> â­æ¥å£å’ŒæŠ½è±¡ç±»çš„åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿ</h3><ol><li>æ¥å£çš„æ–¹æ³•é»˜è®¤æ˜¯publicï¼Œæ‰€æœ‰æ–¹æ³•åœ¨æ¥å£ä¸­ä¸èƒ½æœ‰å®ç°(Java8å¼€å§‹æ¥å£æ–¹æ³•å¯ä»¥æœ‰é»˜è®¤å®ç°ï¼‰ï¼Œè€ŒæŠ½è±¡ç±»å¯ä»¥æœ‰éæŠ½è±¡çš„æ–¹æ³•ã€‚</li><li>æ¥å£ä¸­é™¤äº†staticã€finalå˜é‡ï¼Œä¸èƒ½æœ‰å…¶ä»–å˜é‡ï¼Œè€ŒæŠ½è±¡ç±»ä¸­åˆ™ä¸ä¸€å®šã€‚</li><li>ä¸€ä¸ªç±»å¯ä»¥å®ç°å¤šä¸ªæ¥å£ï¼Œä½†åªèƒ½å®ç°ä¸€ä¸ªæŠ½è±¡ç±»ã€‚æ¥å£è‡ªå·±æœ¬èº«å¯ä»¥é€šè¿‡extendså…³é”®å­—æ‰©å±•å¤šä¸ªæ¥å£ã€‚</li><li>æ¥å£æ–¹æ³•é»˜è®¤ä¿®é¥°ç¬¦æ˜¯publicï¼ŒæŠ½è±¡æ–¹æ³•å¯ä»¥æœ‰publicã€protectedå’Œdefaultè¿™äº›ä¿®é¥°ç¬¦ï¼ˆæŠ½è±¡æ–¹æ³•å°±æ˜¯ä¸ºäº†è¢«é‡å†™æ‰€ä»¥ä¸èƒ½ä½¿ç”¨privateå…³é”®å­—ä¿®é¥°ï¼ï¼‰ã€‚</li><li>ä»è®¾è®¡å±‚é¢æ¥è¯´ï¼ŒæŠ½è±¡æ˜¯å¯¹ç±»çš„æŠ½è±¡ï¼Œæ˜¯ä¸€ç§æ¨¡æ¿è®¾è®¡ï¼Œè€Œæ¥å£æ˜¯å¯¹è¡Œä¸ºçš„æŠ½è±¡ï¼Œæ˜¯ä¸€ç§è¡Œä¸ºçš„è§„èŒƒã€‚</li></ol><h3 id="ğŸŒ java-æ³›å‹äº†è§£ä¹ˆ-æ³›å‹çš„ä½œç”¨-ä»€ä¹ˆæ˜¯ç±»å‹æ“¦é™¤" tabindex="-1"><a class="header-anchor" href="#ğŸŒ java-æ³›å‹äº†è§£ä¹ˆ-æ³›å‹çš„ä½œç”¨-ä»€ä¹ˆæ˜¯ç±»å‹æ“¦é™¤" aria-hidden="true">#</a> ğŸŒ Java æ³›å‹äº†è§£ä¹ˆï¼Ÿæ³›å‹çš„ä½œç”¨ï¼Ÿä»€ä¹ˆæ˜¯ç±»å‹æ“¦é™¤ï¼Ÿ</h3><p><strong>Java æ³›å‹ï¼ˆGenericsï¼‰</strong> æ˜¯ JDK 5 ä¸­å¼•å…¥çš„ä¸€ä¸ªæ–°ç‰¹æ€§ã€‚ä½¿ç”¨æ³›å‹å‚æ•°ï¼Œå¯ä»¥å¢å¼ºä»£ç çš„å¯è¯»æ€§ä»¥åŠç¨³å®šæ€§ã€‚</p><p>ç¼–è¯‘å™¨å¯ä»¥å¯¹æ³›å‹å‚æ•°è¿›è¡Œæ£€æµ‹ï¼Œå¹¶ä¸”é€šè¿‡æ³›å‹å‚æ•°å¯ä»¥æŒ‡å®šä¼ å…¥çš„å¯¹è±¡ç±»å‹ã€‚æ¯”å¦‚ <code>ArrayList&lt;Persion&gt; persons = new ArrayList&lt;Persion&gt;()</code> è¿™è¡Œä»£ç å°±æŒ‡æ˜äº†è¯¥ <code>ArrayList</code> å¯¹è±¡åªèƒ½ä¼ å…¥ <code>Persion</code> å¯¹è±¡ï¼Œå¦‚æœä¼ å…¥å…¶ä»–ç±»å‹çš„å¯¹è±¡å°±ä¼šæŠ¥é”™ã€‚</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">E</span><span class="token punctuation">&gt;</span></span> <span class="token keyword">extends</span> <span class="token class-name">AbstractList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">E</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>å¹¶ä¸”ï¼ŒåŸç”Ÿ <code>List</code> è¿”å›ç±»å‹æ˜¯ <code>Object</code> ï¼Œéœ€è¦æ‰‹åŠ¨è½¬æ¢ç±»å‹æ‰èƒ½ä½¿ç”¨ï¼Œä½¿ç”¨æ³›å‹åç¼–è¯‘å™¨è‡ªåŠ¨è½¬æ¢ã€‚</p><p>æ³›å‹ä¸€èˆ¬æœ‰ä¸‰ç§ä½¿ç”¨æ–¹å¼:<strong>æ³›å‹ç±»</strong>ã€<strong>æ³›å‹æ¥å£</strong>ã€<strong>æ³›å‹æ–¹æ³•</strong>ã€‚</p><p>Javaæ³›å‹çš„å®ç°é‡‡å–äº†â€œä¼ªæ³›å‹â€çš„ç­–ç•¥ï¼Œå³Javaåœ¨è¯­æ³•ä¸Šæ”¯æŒæ³›å‹ï¼Œä½†æ˜¯<strong>åœ¨ç¼–è¯‘é˜¶æ®µä¼šè¿›è¡Œæ‰€è°“çš„â€œç±»å‹æ“¦é™¤â€ï¼ˆType Erasureï¼‰</strong>ï¼Œå°†æ‰€æœ‰çš„æ³›å‹è¡¨ç¤ºï¼ˆå°–æ‹¬å·ä¸­çš„å†…å®¹ï¼‰éƒ½æ›¿æ¢ä¸ºå…·ä½“çš„ç±»å‹ï¼ˆå…¶å¯¹åº”çš„åŸç”Ÿæ€ç±»å‹ï¼‰ï¼Œå°±åƒå®Œå…¨æ²¡æœ‰æ³›å‹ä¸€æ ·ã€‚ç†è§£<strong>ç±»å‹æ“¦é™¤</strong>å¯¹äºç”¨å¥½æ³›å‹æ˜¯å¾ˆæœ‰å¸®åŠ©çš„ï¼Œå°¤å…¶æ˜¯ä¸€äº›çœ‹èµ·æ¥â€œç–‘éš¾æ‚ç—‡â€çš„é—®é¢˜ï¼Œå¼„æ˜ç™½äº†ç±»å‹æ“¦é™¤ä¹Ÿå°±è¿åˆƒè€Œè§£äº†ã€‚</p><p>æ³›å‹çš„ç±»å‹æ“¦é™¤åŸåˆ™æ˜¯ï¼š</p><ul><li>æ¶ˆé™¤ç±»å‹å‚æ•°å£°æ˜ï¼Œå³åˆ é™¤ <code>&lt;&gt;</code>åŠå…¶åŒ…å›´çš„éƒ¨åˆ†ã€‚</li><li>æ ¹æ®ç±»å‹å‚æ•°çš„ä¸Šä¸‹ç•Œæ¨æ–­å¹¶æ›¿æ¢æ‰€æœ‰çš„ç±»å‹å‚æ•°ä¸ºåŸç”Ÿæ€ç±»å‹ï¼šå¦‚æœç±»å‹å‚æ•°æ˜¯æ— é™åˆ¶é€šé…ç¬¦æˆ–æ²¡æœ‰ä¸Šä¸‹ç•Œé™å®šåˆ™æ›¿æ¢ä¸ºObjectï¼Œå¦‚æœå­˜åœ¨ä¸Šä¸‹ç•Œé™å®šåˆ™æ ¹æ®å­ç±»æ›¿æ¢åŸåˆ™å–ç±»å‹å‚æ•°çš„æœ€å·¦è¾¹é™å®šç±»å‹ï¼ˆå³çˆ¶ç±»ï¼‰ã€‚</li><li>ä¸ºäº†ä¿è¯ç±»å‹å®‰å…¨ï¼Œå¿…è¦æ—¶æ’å…¥å¼ºåˆ¶ç±»å‹è½¬æ¢ä»£ç ã€‚</li><li>è‡ªåŠ¨äº§ç”Ÿâ€œæ¡¥æ¥æ–¹æ³•â€ä»¥ä¿è¯æ“¦é™¤ç±»å‹åçš„ä»£ç ä»ç„¶å…·æœ‰æ³›å‹çš„â€œå¤šæ€æ€§â€ã€‚</li></ul><h4 id="æ“¦é™¤ç±»å®šä¹‰ä¸­çš„ç±»å‹å‚æ•°" tabindex="-1"><a class="header-anchor" href="#æ“¦é™¤ç±»å®šä¹‰ä¸­çš„ç±»å‹å‚æ•°" aria-hidden="true">#</a> æ“¦é™¤ç±»å®šä¹‰ä¸­çš„ç±»å‹å‚æ•°</h4><p><strong>æ— é™åˆ¶ç±»å‹æ“¦é™¤</strong> å½“ç±»å®šä¹‰ä¸­çš„ç±»å‹å‚æ•°æ²¡æœ‰ä»»ä½•é™åˆ¶æ—¶ï¼Œåœ¨ç±»å‹æ“¦é™¤ä¸­ç›´æ¥è¢«æ›¿æ¢ä¸ºObjectï¼Œå³å½¢å¦‚ <code>&lt;T&gt;</code>å’Œ <code>&lt;?&gt;</code>çš„ç±»å‹å‚æ•°éƒ½è¢«æ›¿æ¢ä¸ºObject</p><figure><img src="/Computer-Science-Learn-Notes/assets/image-20220617165626034-cda050c2.png" alt="image-20220617165626034" tabindex="0" loading="lazy"><figcaption>image-20220617165626034</figcaption></figure><p><strong>æœ‰é™åˆ¶ç±»å‹æ“¦é™¤</strong> å½“ç±»å®šä¹‰ä¸­çš„ç±»å‹å‚æ•°å­˜åœ¨é™åˆ¶ï¼ˆä¸Šä¸‹ç•Œï¼‰æ—¶ï¼Œåœ¨ç±»å‹æ“¦é™¤ä¸­æ›¿æ¢ä¸ºç±»å‹å‚æ•°çš„ä¸Šç•Œæˆ–è€…ä¸‹ç•Œï¼Œæ¯”å¦‚å½¢å¦‚ <code>&lt;T extends Number&gt;</code>å’Œ <code>&lt;? extends Number&gt;</code>çš„ç±»å‹å‚æ•°è¢«æ›¿æ¢ä¸ºNumberï¼Œ<code>&lt;? super Number&gt;</code>è¢«æ›¿æ¢ä¸ºObject</p><figure><img src="/Computer-Science-Learn-Notes/assets/image-20220617165706253-e60befe6.png" alt="image-20220617165706253" tabindex="0" loading="lazy"><figcaption>image-20220617165706253</figcaption></figure><h4 id="æ“¦é™¤æ–¹æ³•å®šä¹‰ä¸­çš„ç±»å‹å‚æ•°" tabindex="-1"><a class="header-anchor" href="#æ“¦é™¤æ–¹æ³•å®šä¹‰ä¸­çš„ç±»å‹å‚æ•°" aria-hidden="true">#</a> æ“¦é™¤æ–¹æ³•å®šä¹‰ä¸­çš„ç±»å‹å‚æ•°</h4><p>æ“¦é™¤æ–¹æ³•å®šä¹‰ä¸­çš„ç±»å‹å‚æ•°åŸåˆ™å’Œæ“¦é™¤ç±»å®šä¹‰ä¸­çš„ç±»å‹å‚æ•°æ˜¯ä¸€æ ·çš„ï¼Œè¿™é‡Œä»…ä»¥æ“¦é™¤æ–¹æ³•å®šä¹‰ä¸­çš„æœ‰é™åˆ¶ç±»å‹å‚æ•°ä¸ºä¾‹</p><figure><img src="/Computer-Science-Learn-Notes/assets/image-20220617165721328-d3c669b0.png" alt="image-20220617165721328" tabindex="0" loading="lazy"><figcaption>image-20220617165721328</figcaption></figure><h4 id="æ¡¥æ¥æ–¹æ³•å’Œæ³›å‹çš„å¤šæ€" tabindex="-1"><a class="header-anchor" href="#æ¡¥æ¥æ–¹æ³•å’Œæ³›å‹çš„å¤šæ€" aria-hidden="true">#</a> æ¡¥æ¥æ–¹æ³•å’Œæ³›å‹çš„å¤šæ€</h4><p><a href="http://softlab.sdut.edu.cn/blog/subaochen/2017/01/generics-type-erasure/" target="_blank" rel="noopener noreferrer">http://softlab.sdut.edu.cn/blog/subaochen/2017/01/generics-type-erasure/<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><p>ç”±äºåŸæ–‡çš„ç¯‡å¹…è¿‡é•¿ï¼Œè¿›è¡Œä»¥ä¸‹æ€»ç»“ï¼š</p><p>æ‰€è°“çš„â€œæ¡¥æ¥æ–¹æ³•â€ï¼ˆbridge methodï¼‰æ¥æ»¡è¶³Javaè¯­æ³•çš„è¦æ±‚ï¼ŒåŒæ—¶ä¹Ÿä¿è¯äº†åŸºäºæ³›å‹çš„å¤šæ€èƒ½å¤Ÿæœ‰æ•ˆ</p><p>è¿è¡Œçš„æ—¶å€™ï¼Œä¼šå¯¹ <code>Child</code>ç±»çš„æ–¹æ³•è¡¨è¿›è¡Œæœç´¢ï¼Œå…ˆåˆ†æä¸€ä¸‹ <code>Child</code>ç±»çš„æ–¹æ³•è¡¨é‡Œæœ‰å“ªäº›ä¸œè¥¿ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token number">1.</span> <span class="token function">sayHello</span><span class="token punctuation">(</span><span class="token class-name">Object</span> value<span class="token punctuation">)</span> <span class="token operator">:</span> ä»ç±»å‹è¢«æ“¦é™¤åçš„è¶…ç±»ä¸­ç»§æ‰¿è¿‡æ¥
<span class="token number">2.</span> <span class="token function">sayHello</span><span class="token punctuation">(</span><span class="token class-name">String</span> value<span class="token punctuation">)</span> <span class="token operator">:</span> è‡ªå·±æ–°å¢çš„æ–¹æ³•ï¼Œå’Œè¶…ç±»æ¯«æ— è”ç³»
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><figure><img src="/Computer-Science-Learn-Notes/assets/image-20220622211220694-8e4c19ca.png" alt="image-20220622211220694" tabindex="0" loading="lazy"><figcaption>image-20220622211220694</figcaption></figure><h4 id="ä¸ºäº†æ›´æ·±å±‚æ¬¡çš„ç†è§£ç±»å‹æ“¦é™¤-é€‰å–äº†stackoverflowçš„é«˜èµå›ç­”" tabindex="-1"><a class="header-anchor" href="#ä¸ºäº†æ›´æ·±å±‚æ¬¡çš„ç†è§£ç±»å‹æ“¦é™¤-é€‰å–äº†stackoverflowçš„é«˜èµå›ç­”" aria-hidden="true">#</a> ä¸ºäº†æ›´æ·±å±‚æ¬¡çš„ç†è§£ç±»å‹æ“¦é™¤ï¼Œé€‰å–äº†Stackoverflowçš„é«˜èµå›ç­”</h4><p>åŸå¸–ï¼š<a href="https://stackoverflow.com/questions/339699/java-generics-type-erasure-when-and-what-happens" target="_blank" rel="noopener noreferrer">https://stackoverflow.com/questions/339699/java-generics-type-erasure-when-and-what-happens<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><blockquote><p>ğŸ˜£é—®é¢˜æ˜¯ï¼š<strong>When does type erasure occur?</strong> At compile time or runtime? When the class is loaded? When the class is instantiated?</p><p>ç±»å‹æ“¦é™¤ä½•æ—¶å‘ç”Ÿ? åœ¨ç¼–è¯‘æ—¶è¿˜æ˜¯è¿è¡Œæ—¶? å½“ç±»è¢«åŠ è½½æ—¶? å½“ç±»è¢«å®ä¾‹åŒ–æ—¶ï¼Ÿ</p></blockquote><p>ğŸ§ç±»å‹æ“¦é™¤é€‚ç”¨äºæ³›å‹çš„ä½¿ç”¨ã€‚ç±»æ–‡ä»¶ä¸­è‚¯å®šæœ‰å…ƒæ•°æ®æ¥è¯´æ˜æ–¹æ³•/ç±»å‹æ˜¯å¦æ˜¯æ³›å‹ï¼Œä»¥åŠçº¦æŸæ˜¯ä»€ä¹ˆç­‰ç­‰ã€‚ä½†æ˜¯å½“ä½¿ç”¨æ³›å‹æ—¶ï¼Œå®ƒä»¬è¢«è½¬æ¢ä¸ºç¼–è¯‘æ—¶æ£€æŸ¥å’Œæ‰§è¡Œæ—¶å¼ºåˆ¶è½¬æ¢ã€‚æ‰€ä»¥è¿™ä¸ªä»£ç ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> list <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
list<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;Hi&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">String</span> x <span class="token operator">=</span> list<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è¢«ç¼–è¯‘æˆ</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token class-name">List</span> list <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
list<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;Hi&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">String</span> x <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">)</span> list<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>åœ¨æ‰§è¡Œæ—¶ï¼Œæ²¡æœ‰åŠæ³•æ‰¾å‡ºåˆ—è¡¨å¯¹è±¡çš„ T = String è¿™ä¸ªä¿¡æ¯å·²ç»æ¶ˆå¤±äº†ã€‚ä½†æ˜¯ List &lt; T &gt; ç•Œé¢æœ¬èº«ä»ç„¶å®£ç§°è‡ªå·±æ˜¯é€šç”¨çš„ã€‚</p><p>åŸå¸–ï¼š<a href="https://stackoverflow.com/questions/313584/what-is-the-concept-of-erasure-in-generics-in-java" target="_blank" rel="noopener noreferrer">https://stackoverflow.com/questions/313584/what-is-the-concept-of-erasure-in-generics-in-java<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><blockquote><p>ğŸ˜£What is the concept of erasure in generics in Java?</p><p>åœ¨ Javaçš„ç±»å‹æ“¦é™¤ä¸­ï¼Œæ“¦é™¤çš„æ¦‚å¿µæ˜¯ä»€ä¹ˆï¼Ÿ</p></blockquote><p>ğŸ§è¿™åŸºæœ¬ä¸Šæ˜¯é€šè¿‡ç¼–è¯‘å™¨æŠ€å·§åœ¨ Java ä¸­å®ç°æ³›å‹çš„æ–¹å¼ã€‚ç¼–è¯‘åçš„æ³›å‹ä»£ç å®é™…ä¸Šåªä½¿ç”¨ java.langã€‚å¯¹è±¡ï¼Œè€Œä¸”æœ‰ä¸€äº›å…ƒæ•°æ®ï¼ˆsome metadataï¼‰å¯ä»¥å‘Šè¯‰ç¼–è¯‘å™¨å®ƒå®é™…ä¸Šæ˜¯ä¸€ä¸ªæ³›å‹ç±»å‹ã€‚</p><p>å½“ä½ é’ˆå¯¹ä¸€ä¸ªæ³›å‹ç±»å‹æˆ–æ–¹æ³•ç¼–è¯‘ä¸€äº›ä»£ç æ—¶ï¼Œç¼–è¯‘å™¨ä¼šè®¡ç®—å‡ºä½ çš„çœŸæ­£æ„æ€(ä¾‹å¦‚ T çš„ç±»å‹å‚æ•°æ˜¯ä»€ä¹ˆ) ï¼Œå¹¶åœ¨ç¼–è¯‘æ—¶éªŒè¯ä½ åšçš„æ˜¯æ­£ç¡®çš„äº‹æƒ…ï¼Œä½†æ˜¯å‘å‡ºçš„ä»£ç å†æ¬¡ä½¿ç”¨ java.langã€‚å¯¹è±¡-ç¼–è¯‘å™¨åœ¨å¿…è¦æ—¶ç”Ÿæˆé¢å¤–çš„å¼ºåˆ¶è½¬æ¢ã€‚åœ¨æ‰§è¡Œæ—¶ï¼ŒList &lt; String &gt; å’Œ List &lt; Date &gt; å®Œå…¨ç›¸åŒ; ç¼–è¯‘å™¨å·²ç»æ“¦é™¤äº†é¢å¤–çš„ç±»å‹ä¿¡æ¯ã€‚</p><p>æ¯”è¾ƒä¸€ä¸‹ C # ï¼Œå®ƒåœ¨æ‰§è¡Œæ—¶ä¿ç•™ä¿¡æ¯ï¼Œå…è®¸ä»£ç åŒ…å«è¡¨è¾¾å¼ï¼Œä¾‹å¦‚ typeof (T) ï¼Œå®ƒç­‰ä»·äº T ç±»â€”â€”é™¤éåè€…æ˜¯æ— æ•ˆçš„ã€‚(ä¸¤è€…ä¹‹é—´è¿˜æœ‰è¿›ä¸€æ­¥çš„åŒºåˆ«ã€‚NET æ³›å‹å’Œ Java æ³›å‹ï¼Œè¯·æ³¨æ„ã€‚)åœ¨å¤„ç† Java æ³›å‹æ—¶ï¼Œç±»å‹æ“¦é™¤æ˜¯è®¸å¤šâ€œå¥‡æ€ªâ€è­¦å‘Š/é”™è¯¯æ¶ˆæ¯çš„æ¥æºã€‚</p><blockquote><p>ğŸ¥±å†çœ‹ä¸€ä¸ªè¿™ä¸ªå›ç­”çš„å®æˆ˜å†…å®¹</p></blockquote><p>æ“¦é™¤ï¼Œå­—é¢æ„æ€æ˜¯ä»å·²ç¼–è¯‘çš„å­—èŠ‚ç ä¸­æ“¦é™¤æºä»£ç ä¸­å­˜åœ¨çš„ç±»å‹ä¿¡æ¯ã€‚è®©æˆ‘ä»¬ç”¨ä¸€äº›ä»£ç æ¥ç†è§£è¿™ä¸€ç‚¹ã€‚</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">ArrayList</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Iterator</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">List</span></span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">GenericsErasure</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span> args<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> list <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        list<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;Hello&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Iterator</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> iter <span class="token operator">=</span> list<span class="token punctuation">.</span><span class="token function">iterator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">while</span><span class="token punctuation">(</span>iter<span class="token punctuation">.</span><span class="token function">hasNext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token class-name">String</span> s <span class="token operator">=</span> iter<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å¦‚æœæ‚¨ç¼–è¯‘è¿™æ®µä»£ç ï¼Œç„¶åç”¨ Java åç¼–è¯‘å™¨åç¼–è¯‘å®ƒï¼Œæ‚¨å°†å¾—åˆ°ç±»ä¼¼ä¸‹é¢çš„ä»£ç ã€‚æ³¨æ„ï¼Œåç¼–è¯‘çš„ä»£ç ä¸åŒ…å«åŸå§‹æºä»£ç ä¸­æ˜¾ç¤ºçš„ç±»å‹ä¿¡æ¯çš„è·Ÿè¸ªã€‚</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">PrintStream</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token operator">*</span></span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">GenericsErasure</span>
<span class="token punctuation">{</span>

    <span class="token keyword">public</span> <span class="token class-name">GenericsErasure</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span> args<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token class-name">List</span> list <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        list<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;Hello&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">String</span> s<span class="token punctuation">;</span>
        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token class-name">Iterator</span> iter <span class="token operator">=</span> list<span class="token punctuation">.</span><span class="token function">iterator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> iter<span class="token punctuation">.</span><span class="token function">hasNext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">)</span>
            s <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">)</span>iter<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token punctuation">}</span>
<span class="token punctuation">}</span> 
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="â­-ä¸-equals" tabindex="-1"><a class="header-anchor" href="#â­-ä¸-equals" aria-hidden="true">#</a> â­== ä¸ equals</h3><p>å¯¹äº<strong>åŸºæœ¬ç±»å‹</strong>æ¥è¯´ï¼Œ== æ¯”è¾ƒçš„æ˜¯å€¼æ˜¯å¦ç›¸ç­‰ï¼›</p><p>å¯¹äº<strong>å¼•ç”¨ç±»å‹</strong>æ¥è¯´ï¼Œ== æ¯”è¾ƒçš„æ˜¯ä¸¤ä¸ªå¼•ç”¨æ˜¯å¦æŒ‡å‘åŒä¸€ä¸ªå¯¹è±¡åœ°å€ï¼ˆä¸¤è€…åœ¨å†…å­˜ä¸­å­˜æ”¾çš„åœ°å€ï¼ˆå †å†…å­˜åœ°å€ï¼‰æ˜¯å¦æŒ‡å‘åŒä¸€ä¸ªåœ°æ–¹ï¼‰ï¼›</p><p>equals ï¼šç”¨æ¥æ¯”è¾ƒä¸¤ä¸ªå¯¹è±¡çš„å†…å®¹æ˜¯å¦ç›¸ç­‰ã€‚æ³¨æ„ï¼šequals æ–¹æ³•ä¸èƒ½ç”¨äºæ¯”è¾ƒåŸºæœ¬æ•°æ®ç±»å‹çš„å˜é‡ã€‚å¦‚æœæ²¡æœ‰å¯¹ equals æ–¹æ³•è¿›è¡Œé‡å†™ï¼Œåˆ™æ¯”è¾ƒçš„æ˜¯å¼•ç”¨ç±»å‹çš„å˜é‡æ‰€æŒ‡å‘çš„å¯¹è±¡çš„åœ°å€ï¼ˆå¾ˆå¤šç±»é‡å†™äº† equals æ–¹æ³•ï¼Œæ¯”å¦‚ Stringã€Integer ç­‰æŠŠå®ƒå˜æˆäº†å€¼æ¯”è¾ƒï¼Œæ‰€ä»¥ä¸€èˆ¬æƒ…å†µä¸‹ equals æ¯”è¾ƒçš„æ˜¯å€¼æ˜¯å¦ç›¸ç­‰ï¼‰</p><h3 id="hashcode-ä¸-equals" tabindex="-1"><a class="header-anchor" href="#hashcode-ä¸-equals" aria-hidden="true">#</a> hashCode ä¸ equals</h3><ol><li>å¦‚æœä¸¤ä¸ªå¯¹è±¡ç›¸ç­‰ï¼Œåˆ™ hashcode ä¸€å®šä¹Ÿæ˜¯ç›¸åŒçš„</li><li>ä¸¤ä¸ªå¯¹è±¡ç›¸ç­‰,å¯¹ä¸¤ä¸ª equals() æ–¹æ³•è¿”å› true</li><li>ä¸¤ä¸ªå¯¹è±¡æœ‰ç›¸åŒçš„ hashcode å€¼ï¼Œå®ƒä»¬ä¹Ÿä¸ä¸€å®šæ˜¯ç›¸ç­‰çš„</li><li>ç»¼ä¸Šï¼Œ equals() æ–¹æ³•è¢«è¦†ç›–è¿‡ï¼Œåˆ™ hashCode() æ–¹æ³•ä¹Ÿå¿…é¡»è¢«è¦†ç›–</li><li>hashCode() çš„é»˜è®¤è¡Œä¸ºæ˜¯å¯¹å †ä¸Šçš„å¯¹è±¡äº§ç”Ÿç‹¬ç‰¹å€¼ã€‚å¦‚æœæ²¡æœ‰é‡å†™ hashCode() ï¼Œåˆ™è¯¥class çš„ä¸¤ä¸ªå¯¹è±¡æ— è®ºå¦‚ä½•éƒ½ä¸ä¼šç›¸ç­‰ï¼ˆå³ä½¿è¿™ä¸¤ä¸ªå¯¹è±¡æŒ‡å‘ç›¸åŒçš„æ•°æ®ï¼‰</li></ol><h3 id="å¦‚ä½•å†³å®šä½¿ç”¨-hashmap-è¿˜æ˜¯-treemap" tabindex="-1"><a class="header-anchor" href="#å¦‚ä½•å†³å®šä½¿ç”¨-hashmap-è¿˜æ˜¯-treemap" aria-hidden="true">#</a> å¦‚ä½•å†³å®šä½¿ç”¨ HashMap è¿˜æ˜¯ TreeMapï¼Ÿ</h3><p><code>TreeMap&lt;K,V&gt;</code>çš„Keyå€¼æ˜¯è¦æ±‚å®ç°java.lang.Comparableï¼Œæ‰€ä»¥è¿­ä»£çš„æ—¶å€™TreeMapé»˜è®¤æ˜¯æŒ‰ç…§Keyå€¼å‡åºæ’åºçš„ï¼›TreeMapçš„å®ç°æ˜¯åŸºäºçº¢é»‘æ ‘ç»“æ„ã€‚é€‚ç”¨äºæŒ‰è‡ªç„¶é¡ºåºæˆ–è‡ªå®šä¹‰é¡ºåºéå†é”®ï¼ˆkeyï¼‰ã€‚</p><p><code>HashMap&lt;K,V&gt;</code>çš„Keyå€¼å®ç°æ•£åˆ—hashCode()ï¼Œåˆ†å¸ƒæ˜¯æ•£åˆ—çš„ã€å‡åŒ€çš„ï¼Œä¸æ”¯æŒæ’åºï¼›æ•°æ®ç»“æ„ä¸»è¦æ˜¯æ¡¶(æ•°ç»„)ï¼Œé“¾è¡¨æˆ–çº¢é»‘æ ‘ã€‚é€‚ç”¨äºåœ¨Mapä¸­æ’å…¥ã€åˆ é™¤å’Œå®šä½å…ƒç´ ã€‚</p><p><strong>ç»“è®º</strong> å¦‚æœä½ éœ€è¦å¾—åˆ°ä¸€ä¸ªæœ‰åºçš„ç»“æœæ—¶å°±åº”è¯¥ä½¿ç”¨TreeMapï¼ˆå› ä¸ºHashMapä¸­å…ƒç´ çš„æ’åˆ—é¡ºåºæ˜¯ä¸å›ºå®šçš„ï¼‰ã€‚é™¤æ­¤ä¹‹å¤–ï¼Œç”±äºHashMapæœ‰æ›´å¥½çš„æ€§èƒ½ï¼Œæ‰€ä»¥å¤§å¤šä¸éœ€è¦æ’åºçš„æ—¶å€™æˆ‘ä»¬ä¼šä½¿ç”¨HashMapã€‚</p><h3 id="â­hashmap-çš„åº•å±‚å®ç°" tabindex="-1"><a class="header-anchor" href="#â­hashmap-çš„åº•å±‚å®ç°" aria-hidden="true">#</a> â­HashMap çš„åº•å±‚å®ç°</h3><h4 id="jdk1-8-ä¹‹å‰" tabindex="-1"><a class="header-anchor" href="#jdk1-8-ä¹‹å‰" aria-hidden="true">#</a> JDK1.8 ä¹‹å‰</h4><p>JDK1.8 ä¹‹å‰ <code>HashMap</code> åº•å±‚æ˜¯ <strong>æ•°ç»„å’Œé“¾è¡¨</strong> ç»“åˆåœ¨ä¸€èµ·ä½¿ç”¨ä¹Ÿå°±æ˜¯ <strong>é“¾è¡¨æ•£åˆ—</strong>ã€‚<strong>HashMap é€šè¿‡ key çš„ hashCode ç»è¿‡æ‰°åŠ¨å‡½æ•°å¤„ç†è¿‡åå¾—åˆ° hash å€¼ï¼Œç„¶åé€šè¿‡ (n - 1) &amp; hash åˆ¤æ–­å½“å‰å…ƒç´ å­˜æ”¾çš„ä½ç½®ï¼ˆè¿™é‡Œçš„ n æŒ‡çš„æ˜¯æ•°ç»„çš„é•¿åº¦ï¼‰ï¼Œå¦‚æœå½“å‰ä½ç½®å­˜åœ¨å…ƒç´ çš„è¯ï¼Œå°±åˆ¤æ–­è¯¥å…ƒç´ ä¸è¦å­˜å…¥çš„å…ƒç´ çš„ hash å€¼ä»¥åŠ key æ˜¯å¦ç›¸åŒï¼Œå¦‚æœç›¸åŒçš„è¯ï¼Œç›´æ¥è¦†ç›–ï¼Œä¸ç›¸åŒå°±é€šè¿‡æ‹‰é“¾æ³•è§£å†³å†²çªã€‚</strong></p><p><strong>æ‰€è°“æ‰°åŠ¨å‡½æ•°æŒ‡çš„å°±æ˜¯ HashMap çš„ hash æ–¹æ³•ã€‚ä½¿ç”¨ hash æ–¹æ³•ä¹Ÿå°±æ˜¯æ‰°åŠ¨å‡½æ•°æ˜¯ä¸ºäº†é˜²æ­¢ä¸€äº›å®ç°æ¯”è¾ƒå·®çš„ hashCode() æ–¹æ³• æ¢å¥è¯è¯´ä½¿ç”¨æ‰°åŠ¨å‡½æ•°ä¹‹åå¯ä»¥å‡å°‘ç¢°æ’ã€‚</strong></p><p><strong>JDK 1.8 HashMap çš„ hash æ–¹æ³•æºç :</strong></p><p>JDK 1.8 çš„ hash æ–¹æ³• ç›¸æ¯”äº JDK 1.7 hash æ–¹æ³•æ›´åŠ ç®€åŒ–ï¼Œä½†æ˜¯åŸç†ä¸å˜ã€‚</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code>    <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token keyword">int</span> <span class="token function">hash</span><span class="token punctuation">(</span><span class="token class-name">Object</span> key<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">int</span> h<span class="token punctuation">;</span>
      <span class="token comment">// key.hashCode()ï¼šè¿”å›æ•£åˆ—å€¼ä¹Ÿå°±æ˜¯hashcode</span>
      <span class="token comment">// ^ ï¼šæŒ‰ä½å¼‚æˆ–</span>
      <span class="token comment">// &gt;&gt;&gt;:æ— ç¬¦å·å³ç§»ï¼Œå¿½ç•¥ç¬¦å·ä½ï¼Œç©ºä½éƒ½ä»¥0è¡¥é½</span>
      <span class="token keyword">return</span> <span class="token punctuation">(</span>key <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token number">0</span> <span class="token operator">:</span> <span class="token punctuation">(</span>h <span class="token operator">=</span> key<span class="token punctuation">.</span><span class="token function">hashCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">^</span> <span class="token punctuation">(</span>h <span class="token operator">&gt;&gt;&gt;</span> <span class="token number">16</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å¯¹æ¯”ä¸€ä¸‹ JDK1.7 çš„ HashMap çš„ hash æ–¹æ³•æºç .</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">static</span> <span class="token keyword">int</span> <span class="token function">hash</span><span class="token punctuation">(</span><span class="token keyword">int</span> h<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// This function ensures that hashCodes that differ only by</span>
    <span class="token comment">// constant multiples at each bit position have a bounded</span>
    <span class="token comment">// number of collisions (approximately 8 at default load factor).</span>

    h <span class="token operator">^=</span> <span class="token punctuation">(</span>h <span class="token operator">&gt;&gt;&gt;</span> <span class="token number">20</span><span class="token punctuation">)</span> <span class="token operator">^</span> <span class="token punctuation">(</span>h <span class="token operator">&gt;&gt;&gt;</span> <span class="token number">12</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> h <span class="token operator">^</span> <span class="token punctuation">(</span>h <span class="token operator">&gt;&gt;&gt;</span> <span class="token number">7</span><span class="token punctuation">)</span> <span class="token operator">^</span> <span class="token punctuation">(</span>h <span class="token operator">&gt;&gt;&gt;</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ç›¸æ¯”äº JDK1.8 çš„ hash æ–¹æ³• ï¼ŒJDK 1.7 çš„ hash æ–¹æ³•çš„æ€§èƒ½ä¼šç¨å·®ä¸€ç‚¹ç‚¹ï¼Œå› ä¸ºæ¯•ç«Ÿæ‰°åŠ¨äº† 4 æ¬¡ã€‚</p><p>æ‰€è°“ <strong>â€œæ‹‰é“¾æ³•â€</strong> å°±æ˜¯ï¼šå°†é“¾è¡¨å’Œæ•°ç»„ç›¸ç»“åˆã€‚ä¹Ÿå°±æ˜¯è¯´åˆ›å»ºä¸€ä¸ªé“¾è¡¨æ•°ç»„ï¼Œæ•°ç»„ä¸­æ¯ä¸€æ ¼å°±æ˜¯ä¸€ä¸ªé“¾è¡¨ã€‚è‹¥é‡åˆ°å“ˆå¸Œå†²çªï¼Œåˆ™å°†å†²çªçš„å€¼åŠ åˆ°é“¾è¡¨ä¸­å³å¯ã€‚</p><figure><img src="/Computer-Science-Learn-Notes/assets/image-20220616155615352-c245547e.png" alt="image-20220616155615352" tabindex="0" loading="lazy"><figcaption>image-20220616155615352</figcaption></figure><h4 id="jdk1-8-ä¹‹å" tabindex="-1"><a class="header-anchor" href="#jdk1-8-ä¹‹å" aria-hidden="true">#</a> JDK1.8 ä¹‹å</h4><p>ç›¸æ¯”äºä¹‹å‰çš„ç‰ˆæœ¬ï¼Œ JDK1.8 ä¹‹ååœ¨è§£å†³å“ˆå¸Œå†²çªæ—¶æœ‰äº†è¾ƒå¤§çš„å˜åŒ–ï¼Œå½“é“¾è¡¨é•¿åº¦å¤§äºé˜ˆå€¼ï¼ˆé»˜è®¤ä¸º 8ï¼‰ï¼ˆå°†é“¾è¡¨è½¬æ¢æˆçº¢é»‘æ ‘å‰ä¼šåˆ¤æ–­ï¼Œå¦‚æœå½“å‰æ•°ç»„çš„é•¿åº¦å°äº 64ï¼Œé‚£ä¹ˆä¼šé€‰æ‹©å…ˆè¿›è¡Œæ•°ç»„æ‰©å®¹ï¼Œè€Œä¸æ˜¯è½¬æ¢ä¸ºçº¢é»‘æ ‘ï¼‰æ—¶ï¼Œå°†é“¾è¡¨è½¬åŒ–ä¸ºçº¢é»‘æ ‘ï¼Œä»¥å‡å°‘æœç´¢æ—¶é—´ã€‚</p><figure><img src="/Computer-Science-Learn-Notes/assets/image-20220616155623710-41cf5b17.png" alt="image-20220616155623710" tabindex="0" loading="lazy"><figcaption>image-20220616155623710</figcaption></figure><blockquote><p>TreeMapã€TreeSet ä»¥åŠ JDK1.8 ä¹‹åçš„ HashMap åº•å±‚éƒ½ç”¨åˆ°äº†çº¢é»‘æ ‘ã€‚çº¢é»‘æ ‘å°±æ˜¯ä¸ºäº†è§£å†³äºŒå‰æŸ¥æ‰¾æ ‘çš„ç¼ºé™·ï¼Œå› ä¸ºäºŒå‰æŸ¥æ‰¾æ ‘åœ¨æŸäº›æƒ…å†µä¸‹ä¼šé€€åŒ–æˆä¸€ä¸ªçº¿æ€§ç»“æ„ã€‚</p></blockquote><blockquote><p>é¢è¯•å¯ä»¥è¿™æ ·å›ç­”ï¼šhashmapçš„åº•å±‚æ˜¯å“ˆå¸Œè¡¨ï¼Œæ˜¯åŸºäºhashç®—æ³•å®ç°çš„ï¼Œhashmapé€šè¿‡put(key,value)å­˜å‚¨ï¼Œé€šè¿‡get(key)è·å–ï¼Œå½“ä¼ å…¥keyæ—¶ï¼Œhashmapä¼šè°ƒç”¨key.hashcode()æ–¹æ³•è®¡ç®—å‡ºhashå€¼ï¼Œæ ¹æ® hash å€¼å°† value ä¿å­˜åœ¨ bucket é‡Œã€‚å½“è®¡ç®—</p><p>å‡ºçš„ hash å€¼ç›¸åŒæ—¶ï¼Œæˆ‘ä»¬ç§°ä¹‹ä¸º hash å†²çªï¼ŒHashMap çš„åšæ³•æ˜¯ç”¨é“¾è¡¨å’Œçº¢é»‘æ ‘å­˜å‚¨ç›¸åŒ hash å€¼çš„valueã€‚å½“ hash å†²çªçš„ä¸ªæ•°å°‘äºç­‰äº8ä¸ªæ—¶ï¼Œä½¿ç”¨é“¾è¡¨å¦åˆ™ä½¿ç”¨çº¢é»‘æ ‘ã€‚</p></blockquote><h3 id="â­hashmapæºç åˆ†æ" tabindex="-1"><a class="header-anchor" href="#â­hashmapæºç åˆ†æ" aria-hidden="true">#</a> â­HashMapæºç åˆ†æ</h3><h4 id="get" tabindex="-1"><a class="header-anchor" href="#get" aria-hidden="true">#</a> get()</h4><p><code>get(Object key)</code>æ–¹æ³•æ ¹æ®æŒ‡å®šçš„ <code>key</code>å€¼è¿”å›å¯¹åº”çš„ <code>value</code>ï¼Œè¯¥æ–¹æ³•è°ƒç”¨äº† <code>getEntry(Object key)</code>å¾—åˆ°ç›¸åº”çš„ <code>entry</code>ï¼Œç„¶åè¿”å› <code>entry.getValue()</code>ã€‚å› æ­¤ <code>getEntry()</code>æ˜¯ç®—æ³•çš„æ ¸å¿ƒã€‚ <strong>ç®—æ³•æ€æƒ³</strong>æ˜¯é¦–å…ˆé€šè¿‡ <code>hash()</code>å‡½æ•°å¾—åˆ°å¯¹åº” <code>bucket</code>çš„ä¸‹æ ‡ï¼Œç„¶åä¾æ¬¡éå†å†²çªé“¾è¡¨ï¼Œé€šè¿‡ <code>key.equals(k)</code>æ–¹æ³•æ¥åˆ¤æ–­æ˜¯å¦æ˜¯è¦æ‰¾çš„é‚£ä¸ª <code>entry</code>ã€‚</p><figure><img src="/Computer-Science-Learn-Notes/assets/image-20220616155140634-88f65618.png" alt="image-20220616161400630" tabindex="0" loading="lazy"><figcaption>image-20220616161400630</figcaption></figure><p>ä¸Šå›¾ä¸­ <code>hash(k)&amp;(table.length-1)</code>ç­‰ä»·äº <code>hash(k)%table.length</code>ï¼ŒåŸå› æ˜¯<em>HashMap</em>è¦æ±‚ <code>table.length</code>å¿…é¡»æ˜¯2çš„æŒ‡æ•°ï¼Œå› æ­¤ <code>table.length-1</code>å°±æ˜¯äºŒè¿›åˆ¶ä½ä½å…¨æ˜¯1ï¼Œè·Ÿ <code>hash(k)</code>ç›¸ä¸ä¼šå°†å“ˆå¸Œå€¼çš„é«˜ä½å…¨æŠ¹æ‰ï¼Œå‰©ä¸‹çš„å°±æ˜¯ä½™æ•°äº†ã€‚</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token comment">//getEntry()æ–¹æ³•</span>
<span class="token keyword">final</span> <span class="token class-name">Entry</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">K</span><span class="token punctuation">,</span><span class="token class-name">V</span><span class="token punctuation">&gt;</span></span> <span class="token function">getEntry</span><span class="token punctuation">(</span><span class="token class-name">Object</span> key<span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
	<span class="token keyword">int</span> hash <span class="token operator">=</span> <span class="token punctuation">(</span>key <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token number">0</span> <span class="token operator">:</span> <span class="token function">hash</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">Entry</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">K</span><span class="token punctuation">,</span><span class="token class-name">V</span><span class="token punctuation">&gt;</span></span> e <span class="token operator">=</span> table<span class="token punctuation">[</span>hash<span class="token operator">&amp;</span><span class="token punctuation">(</span>table<span class="token punctuation">.</span>length<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token comment">//å¾—åˆ°å†²çªé“¾è¡¨</span>
         e <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">;</span> e <span class="token operator">=</span> e<span class="token punctuation">.</span>next<span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token comment">//ä¾æ¬¡éå†å†²çªé“¾è¡¨ä¸­çš„æ¯ä¸ªentry</span>
        <span class="token class-name">Object</span> k<span class="token punctuation">;</span>
        <span class="token comment">//ä¾æ®equals()æ–¹æ³•åˆ¤æ–­æ˜¯å¦ç›¸ç­‰</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>e<span class="token punctuation">.</span>hash <span class="token operator">==</span> hash <span class="token operator">&amp;&amp;</span>
            <span class="token punctuation">(</span><span class="token punctuation">(</span>k <span class="token operator">=</span> e<span class="token punctuation">.</span>key<span class="token punctuation">)</span> <span class="token operator">==</span> key <span class="token operator">||</span> <span class="token punctuation">(</span>key <span class="token operator">!=</span> <span class="token keyword">null</span> <span class="token operator">&amp;&amp;</span> key<span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>k<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token keyword">return</span> e<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="put" tabindex="-1"><a class="header-anchor" href="#put" aria-hidden="true">#</a> put()</h4><p><code>put(K key, V value)</code>æ–¹æ³•æ˜¯å°†æŒ‡å®šçš„ <code>key, value</code>å¯¹æ·»åŠ åˆ° <code>map</code>é‡Œã€‚è¯¥æ–¹æ³•é¦–å…ˆä¼šå¯¹ <code>map</code>åšä¸€æ¬¡æŸ¥æ‰¾ï¼Œçœ‹æ˜¯å¦åŒ…å«è¯¥å…ƒç»„ï¼Œå¦‚æœå·²ç»åŒ…å«åˆ™ç›´æ¥è¿”å›ï¼ŒæŸ¥æ‰¾è¿‡ç¨‹ç±»ä¼¼äº <code>getEntry()</code>æ–¹æ³•ï¼›å¦‚æœæ²¡æœ‰æ‰¾åˆ°ï¼Œåˆ™ä¼šé€šè¿‡ <code>addEntry(int hash, K key, V value, int bucketIndex)</code>æ–¹æ³•æ’å…¥æ–°çš„ <code>entry</code>ï¼Œæ’å…¥æ–¹å¼ä¸º<strong>å¤´æ’æ³•</strong>ã€‚</p><figure><img src="/Computer-Science-Learn-Notes/assets/image-20220616155057751-1c97d2b8.png" alt="image-20220616161439305" tabindex="0" loading="lazy"><figcaption>image-20220616161439305</figcaption></figure><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token comment">//addEntry()</span>
<span class="token keyword">void</span> <span class="token function">addEntry</span><span class="token punctuation">(</span><span class="token keyword">int</span> hash<span class="token punctuation">,</span> <span class="token class-name">K</span> key<span class="token punctuation">,</span> <span class="token class-name">V</span> value<span class="token punctuation">,</span> <span class="token keyword">int</span> bucketIndex<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>size <span class="token operator">&gt;=</span> threshold<span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span><span class="token keyword">null</span> <span class="token operator">!=</span> table<span class="token punctuation">[</span>bucketIndex<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">resize</span><span class="token punctuation">(</span><span class="token number">2</span> <span class="token operator">*</span> table<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//è‡ªåŠ¨æ‰©å®¹ï¼Œå¹¶é‡æ–°å“ˆå¸Œ</span>
        hash <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">null</span> <span class="token operator">!=</span> key<span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token function">hash</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">;</span>
        bucketIndex <span class="token operator">=</span> hash <span class="token operator">&amp;</span> <span class="token punctuation">(</span>table<span class="token punctuation">.</span>length<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//hash%table.length</span>
    <span class="token punctuation">}</span>
    <span class="token comment">//åœ¨å†²çªé“¾è¡¨å¤´éƒ¨æ’å…¥æ–°çš„entry</span>
    <span class="token class-name">Entry</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">K</span><span class="token punctuation">,</span><span class="token class-name">V</span><span class="token punctuation">&gt;</span></span> e <span class="token operator">=</span> table<span class="token punctuation">[</span>bucketIndex<span class="token punctuation">]</span><span class="token punctuation">;</span>
    table<span class="token punctuation">[</span>bucketIndex<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Entry</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span>hash<span class="token punctuation">,</span> key<span class="token punctuation">,</span> value<span class="token punctuation">,</span> e<span class="token punctuation">)</span><span class="token punctuation">;</span>
    size<span class="token operator">++</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>


</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="remove" tabindex="-1"><a class="header-anchor" href="#remove" aria-hidden="true">#</a> remove()</h4><p><code>remove(Object key)</code>çš„ä½œç”¨æ˜¯åˆ é™¤ <code>key</code>å€¼å¯¹åº”çš„ <code>entry</code>ï¼Œè¯¥æ–¹æ³•çš„å…·ä½“é€»è¾‘æ˜¯åœ¨ <code>removeEntryForKey(Object key)</code>é‡Œå®ç°çš„ã€‚<code>removeEntryForKey()</code>æ–¹æ³•ä¼šé¦–å…ˆæ‰¾åˆ° <code>key</code>å€¼å¯¹åº”çš„ <code>entry</code>ï¼Œç„¶ååˆ é™¤è¯¥ <code>entry</code>(ä¿®æ”¹é“¾è¡¨çš„ç›¸åº”å¼•ç”¨)ã€‚æŸ¥æ‰¾è¿‡ç¨‹è·Ÿ <code>getEntry()</code>è¿‡ç¨‹ç±»ä¼¼ã€‚</p><figure><img src="/Computer-Science-Learn-Notes/assets/image-20220616155221157-fd7ed7e9.png" alt="image-20220616161551183" tabindex="0" loading="lazy"><figcaption>image-20220616161551183</figcaption></figure><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token comment">//removeEntryForKey()</span>
<span class="token keyword">final</span> <span class="token class-name">Entry</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">K</span><span class="token punctuation">,</span><span class="token class-name">V</span><span class="token punctuation">&gt;</span></span> <span class="token function">removeEntryForKey</span><span class="token punctuation">(</span><span class="token class-name">Object</span> key<span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
	<span class="token keyword">int</span> hash <span class="token operator">=</span> <span class="token punctuation">(</span>key <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token number">0</span> <span class="token operator">:</span> <span class="token function">hash</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token function">indexFor</span><span class="token punctuation">(</span>hash<span class="token punctuation">,</span> table<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//hash&amp;(table.length-1)</span>
    <span class="token class-name">Entry</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">K</span><span class="token punctuation">,</span><span class="token class-name">V</span><span class="token punctuation">&gt;</span></span> prev <span class="token operator">=</span> table<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token comment">//å¾—åˆ°å†²çªé“¾è¡¨</span>
    <span class="token class-name">Entry</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">K</span><span class="token punctuation">,</span><span class="token class-name">V</span><span class="token punctuation">&gt;</span></span> e <span class="token operator">=</span> prev<span class="token punctuation">;</span>
    <span class="token keyword">while</span> <span class="token punctuation">(</span>e <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token comment">//éå†å†²çªé“¾è¡¨</span>
        <span class="token class-name">Entry</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">K</span><span class="token punctuation">,</span><span class="token class-name">V</span><span class="token punctuation">&gt;</span></span> next <span class="token operator">=</span> e<span class="token punctuation">.</span>next<span class="token punctuation">;</span>
        <span class="token class-name">Object</span> k<span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>e<span class="token punctuation">.</span>hash <span class="token operator">==</span> hash <span class="token operator">&amp;&amp;</span>
            <span class="token punctuation">(</span><span class="token punctuation">(</span>k <span class="token operator">=</span> e<span class="token punctuation">.</span>key<span class="token punctuation">)</span> <span class="token operator">==</span> key <span class="token operator">||</span> <span class="token punctuation">(</span>key <span class="token operator">!=</span> <span class="token keyword">null</span> <span class="token operator">&amp;&amp;</span> key<span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>k<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token comment">//æ‰¾åˆ°è¦åˆ é™¤çš„entry</span>
            modCount<span class="token operator">++</span><span class="token punctuation">;</span> size<span class="token operator">--</span><span class="token punctuation">;</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>prev <span class="token operator">==</span> e<span class="token punctuation">)</span> table<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> next<span class="token punctuation">;</span><span class="token comment">//åˆ é™¤çš„æ˜¯å†²çªé“¾è¡¨çš„ç¬¬ä¸€ä¸ªentry</span>
            <span class="token keyword">else</span> prev<span class="token punctuation">.</span>next <span class="token operator">=</span> next<span class="token punctuation">;</span>
            <span class="token keyword">return</span> e<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        prev <span class="token operator">=</span> e<span class="token punctuation">;</span> e <span class="token operator">=</span> next<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> e<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="hashmap-çš„é•¿åº¦ä¸ºä»€ä¹ˆæ˜¯-2-çš„å¹‚æ¬¡æ–¹" tabindex="-1"><a class="header-anchor" href="#hashmap-çš„é•¿åº¦ä¸ºä»€ä¹ˆæ˜¯-2-çš„å¹‚æ¬¡æ–¹" aria-hidden="true">#</a> HashMap çš„é•¿åº¦ä¸ºä»€ä¹ˆæ˜¯ 2 çš„å¹‚æ¬¡æ–¹</h3><p>ä¸ºäº†èƒ½è®© HashMap å­˜å–é«˜æ•ˆï¼Œå°½é‡è¾ƒå°‘ç¢°æ’ï¼Œä¹Ÿå°±æ˜¯è¦å°½é‡æŠŠæ•°æ®åˆ†é…å‡åŒ€ã€‚æˆ‘ä»¬ä¸Šé¢ä¹Ÿè®²åˆ°äº†è¿‡äº†ï¼ŒHash å€¼çš„èŒƒå›´å€¼-2147483648 åˆ° 2147483647ï¼Œå‰ååŠ èµ·æ¥å¤§æ¦‚ 40 äº¿çš„æ˜ å°„ç©ºé—´ï¼Œåªè¦å“ˆå¸Œå‡½æ•°æ˜ å°„å¾—æ¯”è¾ƒå‡åŒ€æ¾æ•£ï¼Œä¸€èˆ¬åº”ç”¨æ˜¯å¾ˆéš¾å‡ºç°ç¢°æ’çš„ã€‚ä½†é—®é¢˜æ˜¯ä¸€ä¸ª 40 äº¿é•¿åº¦çš„æ•°ç»„ï¼Œå†…å­˜æ˜¯æ”¾ä¸ä¸‹çš„ã€‚æ‰€ä»¥è¿™ä¸ªæ•£åˆ—å€¼æ˜¯ä¸èƒ½ç›´æ¥æ‹¿æ¥ç”¨çš„ã€‚ç”¨ä¹‹å‰è¿˜è¦å…ˆåšå¯¹æ•°ç»„çš„é•¿åº¦å–æ¨¡è¿ç®—ï¼Œå¾—åˆ°çš„ä½™æ•°æ‰èƒ½ç”¨æ¥è¦å­˜æ”¾çš„ä½ç½®ä¹Ÿå°±æ˜¯å¯¹åº”çš„æ•°ç»„ä¸‹æ ‡ã€‚è¿™ä¸ªæ•°ç»„ä¸‹æ ‡çš„è®¡ç®—æ–¹æ³•æ˜¯â€œ <code>(n - 1) &amp; hash</code>â€ã€‚ï¼ˆn ä»£è¡¨æ•°ç»„é•¿åº¦ï¼‰ã€‚è¿™ä¹Ÿå°±è§£é‡Šäº† HashMap çš„é•¿åº¦ä¸ºä»€ä¹ˆæ˜¯ 2 çš„å¹‚æ¬¡æ–¹ã€‚</p><p><strong>è¿™ä¸ªç®—æ³•åº”è¯¥å¦‚ä½•è®¾è®¡å‘¢ï¼Ÿ</strong></p><p>æˆ‘ä»¬é¦–å…ˆå¯èƒ½ä¼šæƒ³åˆ°é‡‡ç”¨%å–ä½™çš„æ“ä½œæ¥å®ç°ã€‚ä½†æ˜¯ï¼Œé‡ç‚¹æ¥äº†ï¼š<strong>â€œå–ä½™(%)æ“ä½œä¸­å¦‚æœé™¤æ•°æ˜¯ 2 çš„å¹‚æ¬¡åˆ™ç­‰ä»·äºä¸å…¶é™¤æ•°å‡ä¸€çš„ä¸(&amp;)æ“ä½œï¼ˆä¹Ÿå°±æ˜¯è¯´ hash%length==hash&amp;(length-1)çš„å‰ææ˜¯ length æ˜¯ 2 çš„ n æ¬¡æ–¹ï¼›ï¼‰ã€‚â€</strong> å¹¶ä¸” <strong>é‡‡ç”¨äºŒè¿›åˆ¶ä½æ“ä½œ &amp;ï¼Œç›¸å¯¹äº%èƒ½å¤Ÿæé«˜è¿ç®—æ•ˆç‡ï¼Œè¿™å°±è§£é‡Šäº† HashMap çš„é•¿åº¦ä¸ºä»€ä¹ˆæ˜¯ 2 çš„å¹‚æ¬¡æ–¹ã€‚</strong></p><p>ğŸ™‹â€â™‚ï¸ç¬”è€…è®¤ä¸ºGuideå†™çš„è¿™ä¸ªæ‘¸æ£±ä¸¤å¯ï¼Œæ‰€ä»¥æ‰¾äº†ä¸€ä¸ªStackOverFlowä¸­æè¿°æ›´ä¸ºæ¸…æ¥šçš„ç¿»è¯‘ä¸ºä¸‹ï¼š</p><blockquote><p>ğŸ§šâ€â™‚ï¸åŸå¸–ï¼š<a href="https://stackoverflow.com/questions/53526790/why-are-hashmaps-implemented-using-powers-of-two" target="_blank" rel="noopener noreferrer">https://stackoverflow.com/questions/53526790/why-are-hashmaps-implemented-using-powers-of-two<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><p>å½“ä½ ä»ä¸€ä¸ªå¹‚ä¸º2çš„æ•°å­—ä¸­å‡å»1å¾—åˆ°çš„æ˜¯ä¸€ä¸ªäºŒè¿›åˆ¶è¡¨ç¤ºéƒ½æ˜¯1çš„æ•°å­—ã€‚ä¾‹å¦‚16æ˜¯2çš„å¹‚ã€‚å¦‚æœä»ä¸­å‡å»1ï¼Œå¾—åˆ°15ï¼Œå®ƒçš„äºŒè¿›åˆ¶è¡¨ç¤ºæ˜¯1111ã€‚ç°åœ¨ï¼Œå¦‚æœä½ ç”¨1111å¯¹ä»»ä½•ä¸€ä¸ªæ•°å­—è¿›è¡Œä½ AND è¿ç®—ï¼Œä½ å°†å¾—åˆ°è¿™ä¸ªæ•°å­—çš„æœ€å4ä½ï¼Œæ¢å¥è¯è¯´ï¼Œå®ƒç­‰äºè¿™ä¸ªæ•°å­—ä¹˜ä»¥16çš„æ¨¡(é™¤æ³•è¿ç®—é€šå¸¸æ˜¯ä¸€ä¸ªæ˜‚è´µçš„è¿ç®—ã€‚å› æ­¤ï¼Œä½æ“ä½œé€šå¸¸æ¯”é™¤æ³•æ›´å—æ¬¢è¿)ã€‚æœ€åçš„4ä½å°†è®¡ç®—ä¸º0åˆ°15ä¹‹é—´çš„ä»»æ„æ•°å­—ï¼Œè¿™äº›æ•°å­—æ˜¯åŸºç¡€æ•°ç»„çš„ç´¢å¼•ã€‚</p><p>ä½ å¯ä»¥æ”¹æˆ17ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œä»ä¸­å‡å»1å¾—åˆ°16ä¹Ÿå°±æ˜¯äºŒè¿›åˆ¶çš„10000ã€‚ç°åœ¨ä½ å¯¹ä¸€ä¸ª16çš„æ•°åš ANDï¼ˆä¸&amp;ï¼‰ è¿ç®—ï¼Œä½ ä¼šå¤±å»æ‰€æœ‰çš„ä½ï¼Œé™¤äº†ä»ç»“å°¾å¼€å§‹çš„ç¬¬5ä½ã€‚å› æ­¤ï¼Œæ— è®ºå–å¤šå°‘æ•°ï¼Œæ•°ç»„ç´¢å¼•éƒ½æ˜¯16æˆ–0ã€‚è¿™æ„å‘³ç€ä¼šæœ‰å¾ˆå¤šå†²çªï¼Œè¿™åè¿‡æ¥åˆæ„å‘³ç€æ€§èƒ½å¾ˆå·®ã€‚æ‚¨å°†éœ€è¦ O (log n)è€Œä¸æ˜¯ O (1)è¿›è¡Œæ£€ç´¢ï¼Œå› ä¸ºå½“å†²çªå‘ç”Ÿæ—¶ï¼Œç»™å®šæ¡¶ä¸­çš„æ‰€æœ‰èŠ‚ç‚¹éƒ½å°†å­˜å‚¨åœ¨ä¸€ä¸ªçº¢é»‘è‰²æ ‘ä¸­ã€‚ä¸ä»…å¦‚æ­¤ã€‚å¦‚æœæ‚¨åœ¨ä¸€ä¸ªå¤šçº¿ç¨‹ç¯å¢ƒä¸­ä½¿ç”¨ ConcurrentHashMapï¼Œé‚£ä¹ˆæ‚¨å°†ç»å†å¤§é‡çš„åŒæ­¥ï¼Œå› ä¸ºæ‰€æœ‰æ–°æ·»åŠ çš„å†…å®¹æœ€ç»ˆéƒ½ä¼šä»¥éå¸¸å°‘çš„å­˜å‚¨æ¡¶(åœ¨ä¸Šè¿°æƒ…å†µä¸‹åªæœ‰2-0å’Œ16ä¸ª)ç»“æŸï¼Œå¹¶ä¸”å½“æ‚¨åœ¨ä¸€ä¸ªå·²ç»æœ‰å…¶ä»–èŠ‚ç‚¹çš„å­˜å‚¨æ¡¶ä¸­æ·»åŠ æ–°èŠ‚ç‚¹æ—¶ï¼Œå­˜å‚¨æ¡¶å°†è¢«é”å®šï¼Œä»¥é¿å…ç”±äºå¤šä¸ªçº¿ç¨‹çš„ä¿®æ”¹è€Œå¯¼è‡´çš„æ•°æ®ä¸ä¸€è‡´ã€‚å› æ­¤ï¼Œå°è¯•æ·»åŠ æ–°èŠ‚ç‚¹çš„å…¶ä»–çº¿ç¨‹éœ€è¦ç­‰å¾…å½“å‰çº¿ç¨‹é‡Šæ”¾é”ã€‚</p><p>æœ€åï¼Œæˆ‘è¿˜åº”è¯¥æåˆ°ï¼ŒJava HashMap å®ç°è¿˜å°†é”®çš„å“ˆå¸Œä»£ç çš„16ä½å‘å³ç§»åŠ¨ï¼Œå¹¶åœ¨ç”¨(length-1)è¿›è¡Œä½ AND ä¹‹å‰å¯¹åŸå“ˆå¸Œä»£ç è¿›è¡Œä½å¼‚æˆ–æ“ä½œï¼Œä»¥ç¡®ä¿é«˜é˜¶ä½çš„æ•ˆæœä¹Ÿè¢«æ•è·ã€‚</p><p>å› æ­¤ï¼ŒåŸºæœ¬ä¸Šè¦ç‚¹æ˜¯ï¼Œå¦‚æœå¤§å°æ˜¯2çš„å¹‚æ¬¡æ–¹ï¼Œé‚£ä¹ˆä¸å…¶ä»–ä»»ä½•ä¸æ˜¯2çš„å¤§å°ç›¸æ¯”ï¼Œé”®å°†æ›´å‡åŒ€åœ°åˆ†å¸ƒåœ¨æ•´ä¸ªæ•°ç»„ä¸­ï¼Œæœ€å°çš„å†²çªå°†å¯¼è‡´æ›´å¥½çš„æ£€ç´¢æ€§èƒ½(åœ¨ConcurrentHashMap çš„æƒ…å†µä¸‹ä¹Ÿæ›´å°‘çš„åŒæ­¥)ã€‚</p></blockquote><p>ä¸ºä»€ä¹ˆèƒ½å‡å°‘ç¢°æ’ï¼Ÿè¿™æ˜¯å› ä¸ºhashmapçš„hashå€¼æ˜¯hashCodeå³ç§»16ä½å¾—åˆ°çš„ï¼Œè¿™ä¹ˆåšä½¿å¾—hashå€¼çš„ä½ä½ä¿ç•™äº†é«˜ä½çš„ä¿¡æ¯ï¼Œæ‰€ä»¥åªè¦ä½ä½å°±å¯ä»¥äº†ã€‚</p><p>ä¸€å¥è¯ï¼ŒHashMapçš„é•¿åº¦ä¸º2çš„å¹‚æ¬¡æ–¹çš„åŸå› æ˜¯ä¸ºäº†å‡å°‘Hashç¢°æ’ï¼Œå°½é‡ä½¿Hashç®—æ³•çš„ç»“æœå‡åŒ€åˆ†å¸ƒã€‚ï¼ˆåªæœ‰å½“é•¿åº¦æ˜¯2^næ—¶ï¼Œé•¿åº¦-1çš„äºŒè¿›åˆ¶ä½ä½æ‰å…¨éƒ¨æ˜¯1ï¼‰</p><blockquote><p>å®é™…åœºæ™¯å¯ä»¥è¿™æ ·å›ç­”</p></blockquote><p>Hash å€¼çš„èŒƒå›´å€¼æ¯”è¾ƒå¤§ï¼Œä½¿ç”¨ä¹‹å‰éœ€è¦å…ˆå¯¹æ•°ç»„çš„é•¿åº¦å–æ¨¡è¿ç®—ï¼Œå¾—åˆ°çš„ä½™æ•°æ‰æ˜¯å…ƒç´ å­˜æ”¾çš„ä½ç½®ä¹Ÿå°±æ˜¯å¯¹åº”çš„æ•°ç»„ä¸‹æ ‡ã€‚</p><p>è¿™ä¸ªæ•°ç»„ä¸‹æ ‡çš„è®¡ç®—æ–¹æ³•æ˜¯ <code>(n - 1) &amp; hash</code></p><p>å°†HashMapçš„é•¿åº¦å®šä¸º2 çš„å¹‚æ¬¡æ–¹ï¼Œè¿™æ ·å°±å¯ä»¥ä½¿ç”¨ <code>(n - 1)&amp;hash</code>ä½è¿ç®—ä»£æ›¿%å–ä½™çš„æ“ä½œï¼Œæé«˜æ€§èƒ½ã€‚</p><blockquote><p>æ‹“å±•ï¼š<strong>HashMapé»˜è®¤åŠ è½½å› å­ä¸ºä»€ä¹ˆé€‰æ‹©0.75å‘¢ï¼Ÿ</strong></p></blockquote><p>0.75æ˜¯å¯¹<strong>ç©ºé—´å’Œæ—¶é—´æ•ˆç‡</strong>çš„ä¸€ä¸ªå¹³è¡¡é€‰æ‹©ï¼Œæ ¹æ®æ³Šæ¾åˆ†å¸ƒï¼ŒloadFactor å–0.75ç¢°æ’æœ€å°ã€‚ä¸€èˆ¬ä¸ä¼šä¿®æ”¹ï¼Œé™¤éåœ¨æ—¶é—´å’Œç©ºé—´æ¯”è¾ƒç‰¹æ®Šçš„æƒ…å†µä¸‹ ï¼š</p><ul><li>å¦‚æœå†…å­˜ç©ºé—´å¾ˆå¤šè€Œåˆå¯¹æ—¶é—´æ•ˆç‡è¦æ±‚å¾ˆé«˜ï¼Œå¯ä»¥é™ä½è´Ÿè½½å› å­Load factorçš„å€¼ ã€‚</li><li>å¦‚æœå†…å­˜ç©ºé—´ç´§å¼ è€Œå¯¹æ—¶é—´æ•ˆç‡è¦æ±‚ä¸é«˜ï¼Œå¯ä»¥å¢åŠ è´Ÿè½½å› å­loadFactorçš„å€¼ï¼Œè¿™ä¸ªå€¼å¯ä»¥å¤§äº1ã€‚</li></ul><h3 id="hashmap-å¤šçº¿ç¨‹æ“ä½œå¯¼è‡´æ­»å¾ªç¯é—®é¢˜" tabindex="-1"><a class="header-anchor" href="#hashmap-å¤šçº¿ç¨‹æ“ä½œå¯¼è‡´æ­»å¾ªç¯é—®é¢˜" aria-hidden="true">#</a> HashMap å¤šçº¿ç¨‹æ“ä½œå¯¼è‡´æ­»å¾ªç¯é—®é¢˜</h3><p>ä¸»è¦åŸå› åœ¨äºå¹¶å‘ä¸‹çš„ Rehash ä¼šé€ æˆå…ƒç´ ä¹‹é—´ä¼šå½¢æˆä¸€ä¸ªå¾ªç¯é“¾è¡¨ã€‚ä¸è¿‡ï¼Œjdk 1.8 åè§£å†³äº†è¿™ä¸ªé—®é¢˜ï¼Œä½†æ˜¯è¿˜æ˜¯ä¸å»ºè®®åœ¨å¤šçº¿ç¨‹ä¸‹ä½¿ç”¨ HashMap,å› ä¸ºå¤šçº¿ç¨‹ä¸‹ä½¿ç”¨ HashMap è¿˜æ˜¯ä¼šå­˜åœ¨å…¶ä»–é—®é¢˜æ¯”å¦‚æ•°æ®ä¸¢å¤±ã€‚å¹¶å‘ç¯å¢ƒä¸‹æ¨èä½¿ç”¨ ConcurrentHashMap ã€‚</p><p>è¯¦æƒ…è¯·æŸ¥çœ‹ï¼š<a href="https://coolshell.cn/articles/9606.html" target="_blank" rel="noopener noreferrer">https://coolshell.cn/articles/9606.html<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><h4 id="ä¸ºä»€ä¹ˆhashmapçº¿ç¨‹ä¸å®‰å…¨" tabindex="-1"><a class="header-anchor" href="#ä¸ºä»€ä¹ˆhashmapçº¿ç¨‹ä¸å®‰å…¨" aria-hidden="true">#</a> ä¸ºä»€ä¹ˆHashMapçº¿ç¨‹ä¸å®‰å…¨</h4><h5 id="putçš„æ—¶å€™å¯¼è‡´çš„å¤šçº¿ç¨‹æ•°æ®ä¸ä¸€è‡´" tabindex="-1"><a class="header-anchor" href="#putçš„æ—¶å€™å¯¼è‡´çš„å¤šçº¿ç¨‹æ•°æ®ä¸ä¸€è‡´" aria-hidden="true">#</a> putçš„æ—¶å€™å¯¼è‡´çš„å¤šçº¿ç¨‹æ•°æ®ä¸ä¸€è‡´</h5><p>è¿™ä¸ªé—®é¢˜æ¯”è¾ƒå¥½æƒ³è±¡ï¼Œæ¯”å¦‚æœ‰ä¸¤ä¸ªçº¿ç¨‹Aå’ŒBï¼Œé¦–å…ˆAå¸Œæœ›æ’å…¥ä¸€ä¸ªkey-valueå¯¹åˆ°HashMapä¸­ï¼Œé¦–å…ˆè®¡ç®—è®°å½•æ‰€è¦è½åˆ°çš„æ¡¶çš„ç´¢å¼•åæ ‡ï¼Œç„¶åè·å–åˆ°è¯¥æ¡¶é‡Œé¢çš„é“¾è¡¨å¤´ç»“ç‚¹ï¼Œæ­¤æ—¶çº¿ç¨‹Açš„æ—¶é—´ç‰‡ç”¨å®Œäº†ï¼Œè€Œæ­¤æ—¶çº¿ç¨‹Bè¢«è°ƒåº¦å¾—ä»¥æ‰§è¡Œï¼Œå’Œçº¿ç¨‹Aä¸€æ ·æ‰§è¡Œï¼Œåªä¸è¿‡çº¿ç¨‹BæˆåŠŸå°†è®°å½•æ’åˆ°äº†æ¡¶é‡Œé¢ï¼Œå‡è®¾çº¿ç¨‹Aæ’å…¥çš„è®°å½•è®¡ç®—å‡ºæ¥çš„æ¡¶ç´¢å¼•å’Œçº¿ç¨‹Bè¦æ’å…¥çš„è®°å½•è®¡ç®—å‡ºæ¥çš„æ¡¶ç´¢å¼•æ˜¯ä¸€æ ·çš„ï¼Œé‚£ä¹ˆå½“çº¿ç¨‹BæˆåŠŸæ’å…¥ä¹‹åï¼Œçº¿ç¨‹Aå†æ¬¡è¢«è°ƒåº¦è¿è¡Œæ—¶ï¼Œå®ƒä¾ç„¶æŒæœ‰è¿‡æœŸçš„é“¾è¡¨å¤´ä½†æ˜¯å®ƒå¯¹æ­¤ä¸€æ— æ‰€çŸ¥ï¼Œä»¥è‡³äºå®ƒè®¤ä¸ºå®ƒåº”è¯¥è¿™æ ·åšï¼Œå¦‚æ­¤ä¸€æ¥å°±è¦†ç›–äº†çº¿ç¨‹Bæ’å…¥çš„è®°å½•ï¼Œè¿™æ ·çº¿ç¨‹Bæ’å…¥çš„è®°å½•å°±å‡­ç©ºæ¶ˆå¤±äº†ï¼Œé€ æˆäº†æ•°æ®ä¸ä¸€è‡´çš„è¡Œä¸ºã€‚</p><h5 id="getæ“ä½œå¯èƒ½å› ä¸ºresizeè€Œå¼•èµ·æ­»å¾ªç¯" tabindex="-1"><a class="header-anchor" href="#getæ“ä½œå¯èƒ½å› ä¸ºresizeè€Œå¼•èµ·æ­»å¾ªç¯" aria-hidden="true">#</a> getæ“ä½œå¯èƒ½å› ä¸ºresizeè€Œå¼•èµ·æ­»å¾ªç¯</h5><p>è§ä¸Šä¸€ä¸ªé—®é¢˜çš„å›ç­”</p><h3 id="ä¸ºä»€ä¹ˆjavaåªæœ‰å€¼ä¼ é€’" tabindex="-1"><a class="header-anchor" href="#ä¸ºä»€ä¹ˆjavaåªæœ‰å€¼ä¼ é€’" aria-hidden="true">#</a> ä¸ºä»€ä¹ˆJavaåªæœ‰å€¼ä¼ é€’</h3><p>ä¸ªäººç†è§£ï¼Œä¸ç®¡åœ¨æ–¹æ³•ä¸­å¦‚ä½•è°ƒç”¨éƒ½æ˜¯åªæ‹·è´ã€‚ä¾‹å¦‚ï¼ˆint a, int bï¼‰å°±æ˜¯æ‹·è´ä¼ å…¥çš„å€¼åˆ°å¦å¤–ä¸€ä¸ªåœ°å€ï¼›å¦‚æœä¼ å…¥çš„æ˜¯ï¼ˆint[] arrï¼‰æˆ–è€…ï¼ˆInteger aï¼‰åˆ™å°±æ˜¯æ‹·è´è¿™ä¸ªçš„åœ°å€åˆ°å¦å¤–ä¸€ä¸ªåœ°å€ï¼Œå®è´¨ä¸Šä¸¤ä¸ªï¼ˆåŸå€¼å’Œæ‹·è´çš„åœ°å€ï¼‰éƒ½æŒ‡å‘åŒä¸€ä¸ªåœ°å€ã€‚</p><h3 id="å¼‚å¸¸å¤„ç†æ€»ç»“" tabindex="-1"><a class="header-anchor" href="#å¼‚å¸¸å¤„ç†æ€»ç»“" aria-hidden="true">#</a> å¼‚å¸¸å¤„ç†æ€»ç»“</h3><p>finally å—ä¸ä¼šè¢«æ‰§è¡Œï¼š</p><ol><li>åœ¨ try æˆ– finally å—ä¸­ç”¨äº† System.exit(int) é€€å‡ºç¨‹åºã€‚ä½†æ˜¯ï¼Œå¦‚æœ System.exit(int) åœ¨å¼‚å¸¸ è¯­å¥ä¹‹åï¼Œ finally è¿˜æ˜¯ä¼šè¢«æ‰§è¡Œ</li><li>ç¨‹åºæ‰€åœ¨çš„çº¿ç¨‹æ­»äº¡ã€‚</li><li>å…³é—­ CPUã€‚</li></ol><p>ä¸‹é¢è¿™éƒ¨åˆ†å†…å®¹æ¥è‡ª issue:<a href="https://github.com/Snailclimb/JavaGuide/issues/190%E3%80%82" target="_blank" rel="noopener noreferrer">https://github.com/Snailclimb/JavaGuide/issues/190ã€‚<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a><strong>æ³¨æ„ï¼š</strong> å½“ try è¯­å¥å’Œ finally è¯­å¥ä¸­éƒ½æœ‰ return è¯­å¥æ—¶ï¼Œåœ¨æ–¹æ³•è¿”å›ä¹‹å‰ï¼Œfinally è¯­å¥çš„å†…å®¹å°†è¢«æ‰§è¡Œï¼Œå¹¶ä¸” finally è¯­å¥çš„è¿”å›å€¼å°†ä¼šè¦†ç›–åŸå§‹çš„è¿”å›å€¼ã€‚å¦‚ä¸‹ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">int</span> <span class="token function">f</span><span class="token punctuation">(</span><span class="token keyword">int</span> value<span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">try</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> value <span class="token operator">*</span> value<span class="token punctuation">;</span>
	<span class="token punctuation">}</span> <span class="token keyword">finally</span> <span class="token punctuation">{</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span>value <span class="token operator">==</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ã€Šjavaæ ¸å¿ƒæŠ€æœ¯å·ä¸€ã€‹ä¸­æåˆ°è¿‡ï¼šå½“finallyå­å¥åŒ…å«return è¯­å¥æ—¶ï¼ˆå½“ç„¶åœ¨è®¾è®¡åŸåˆ™ä¸Šæ˜¯ä¸å…è®¸åœ¨finallyå—ä¸­æŠ›å‡ºå¼‚å¸¸æˆ–è€… æ‰§è¡Œreturnè¯­å¥çš„ï¼‰ï¼Œå°†ä¼šå‡ºç°ä¸€ç§æ„æƒ³ä¸åˆ°çš„ç»“æœã€‚å‡è®¾åˆ©ç”¨returnè¯­å¥ä»try è¯­å¥å—ä¸­é€€å‡ºã€‚åœ¨æ–¹æ³•è¿”å›å‰ï¼Œfinallyå­å¥çš„å†…å®¹å°†è¢«æ‰§è¡Œã€‚å¦‚æœfinallyå­å¥ä¸­ä¹Ÿæœ‰ä¸€ä¸ªreturnè¯­å¥ï¼Œè¿™ä¸ªè¿”å›å€¼å°†ä¼šè¦†ç›–åŸå§‹çš„è¿”å›å€¼ã€‚</p><h3 id="æœ‰å“ªäº›å¸¸è§çš„-io-æ¨¡å‹" tabindex="-1"><a class="header-anchor" href="#æœ‰å“ªäº›å¸¸è§çš„-io-æ¨¡å‹" aria-hidden="true">#</a> æœ‰å“ªäº›å¸¸è§çš„ IO æ¨¡å‹?</h3><p>UNIX ç³»ç»Ÿä¸‹ï¼Œ IO æ¨¡å‹ä¸€å…±æœ‰ 5 ç§ï¼š åŒæ­¥é˜»å¡ I/Oã€åŒæ­¥éé˜»å¡ I/Oã€I/O å¤šè·¯å¤ç”¨ã€ä¿¡å·é©±åŠ¨ I/O å’Œå¼‚æ­¥ I/Oã€‚</p><h4 id="é˜»å¡å¼-i-o" tabindex="-1"><a class="header-anchor" href="#é˜»å¡å¼-i-o" aria-hidden="true">#</a> é˜»å¡å¼ I/O</h4><p>åº”ç”¨è¿›ç¨‹è¢«é˜»å¡ï¼Œç›´åˆ°æ•°æ®å¤åˆ¶åˆ°åº”ç”¨è¿›ç¨‹ç¼“å†²åŒºä¸­æ‰è¿”å›ã€‚ åº”è¯¥æ³¨æ„åˆ°ï¼Œåœ¨é˜»å¡çš„è¿‡ç¨‹ä¸­ï¼Œå…¶å®ƒç¨‹åºè¿˜å¯ä»¥æ‰§è¡Œï¼Œå› æ­¤é˜»å¡ä¸æ„å‘³ç€æ•´ä¸ªæ“ä½œç³»ç»Ÿéƒ½è¢«é˜»å¡ã€‚å› ä¸ºå…¶ä»–ç¨‹åºè¿˜å¯ä»¥æ‰§è¡Œï¼Œå› æ­¤ä¸æ¶ˆè€— CPU æ—¶é—´ï¼Œè¿™ç§æ¨¡å‹çš„æ‰§è¡Œæ•ˆç‡ä¼šæ¯”è¾ƒé«˜ã€‚ ä¸‹å›¾ä¸­ï¼Œrecvfrom ç”¨äºæ¥æ”¶ Socket ä¼ æ¥çš„æ•°æ®ï¼Œå¹¶å¤åˆ¶åˆ°åº”ç”¨è¿›ç¨‹çš„ç¼“å†²åŒº buf ä¸­ã€‚è¿™é‡ŒæŠŠ recvfrom() å½“æˆç³»ç»Ÿè°ƒç”¨ã€‚</p><figure><img src="/Computer-Science-Learn-Notes/assets/image-20220628221701308-4b1511a9.png" alt="image-20220628221701308" tabindex="0" loading="lazy"><figcaption>image-20220628221701308</figcaption></figure><h4 id="éé˜»å¡å¼-i-o" tabindex="-1"><a class="header-anchor" href="#éé˜»å¡å¼-i-o" aria-hidden="true">#</a> éé˜»å¡å¼ I/O</h4><p>åº”ç”¨è¿›ç¨‹æ‰§è¡Œç³»ç»Ÿè°ƒç”¨ä¹‹åï¼Œå†…æ ¸è¿”å›ä¸€ä¸ªé”™è¯¯ç ã€‚åº”ç”¨è¿›ç¨‹å¯ä»¥ç»§ç»­æ‰§è¡Œï¼Œä½†æ˜¯éœ€è¦ä¸æ–­çš„æ‰§è¡Œç³»ç»Ÿè°ƒç”¨æ¥è·çŸ¥ I/O æ˜¯å¦å®Œæˆï¼Œè¿™ç§æ–¹å¼ç§°ä¸ºè½®è¯¢(polling)ã€‚</p><p>ç”±äº CPU è¦å¤„ç†æ›´å¤šçš„ç³»ç»Ÿè°ƒç”¨ï¼Œå› æ­¤è¿™ç§æ¨¡å‹æ˜¯æ¯”è¾ƒä½æ•ˆçš„ã€‚</p><figure><img src="/Computer-Science-Learn-Notes/assets/image-20220628221710263-659d3f28.png" alt="image-20220628221710263" tabindex="0" loading="lazy"><figcaption>image-20220628221710263</figcaption></figure><h4 id="i-o-å¤ç”¨" tabindex="-1"><a class="header-anchor" href="#i-o-å¤ç”¨" aria-hidden="true">#</a> I/O å¤ç”¨</h4><p><strong>ä½¿ç”¨ select æˆ–è€… poll ç­‰å¾…æ•°æ®</strong>ï¼Œå¹¶ä¸”å¯ä»¥ç­‰å¾…å¤šä¸ªå¥—æ¥å­—ä¸­çš„ä»»ä½•ä¸€ä¸ªå˜ä¸ºå¯è¯»ï¼Œè¿™ä¸€è¿‡ç¨‹ä¼šè¢«é˜»å¡ï¼Œå½“æŸä¸€ä¸ªå¥—æ¥å­—å¯è¯»æ—¶è¿”å›ã€‚ä¹‹åå†ä½¿ç”¨ recvfrom æŠŠæ•°æ®ä»å†…æ ¸å¤åˆ¶åˆ°è¿›ç¨‹ä¸­ã€‚</p><p>å®ƒå¯ä»¥è®©å•ä¸ªè¿›ç¨‹å…·æœ‰å¤„ç†å¤šä¸ª I/O äº‹ä»¶çš„èƒ½åŠ›ã€‚åˆè¢«ç§°ä¸º Event Driven I/Oï¼Œå³äº‹ä»¶é©±åŠ¨ I/Oã€‚</p><p>å¦‚æœä¸€ä¸ª Web æœåŠ¡å™¨æ²¡æœ‰ I/O å¤ç”¨ï¼Œé‚£ä¹ˆæ¯ä¸€ä¸ª Socket è¿æ¥éƒ½éœ€è¦åˆ›å»ºä¸€ä¸ªçº¿ç¨‹å»å¤„ç†ã€‚å¦‚æœåŒæ—¶æœ‰å‡ ä¸‡ä¸ªè¿æ¥ï¼Œé‚£ä¹ˆå°±éœ€è¦åˆ›å»ºç›¸åŒæ•°é‡çš„çº¿ç¨‹ã€‚å¹¶ä¸”ç›¸æ¯”äºå¤šè¿›ç¨‹å’Œå¤šçº¿ç¨‹æŠ€æœ¯ï¼ŒI/O å¤ç”¨ä¸éœ€è¦è¿›ç¨‹çº¿ç¨‹åˆ›å»ºå’Œåˆ‡æ¢çš„å¼€é”€ï¼Œç³»ç»Ÿå¼€é”€æ›´å°ã€‚</p><figure><img src="/Computer-Science-Learn-Notes/assets/image-20220628221721484-0d5c2f4b.png" alt="image-20220628221721484" tabindex="0" loading="lazy"><figcaption>image-20220628221721484</figcaption></figure><h4 id="ä¿¡å·é©±åŠ¨-i-o" tabindex="-1"><a class="header-anchor" href="#ä¿¡å·é©±åŠ¨-i-o" aria-hidden="true">#</a> ä¿¡å·é©±åŠ¨ I/O</h4><p>åº”ç”¨è¿›ç¨‹ä½¿ç”¨ sigaction ç³»ç»Ÿè°ƒç”¨ï¼Œå†…æ ¸ç«‹å³è¿”å›ï¼Œåº”ç”¨è¿›ç¨‹å¯ä»¥ç»§ç»­æ‰§è¡Œï¼Œä¹Ÿå°±æ˜¯è¯´ç­‰å¾…æ•°æ®é˜¶æ®µåº”ç”¨è¿›ç¨‹æ˜¯éé˜»å¡çš„ã€‚å†…æ ¸åœ¨æ•°æ®åˆ°è¾¾æ—¶å‘åº”ç”¨è¿›ç¨‹å‘é€ SIGIO ä¿¡å·ï¼Œåº”ç”¨è¿›ç¨‹æ”¶åˆ°ä¹‹ååœ¨ä¿¡å·å¤„ç†ç¨‹åºä¸­è°ƒç”¨ recvfrom å°†æ•°æ®ä»å†…æ ¸å¤åˆ¶åˆ°åº”ç”¨è¿›ç¨‹ä¸­ã€‚</p><p>ç›¸æ¯”äºéé˜»å¡å¼ I/O çš„è½®è¯¢æ–¹å¼ï¼Œä¿¡å·é©±åŠ¨ I/O çš„ CPU åˆ©ç”¨ç‡æ›´é«˜ã€‚</p><figure><img src="/Computer-Science-Learn-Notes/assets/image-20220628221734114-8c5c3a10.png" alt="image-20220628221734114" tabindex="0" loading="lazy"><figcaption>image-20220628221734114</figcaption></figure><h4 id="å¼‚æ­¥-i-o" tabindex="-1"><a class="header-anchor" href="#å¼‚æ­¥-i-o" aria-hidden="true">#</a> å¼‚æ­¥ I/O</h4><p>è¿›è¡Œ aio_readï¼ˆasynchronous readï¼‰ ç³»ç»Ÿè°ƒç”¨ä¼šç«‹å³è¿”å›ï¼Œåº”ç”¨è¿›ç¨‹ç»§ç»­æ‰§è¡Œï¼Œä¸ä¼šè¢«é˜»å¡ï¼Œå†…æ ¸ä¼šåœ¨æ‰€æœ‰æ“ä½œå®Œæˆä¹‹åå‘åº”ç”¨è¿›ç¨‹å‘é€ä¿¡å·ã€‚</p><p>å¼‚æ­¥ I/O ä¸ä¿¡å·é©±åŠ¨ I/O çš„åŒºåˆ«åœ¨äºï¼Œå¼‚æ­¥ I/O çš„ä¿¡å·æ˜¯é€šçŸ¥åº”ç”¨è¿›ç¨‹ I/O å®Œæˆï¼Œè€Œä¿¡å·é©±åŠ¨ I/O çš„ä¿¡å·æ˜¯é€šçŸ¥åº”ç”¨è¿›ç¨‹å¯ä»¥å¼€å§‹ I/Oã€‚</p><figure><img src="/Computer-Science-Learn-Notes/assets/image-20220628221741472-8c21979a.png" alt="image-20220628221741472" tabindex="0" loading="lazy"><figcaption>image-20220628221741472</figcaption></figure><h3 id="â­bio-nio-aio-æœ‰ä»€ä¹ˆåŒºåˆ«" tabindex="-1"><a class="header-anchor" href="#â­bio-nio-aio-æœ‰ä»€ä¹ˆåŒºåˆ«" aria-hidden="true">#</a> â­BIO,NIO,AIO æœ‰ä»€ä¹ˆåŒºåˆ«</h3><figure><img src="/Computer-Science-Learn-Notes/assets/image-20220615203937591-688f0131.png" alt="image-20220615203937591" tabindex="0" loading="lazy"><figcaption>image-20220615203937591</figcaption></figure><blockquote><p>Java BIO[Blocking I/O] | åŒæ­¥é˜»å¡I/Oæ¨¡å¼</p></blockquote><figure><img src="/Computer-Science-Learn-Notes/assets/image-20220731160638775-e6a529d6.png" alt="image-20220731160638775" tabindex="0" loading="lazy"><figcaption>image-20220731160638775</figcaption></figure><p>BIO å…¨ç§°Block-IO æ˜¯ä¸€ç§åŒæ­¥ä¸”é˜»å¡çš„é€šä¿¡æ¨¡å¼ã€‚æ˜¯ä¸€ä¸ªæ¯”è¾ƒä¼ ç»Ÿçš„é€šä¿¡æ–¹å¼ï¼Œæ¨¡å¼ç®€å•ï¼Œä½¿ç”¨æ–¹ä¾¿ã€‚ä½†å¹¶å‘å¤„ç†èƒ½åŠ›ä½ï¼Œé€šä¿¡è€—æ—¶ï¼Œä¾èµ–ç½‘é€Ÿ</p><blockquote><p>Java NIO[New I/O] | åŒæ­¥éé˜»å¡æ¨¡å¼</p></blockquote><figure><img src="/Computer-Science-Learn-Notes/assets/image-20220731160650184-14a43bee.png" alt="image-20220731160650184" tabindex="0" loading="lazy"><figcaption>image-20220731160650184</figcaption></figure><p>å¯ä»¥çœ‹ç¾å›¢æŠ€æœ¯å›¢é˜Ÿ2016å¹´å†™çš„æ–‡ç« ï¼š<a href="https://tech.meituan.com/2016/11/04/nio.html" target="_blank" rel="noopener noreferrer">Java NIOæµ…æ<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><p>Java ä¸­çš„ NIO äº Java 1.4 ä¸­å¼•å…¥ï¼Œå¯¹åº” <code>java.nio</code> åŒ…ï¼Œæä¾›äº†Java NIOçš„å®ç°ä¸»è¦æ¶‰åŠä¸‰å¤§æ ¸å¿ƒå†…å®¹ï¼š <code>Channel</code> , <code>Selector</code>ï¼Œ<code>Buffer</code> ç­‰æŠ½è±¡ã€‚Selectorç”¨äºç›‘å¬å¤šä¸ªChannelçš„äº‹ä»¶ï¼Œæ¯”å¦‚è¿æ¥æ‰“å¼€æˆ–æ•°æ®åˆ°è¾¾ï¼Œå› æ­¤ï¼Œä¸€ä¸ªçº¿ç¨‹å¯ä»¥å®ç°å¯¹å¤šä¸ªæ•°æ®Channelçš„ç®¡ç†ã€‚ä¼ ç»ŸI/OåŸºäºæ•°æ®æµè¿›è¡ŒI/Oè¯»å†™æ“ä½œï¼›è€ŒJava NIOåŸºäºChannelå’ŒBufferè¿›è¡ŒI/Oè¯»å†™æ“ä½œï¼Œå¹¶ä¸”æ•°æ®æ€»æ˜¯è¢«ä»Channelè¯»å–åˆ°Bufferä¸­ï¼Œæˆ–è€…ä»Bufferå†™å…¥Channelä¸­ã€‚</p><p>Java ä¸­çš„ NIO å¯ä»¥çœ‹ä½œæ˜¯ <strong>I/O å¤šè·¯å¤ç”¨æ¨¡å‹</strong>ã€‚ä¹Ÿæœ‰å¾ˆå¤šäººè®¤ä¸ºï¼ŒJava ä¸­çš„ NIO å±äºåŒæ­¥éé˜»å¡ IO æ¨¡å‹ã€‚</p><figure><img src="/Computer-Science-Learn-Notes/assets/image-20220615204150338-5df1d0e6.png" alt="image-20220615204150338" tabindex="0" loading="lazy"><figcaption>image-20220615204150338</figcaption></figure><p>åŒæ­¥éé˜»å¡ IO æ¨¡å‹ä¸­ï¼Œåº”ç”¨ç¨‹åºä¼š<strong>ä¸€ç›´å‘èµ· read è°ƒç”¨ï¼Œç­‰å¾…æ•°æ®ä»å†…æ ¸ç©ºé—´æ‹·è´åˆ°ç”¨æˆ·ç©ºé—´çš„è¿™æ®µæ—¶é—´é‡Œï¼Œçº¿ç¨‹ä¾ç„¶æ˜¯é˜»å¡çš„ï¼Œç›´åˆ°åœ¨å†…æ ¸æŠŠæ•°æ®æ‹·è´åˆ°ç”¨æˆ·ç©ºé—´</strong>ã€‚</p><p>ç›¸æ¯”äºåŒæ­¥é˜»å¡ IO æ¨¡å‹ï¼ŒåŒæ­¥éé˜»å¡ IO æ¨¡å‹ç¡®å®æœ‰äº†å¾ˆå¤§æ”¹è¿›ã€‚é€šè¿‡è½®è¯¢æ“ä½œï¼Œé¿å…äº†ä¸€ç›´é˜»å¡ã€‚</p><p>ä½†æ˜¯ï¼Œè¿™ç§ IO æ¨¡å‹åŒæ ·å­˜åœ¨é—®é¢˜ï¼š<strong>åº”ç”¨ç¨‹åºä¸æ–­è¿›è¡Œ I/O ç³»ç»Ÿè°ƒç”¨è½®è¯¢æ•°æ®æ˜¯å¦å·²ç»å‡†å¤‡å¥½çš„è¿‡ç¨‹æ˜¯ååˆ†æ¶ˆè€— CPU èµ„æºçš„ã€‚</strong></p><p>è¿™ä¸ªæ—¶å€™ï¼Œ<strong>I/O å¤šè·¯å¤ç”¨æ¨¡å‹</strong> å°±ä¸Šåœºäº†ã€‚</p><figure><img src="/Computer-Science-Learn-Notes/assets/image-20220404172644652-6b9080c2.png" alt="image-20220615204200618" tabindex="0" loading="lazy"><figcaption>image-20220615204200618</figcaption></figure><p>IO å¤šè·¯å¤ç”¨æ¨¡å‹ä¸­ï¼Œçº¿ç¨‹<strong>é¦–å…ˆå‘èµ· select è°ƒç”¨ï¼Œè¯¢é—®å†…æ ¸æ•°æ®æ˜¯å¦å‡†å¤‡å°±ç»ª</strong>ï¼Œç­‰å†…æ ¸æŠŠæ•°æ®å‡†å¤‡å¥½äº†ï¼Œç”¨æˆ·çº¿ç¨‹å†å‘èµ· read è°ƒç”¨ã€‚<strong>read è°ƒç”¨çš„è¿‡ç¨‹ï¼ˆæ•°æ®ä»å†…æ ¸ç©ºé—´ -&gt; ç”¨æˆ·ç©ºé—´ï¼‰è¿˜æ˜¯é˜»å¡çš„</strong>ã€‚</p><blockquote><p>ç›®å‰æ”¯æŒ IO å¤šè·¯å¤ç”¨çš„ç³»ç»Ÿè°ƒç”¨ï¼Œæœ‰ selectï¼Œepoll ç­‰ç­‰ã€‚select ç³»ç»Ÿè°ƒç”¨ï¼Œç›®å‰å‡ ä¹åœ¨æ‰€æœ‰çš„æ“ä½œç³»ç»Ÿä¸Šéƒ½æœ‰æ”¯æŒã€‚</p><ul><li><strong>select è°ƒç”¨</strong> ï¼šå†…æ ¸æä¾›çš„ç³»ç»Ÿè°ƒç”¨ï¼Œå®ƒæ”¯æŒä¸€æ¬¡æŸ¥è¯¢å¤šä¸ªç³»ç»Ÿè°ƒç”¨çš„å¯ç”¨çŠ¶æ€ã€‚å‡ ä¹æ‰€æœ‰çš„æ“ä½œç³»ç»Ÿéƒ½æ”¯æŒã€‚</li><li><strong>epoll è°ƒç”¨</strong> ï¼šlinux 2.6 å†…æ ¸ï¼Œå±äº select è°ƒç”¨çš„å¢å¼ºç‰ˆæœ¬ï¼Œä¼˜åŒ–äº† IO çš„æ‰§è¡Œæ•ˆç‡ã€‚</li></ul></blockquote><p><strong>IO å¤šè·¯å¤ç”¨æ¨¡å‹ï¼Œé€šè¿‡å‡å°‘æ— æ•ˆçš„ç³»ç»Ÿè°ƒç”¨ï¼Œå‡å°‘äº†å¯¹ CPU èµ„æºçš„æ¶ˆè€—ã€‚</strong></p><p>Java ä¸­çš„ NIO ï¼Œæœ‰ä¸€ä¸ªéå¸¸é‡è¦çš„<strong>é€‰æ‹©å™¨ ( Selector )</strong> çš„æ¦‚å¿µï¼Œä¹Ÿå¯ä»¥è¢«ç§°ä¸º <strong>å¤šè·¯å¤ç”¨å™¨</strong>ã€‚é€šè¿‡å®ƒï¼Œåªéœ€è¦ä¸€ä¸ªçº¿ç¨‹ä¾¿å¯ä»¥ç®¡ç†å¤šä¸ªå®¢æˆ·ç«¯è¿æ¥ã€‚å½“å®¢æˆ·ç«¯æ•°æ®åˆ°äº†ä¹‹åï¼Œæ‰ä¼šä¸ºå…¶æœåŠ¡ã€‚</p><figure><img src="/Computer-Science-Learn-Notes/assets/image-20220615204212255-fcd8e65e.png" alt="image-20220615204212255" tabindex="0" loading="lazy"><figcaption>image-20220615204212255</figcaption></figure><blockquote><p>Java AIO[Asynchronous I/O] | å¼‚æ­¥éé˜»å¡I/Oæ¨¡å‹</p></blockquote><figure><img src="/Computer-Science-Learn-Notes/assets/image-20220731160701735-ac29d6fb.png" alt="image-20220731160701735" tabindex="0" loading="lazy"><figcaption>image-20220731160701735</figcaption></figure><p>AIO ä¹Ÿå°±æ˜¯ NIO 2ã€‚Java 7 ä¸­å¼•å…¥äº† NIO çš„æ”¹è¿›ç‰ˆ NIO 2,å®ƒæ˜¯å¼‚æ­¥ IO æ¨¡å‹ã€‚</p><p>å¼‚æ­¥ IO æ˜¯åŸºäºäº‹ä»¶å’Œå›è°ƒæœºåˆ¶å®ç°çš„ï¼Œä¹Ÿå°±æ˜¯åº”ç”¨æ“ä½œä¹‹åä¼šç›´æ¥è¿”å›ï¼Œä¸ä¼šå µå¡åœ¨é‚£é‡Œï¼Œå½“åå°å¤„ç†å®Œæˆï¼Œæ“ä½œç³»ç»Ÿä¼šé€šçŸ¥ç›¸åº”çš„çº¿ç¨‹è¿›è¡Œåç»­çš„æ“ä½œã€‚</p><figure><img src="/Computer-Science-Learn-Notes/assets/image-20220404172710500-2a935138.png" alt="image-20220615205139466" tabindex="0" loading="lazy"><figcaption>image-20220615205139466</figcaption></figure><p>ç›®å‰æ¥è¯´ AIO çš„åº”ç”¨è¿˜ä¸æ˜¯å¾ˆå¹¿æ³›ã€‚Netty ä¹‹å‰ä¹Ÿå°è¯•ä½¿ç”¨è¿‡ AIOï¼Œä¸è¿‡åˆæ”¾å¼ƒäº†ã€‚è¿™æ˜¯å› ä¸ºï¼ŒNetty ä½¿ç”¨äº† AIO ä¹‹åï¼Œåœ¨ Linux ç³»ç»Ÿä¸Šçš„æ€§èƒ½å¹¶æ²¡æœ‰å¤šå°‘æå‡ã€‚</p><p>æœ€åï¼Œæ¥ä¸€å¼ å›¾ï¼Œç®€å•æ€»ç»“ä¸€ä¸‹ Java ä¸­çš„ BIOã€NIOã€AIOã€‚</p><figure><img src="/Computer-Science-Learn-Notes/assets/image-20220404172718185-755a5c05.png" alt="image-20220615205148242" tabindex="0" loading="lazy"><figcaption>image-20220615205148242</figcaption></figure><h3 id="â­javaé›†åˆç±»æ¡†æ¶çš„åŸºæœ¬æ¥å£æœ‰å“ªäº›" tabindex="-1"><a class="header-anchor" href="#â­javaé›†åˆç±»æ¡†æ¶çš„åŸºæœ¬æ¥å£æœ‰å“ªäº›" aria-hidden="true">#</a> â­Javaé›†åˆç±»æ¡†æ¶çš„åŸºæœ¬æ¥å£æœ‰å“ªäº›ï¼Ÿ</h3><p>Javaä¸­çš„é›†åˆåˆ†ä¸ºvalueï¼ˆConllectionï¼‰ï¼Œkey-value(Map)ä¸¤ç§å­˜å‚¨ç»“æ„</p><blockquote><p>å­˜å‚¨valueæœ‰åˆ†ä¸ºList ã€Setã€Queue</p></blockquote><p>Listï¼šæœ‰åºï¼Œå¯å­˜å‚¨é‡å¤å…ƒç´ </p><p>Setï¼šæ— åºï¼Œå…ƒç´ ä¸å¯é‡å¤ã€‚æ ¹æ®equalså’Œhashcodeåˆ¤æ–­ï¼ˆå¦‚æœä¸€ä¸ªå¯¹è±¡è¦å­˜å‚¨åœ¨Setä¸­ï¼Œå¿…é¡»é‡å†™equalså’ŒhashCodeæ–¹æ³•ï¼‰</p><p>Queueï¼šé˜Ÿåˆ—</p><blockquote><p>å­˜å‚¨key-valueçš„ä¸ºmap</p></blockquote><figure><img src="/Computer-Science-Learn-Notes/assets/image-20220609215207876-6a43d7fc.png" alt="image-20220609215207876" tabindex="0" loading="lazy"><figcaption>image-20220609215207876</figcaption></figure><figure><img src="/Computer-Science-Learn-Notes/assets/image-20220609215218381-10b8114f.png" alt="image-20220609215218381" tabindex="0" loading="lazy"><figcaption>image-20220609215218381</figcaption></figure><figure><img src="/Computer-Science-Learn-Notes/assets/image-20220609215224938-a653e4b8.png" alt="image-20220609215224938" tabindex="0" loading="lazy"><figcaption>image-20220609215224938</figcaption></figure><h3 id="â­-arraylist-ä¸-linkedlist-åŒºåˆ«" tabindex="-1"><a class="header-anchor" href="#â­-arraylist-ä¸-linkedlist-åŒºåˆ«" aria-hidden="true">#</a> â­ Arraylist ä¸ LinkedList åŒºåˆ«</h3><ol><li><strong>æ˜¯å¦ä¿è¯çº¿ç¨‹å®‰å…¨</strong>ï¼š ArrayList å’Œ LinkedList éƒ½æ˜¯ä¸åŒæ­¥çš„ï¼Œä¹Ÿå°±æ˜¯ä¸ä¿è¯çº¿ç¨‹å®‰å…¨ï¼›</li><li><strong>åº•å±‚æ•°æ®ç»“æ„</strong>ï¼š Arraylist åº•å±‚ä½¿ç”¨çš„æ˜¯ Object æ•°ç»„ï¼› LinkedList åº•å±‚ä½¿ç”¨çš„æ˜¯ åŒå‘é“¾è¡¨æ•°æ®ç»“æ„ï¼ˆJDK1.6 ä¹‹å‰ä¸ºå¾ªç¯é“¾è¡¨ï¼ŒJDK1.7 å–æ¶ˆäº†å¾ªç¯ã€‚æ³¨æ„åŒå‘é“¾è¡¨å’ŒåŒå‘å¾ªç¯é“¾è¡¨çš„åŒºåˆ«ï¼Œä¸‹é¢æœ‰ä»‹ç»åˆ°ï¼ï¼‰</li><li><strong>æ’å…¥å’Œåˆ é™¤æ˜¯å¦å—å…ƒç´ ä½ç½®çš„å½±å“</strong>ï¼šâ‘ ArrayListé‡‡ç”¨æ•°ç»„å­˜å‚¨ï¼Œæ‰€ä»¥æ’å…¥å’Œåˆ é™¤å…ƒç´ çš„æ—¶é—´å¤æ‚åº¦å—å…ƒç´ ä½ç½®çš„å½±å“ã€‚æ¯”å¦‚ï¼šæ‰§è¡Œadd(Ee)æ–¹æ³•çš„æ—¶å€™ï¼ŒArrayListä¼šé»˜è®¤åœ¨å°†æŒ‡å®šçš„å…ƒç´ è¿½åŠ åˆ°æ­¤åˆ—è¡¨çš„æœ«å°¾ï¼Œè¿™ç§æƒ…å†µæ—¶é—´å¤æ‚åº¦å°±æ˜¯O(1)ã€‚ä½†æ˜¯å¦‚æœè¦åœ¨æŒ‡å®šä½ç½®iæ’å…¥å’Œåˆ é™¤å…ƒç´ çš„è¯ï¼ˆadd(intindex,Eelement)ï¼‰æ—¶é—´å¤æ‚åº¦å°±ä¸ºO(n-i)ã€‚å› ä¸ºåœ¨è¿›è¡Œä¸Šè¿°æ“ä½œçš„æ—¶å€™é›†åˆä¸­ç¬¬iå’Œç¬¬iä¸ªå…ƒç´ ä¹‹åçš„(n-i)ä¸ªå…ƒç´ éƒ½è¦æ‰§è¡Œå‘åä½/å‘å‰ç§»ä¸€ä½çš„æ“ä½œã€‚â‘¡LinkedListé‡‡ç”¨é“¾è¡¨å­˜å‚¨ï¼Œæ‰€ä»¥å¯¹äºadd(Ee)æ–¹æ³•çš„æ’å…¥ï¼Œåˆ é™¤å…ƒç´ æ—¶é—´å¤æ‚åº¦ä¸å—å…ƒç´ ä½ç½®çš„å½±å“ï¼Œè¿‘ä¼¼O(1)ï¼Œå¦‚æœæ˜¯è¦åœ¨æŒ‡å®šä½ç½®iæ’å…¥å’Œåˆ é™¤å…ƒç´ çš„è¯ï¼ˆ(add(intindex,Eelement)ï¼‰æ—¶é—´å¤æ‚åº¦è¿‘ä¼¼ä¸ºo(n))å› ä¸ºéœ€è¦å…ˆç§»åŠ¨åˆ°æŒ‡å®šä½ç½®å†æ’å…¥ã€‚</li><li><strong>æ˜¯å¦æ”¯æŒå¿«é€Ÿéšæœºè®¿é—®</strong>ï¼šLinkedListä¸æ”¯æŒé«˜æ•ˆçš„éšæœºå…ƒç´ è®¿é—®ï¼Œè€ŒArrayListæ”¯æŒã€‚å¿«é€Ÿéšæœºè®¿é—®å°±æ˜¯é€šè¿‡å…ƒç´ çš„åºå·å¿«é€Ÿè·å–å…ƒç´ å¯¹è±¡(å¯¹åº”äºget(intindex)æ–¹æ³•)ã€‚</li><li><strong>å†…å­˜ç©ºé—´å ç”¨</strong>ï¼šArrayListçš„ç©ºé—´æµªè´¹ä¸»è¦ä½“ç°åœ¨åœ¨liståˆ—è¡¨çš„ç»“å°¾ä¼šé¢„ç•™ä¸€å®šçš„å®¹é‡ç©ºé—´ï¼Œè€ŒLinkedListçš„ç©ºé—´èŠ±è´¹åˆ™ä½“ç°åœ¨å®ƒçš„æ¯ä¸€ä¸ªå…ƒç´ éƒ½éœ€è¦æ¶ˆè€—æ¯”ArrayListæ›´å¤šçš„ç©ºé—´ï¼ˆå› ä¸ºè¦å­˜æ”¾ç›´æ¥åç»§å’Œç›´æ¥å‰é©±ä»¥åŠæ•°æ®ï¼‰ã€‚</li></ol><h3 id="hashmapå’Œhashtableæœ‰ä»€ä¹ˆåŒºåˆ«" tabindex="-1"><a class="header-anchor" href="#hashmapå’Œhashtableæœ‰ä»€ä¹ˆåŒºåˆ«" aria-hidden="true">#</a> HashMapå’ŒHashTableæœ‰ä»€ä¹ˆåŒºåˆ«</h3><ol><li><strong>HashMap</strong>å¯ä»¥æ¥å—ä¸ºnullçš„keyå’Œvalueï¼Œkeyä¸ºnullçš„é”®å€¼å¯¹æ”¾åœ¨ä¸‹æ ‡ä¸º0çš„å¤´ç»“ç‚¹çš„é“¾è¡¨ä¸­ï¼Œè€Œ<strong>Hashtable</strong>åˆ™ä¸è¡Œã€‚</li><li>HashMapæ˜¯<strong>éçº¿ç¨‹å®‰å…¨</strong>çš„ï¼ŒHashTableæ˜¯çº¿ç¨‹å®‰å…¨çš„ã€‚Jdk1.5æä¾›äº†<strong>ConcurrentHashMap</strong>ï¼Œå®ƒæ˜¯HashTableçš„æ›¿ä»£ã€‚</li><li><strong>Hashtable</strong>å¾ˆå¤šæ–¹æ³•æ˜¯<strong>åŒæ­¥</strong>æ–¹æ³•ï¼Œåœ¨å•çº¿ç¨‹ç¯å¢ƒä¸‹å®ƒæ¯”HashMapè¦æ…¢ã€‚</li><li><strong>å“ˆå¸Œå€¼çš„ä½¿ç”¨</strong>ä¸åŒï¼ŒHashTableç›´æ¥ä½¿ç”¨å¯¹è±¡çš„hashCodeã€‚è€ŒHashMapé‡æ–°è®¡ç®—hashå€¼ã€‚</li></ol><h3 id="concurrenthashmap-å’Œ-hashtable-çš„åŒºåˆ«" tabindex="-1"><a class="header-anchor" href="#concurrenthashmap-å’Œ-hashtable-çš„åŒºåˆ«" aria-hidden="true">#</a> ConcurrentHashMap å’Œ Hashtable çš„åŒºåˆ«</h3><p><code>ConcurrentHashMap</code> å’Œ <code>Hashtable</code> çš„åŒºåˆ«ä¸»è¦ä½“ç°åœ¨å®ç°çº¿ç¨‹å®‰å…¨çš„æ–¹å¼ä¸Šä¸åŒã€‚</p><p>åº•å±‚æ•°æ®ç»“æ„ï¼šJDK1.7çš„ <code>ConcurrentHashMap</code>åº•å±‚é‡‡ç”¨<strong>åˆ†æ®µçš„æ•°ç»„+é“¾è¡¨</strong>å®ç°ï¼ŒJDK1.8é‡‡ç”¨çš„æ•°æ®ç»“æ„è·Ÿ <code>HashMap1.8</code>çš„ç»“æ„ä¸€æ ·ï¼Œ<strong>æ•°ç»„+é“¾è¡¨/çº¢é»‘äºŒå‰æ ‘</strong>ã€‚<code>Hashtable</code>å’ŒJDK1.8ä¹‹å‰çš„ <code>HashMap</code>çš„åº•å±‚æ•°æ®ç»“æ„ç±»ä¼¼éƒ½æ˜¯é‡‡ç”¨æ•°ç»„+é“¾è¡¨çš„å½¢å¼ï¼Œæ•°ç»„æ˜¯ <code>HashMap</code>çš„ä¸»ä½“ï¼Œé“¾è¡¨åˆ™æ˜¯ä¸»è¦ä¸ºäº†è§£å†³å“ˆå¸Œå†²çªè€Œå­˜åœ¨çš„ï¼›</p><p>å®ç°çº¿ç¨‹å®‰å…¨çš„æ–¹å¼ï¼ˆé‡è¦ï¼‰ï¼š</p><ol><li>åœ¨JDK1.7çš„æ—¶å€™ï¼ŒConcurrentHashMapï¼ˆåˆ†æ®µé”ï¼‰å¯¹æ•´ä¸ªæ¡¶æ•°ç»„è¿›è¡Œäº†åˆ†å‰²åˆ†æ®µ(Segment)ï¼Œæ¯ä¸€æŠŠé”åªé”å®¹å™¨å…¶ä¸­ä¸€éƒ¨åˆ†æ•°æ®ï¼Œå¤šçº¿ç¨‹è®¿é—®å®¹å™¨é‡Œä¸åŒæ•°æ®æ®µçš„æ•°æ®ï¼Œå°±ä¸ä¼šå­˜åœ¨é”ç«äº‰ï¼Œæé«˜å¹¶å‘è®¿é—®ç‡ã€‚åˆ°äº†JDK1.8çš„æ—¶å€™å·²ç»æ‘’å¼ƒäº†Segmentçš„æ¦‚å¿µï¼Œè€Œæ˜¯ç›´æ¥ç”¨Nodeæ•°ç»„+é“¾è¡¨+çº¢é»‘æ ‘çš„æ•°æ®ç»“æ„æ¥å®ç°ï¼Œå¹¶å‘æ§åˆ¶ä½¿ç”¨synchronizedå’ŒCASæ¥æ“ä½œã€‚ï¼ˆJDK1.6ä»¥åå¯¹synchronizedé”åšäº†å¾ˆå¤šä¼˜åŒ–ï¼‰æ•´ä¸ªçœ‹èµ·æ¥å°±åƒæ˜¯ä¼˜åŒ–è¿‡ä¸”çº¿ç¨‹å®‰å…¨çš„HashMapï¼Œè™½ç„¶åœ¨JDK1.8ä¸­è¿˜èƒ½çœ‹åˆ°Segmentçš„æ•°æ®ç»“æ„ï¼Œä½†æ˜¯å·²ç»ç®€åŒ–äº†å±æ€§ï¼Œåªæ˜¯ä¸ºäº†å…¼å®¹æ—§ç‰ˆæœ¬ï¼›</li><li>HashTableå’ŒHashMapçš„å®ç°åŸç†å‡ ä¹ä¸€æ ·ï¼Œå·®åˆ«æ— éæ˜¯<strong>1.HashTableä¸å…è®¸keyå’Œvalueä¸ºnullï¼›2.HashTableæ˜¯çº¿ç¨‹å®‰å…¨çš„ã€‚<strong>ä½†æ˜¯HashTableçº¿ç¨‹å®‰å…¨çš„ç­–ç•¥å®ç°ä»£ä»·å´å¤ªå¤§äº†ï¼Œç®€å•ç²—æš´ï¼Œget/putæ‰€æœ‰ç›¸å…³æ“ä½œéƒ½æ˜¯synchronizedçš„ï¼Œè¿™ç›¸å½“äºç»™æ•´ä¸ªå“ˆå¸Œè¡¨åŠ äº†ä¸€æŠŠ</strong>å¤§é”</strong>ï¼Œå¤šçº¿ç¨‹è®¿é—®æ—¶å€™ï¼Œåªè¦æœ‰ä¸€ä¸ªçº¿ç¨‹è®¿é—®æˆ–æ“ä½œè¯¥å¯¹è±¡ï¼Œé‚£å…¶ä»–çº¿ç¨‹åªèƒ½é˜»å¡ï¼Œç›¸å½“äºå°†æ‰€æœ‰çš„æ“ä½œ<strong>ä¸²è¡ŒåŒ–</strong>ï¼Œåœ¨ç«äº‰æ¿€çƒˆçš„å¹¶å‘åœºæ™¯ä¸­æ€§èƒ½å°±ä¼šéå¸¸å·®ã€‚</li></ol><figure><img src="/Computer-Science-Learn-Notes/assets/image-20220606221411976-7086974e.png" alt="image-20220606221411976" tabindex="0" loading="lazy"><figcaption>image-20220606221411976</figcaption></figure><p>JDK1.7 çš„ ConcurrentHashMapï¼š</p><figure><img src="/Computer-Science-Learn-Notes/assets/image-20220606221435298-4c937eb5.png" alt="image-20220606221435298" tabindex="0" loading="lazy"><figcaption>image-20220606221435298</figcaption></figure><p>JDK1.8 çš„ ConcurrentHashMapï¼š JDK1.8 çš„ ConcurrentHashMap ä¸åœ¨æ˜¯ Segment æ•°ç»„ + HashEntry æ•°ç»„ + é“¾è¡¨ï¼Œè€Œæ˜¯ Node æ•°ç»„ + é“¾è¡¨ / çº¢é»‘æ ‘ã€‚ä¸è¿‡ï¼ŒNode åªèƒ½ç”¨äºé“¾è¡¨çš„æƒ…å†µï¼Œçº¢é»‘æ ‘çš„æƒ…å†µéœ€è¦ä½¿ç”¨ TreeNode ã€‚å½“å†²çªé“¾è¡¨è¾¾åˆ°ä¸€å®šâ»“åº¦æ—¶ï¼Œé“¾è¡¨ä¼šè½¬æ¢æˆçº¢é»‘æ ‘ã€‚</p><h3 id="â­concurrenthashmapçº¿ç¨‹å®‰å…¨çš„å…·ä½“å®ç°æ–¹å¼-åº•å±‚å…·ä½“å®ç°" tabindex="-1"><a class="header-anchor" href="#â­concurrenthashmapçº¿ç¨‹å®‰å…¨çš„å…·ä½“å®ç°æ–¹å¼-åº•å±‚å…·ä½“å®ç°" aria-hidden="true">#</a> â­ConcurrentHashMapçº¿ç¨‹å®‰å…¨çš„å…·ä½“å®ç°æ–¹å¼/åº•å±‚å…·ä½“å®ç°</h3><h4 id="jdk1-7" tabindex="-1"><a class="header-anchor" href="#jdk1-7" aria-hidden="true">#</a> JDK1.7</h4><figure><img src="/Computer-Science-Learn-Notes/assets/image-20220606221435298-4c937eb5.png" alt="image-20220606221435298" tabindex="0" loading="lazy"><figcaption>image-20220606221435298</figcaption></figure><p>é¦–å…ˆå°†æ•°æ®åˆ†ä¸ºä¸€æ®µä¸€æ®µçš„å­˜å‚¨ï¼Œç„¶åç»™æ¯ä¸€æ®µæ•°æ®é…ä¸€æŠŠé”ï¼Œå½“ä¸€ä¸ªçº¿ç¨‹å ç”¨é”è®¿é—®å…¶ä¸­ä¸€ä¸ªæ®µæ•°æ®æ—¶ï¼Œå…¶ä»–æ®µçš„æ•°æ®ä¹Ÿèƒ½è¢«å…¶ä»–çº¿ç¨‹è®¿é—®ã€‚</p><p><code>ConcurrentHashMap</code> æ˜¯ç”± <code>Segment </code>æ•°ç»„ç»“æ„å’Œ <code>HashEntry</code> æ•°ç»„ç»“æ„ç»„æˆã€‚</p><p>Segmentå®ç°äº†ReentrantLock,æ‰€ä»¥Segmentæ˜¯ä¸€ç§å¯é‡å…¥é”ï¼Œæ‰®æ¼”é”çš„â»†è‰²ã€‚HashEntryç”¨äºå­˜å‚¨é”®å€¼å¯¹æ•°æ®ã€‚</p><div class="language-JAVA line-numbers-mode" data-ext="JAVA"><pre class="language-JAVA"><code>static class Segment&lt;K,V&gt; extends ReentrantLock implements Serializable {
}
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>ä¸€ä¸ª <code>ConcurrentHashMap</code>é‡ŒåŒ…å«ä¸€ä¸ª <code>Segment</code>æ•°ç»„ã€‚<code>Segment</code>çš„ç»“æ„å’Œ <code>HashMap</code>ç±»ä¼¼ï¼Œæ˜¯ä¸€ç§æ•°ç»„å’Œé“¾è¡¨ç»“æ„ï¼Œä¸€ä¸ª <code>Segment</code>åŒ…å«ä¸€ä¸ª <code>HashEntry</code>æ•°ç»„ï¼Œæ¯ä¸ª <code>HashEntry</code>æ˜¯ä¸€ä¸ªé“¾è¡¨ç»“æ„çš„å…ƒç´ ï¼Œæ¯ä¸ªSegmentå®ˆæŠ¤ç€ä¸€ä¸ª <code>HashEntry</code>æ•°ç»„é‡Œçš„å…ƒç´ ï¼Œå½“å¯¹ <code>HashEntry</code>æ•°ç»„çš„æ•°æ®è¿›è¡Œä¿®æ”¹æ—¶ï¼Œå¿…é¡»é¦–å…ˆè·å¾—å¯¹åº”çš„Segmentçš„é”ã€‚</p><h4 id="jdk1-8" tabindex="-1"><a class="header-anchor" href="#jdk1-8" aria-hidden="true">#</a> JDK1.8</h4><figure><img src="/Computer-Science-Learn-Notes/assets/image-20220606222144072-567ee0be.png" alt="image-20220606222144072" tabindex="0" loading="lazy"><figcaption>image-20220606222144072</figcaption></figure><p><code>ConcurrentHashMap</code>å–æ¶ˆäº†Segmentåˆ†æ®µé”ï¼Œé‡‡ç”¨ <code>CAS</code>å’Œ <code>synchronized</code>æ¥ä¿è¯å¹¶å‘å®‰å…¨ã€‚æ•°æ®ç»“æ„è·Ÿ <code>HashMap1.8</code>çš„ç»“æ„ç±»ä¼¼ï¼Œæ•°ç»„+é“¾è¡¨/çº¢é»‘äºŒå‰æ ‘ã€‚Java 8åœ¨é“¾è¡¨â»“åº¦è¶…è¿‡ä¸€å®šé˜ˆå€¼ï¼ˆ8ï¼‰æ—¶å°†é“¾è¡¨ï¼ˆå¯»å€æ—¶é—´å¤æ‚åº¦ä¸ºO(N)ï¼‰è½¬æ¢ä¸ºçº¢é»‘æ ‘ï¼ˆå¯»å€æ—¶é—´å¤æ‚åº¦ä¸ºO(log(N))ï¼‰synchronizedåªé”å®šå½“å‰é“¾è¡¨æˆ–çº¢é»‘äºŒå‰æ ‘çš„é¦–èŠ‚ç‚¹ï¼Œè¿™æ ·åªè¦hashä¸å†²çªï¼Œå°±ä¸ä¼šäº§ç”Ÿå¹¶å‘ï¼Œæ•ˆç‡åˆæå‡Nå€ã€‚</p><h3 id="è¯´ä¸€è¯´javaåå°„" tabindex="-1"><a class="header-anchor" href="#è¯´ä¸€è¯´javaåå°„" aria-hidden="true">#</a> è¯´ä¸€è¯´Javaåå°„ï¼Ÿ</h3><p>åå°„æ˜¯åœ¨è¿è¡ŒçŠ¶æ€ä¸­ï¼Œå¯¹äºä»»æ„ä¸€ä¸ªç±»ï¼Œéƒ½èƒ½å¤ŸçŸ¥é“è¿™ä¸ªç±»çš„æ‰€æœ‰å±æ€§å’Œæ–¹æ³•ï¼›å¯¹äºä»»æ„ä¸€ä¸ªå¯¹è±¡ï¼Œéƒ½èƒ½å¤Ÿè°ƒç”¨å®ƒçš„ä»»æ„ä¸€ä¸ªæ–¹æ³•å’Œå±æ€§ï¼›è¿™ç§åŠ¨æ€è·å–çš„ä¿¡æ¯ä»¥åŠåŠ¨æ€è°ƒç”¨å¯¹è±¡çš„æ–¹æ³•çš„åŠŸèƒ½ç§°ä¸º Java è¯­è¨€çš„åå°„æœºåˆ¶ã€‚</p><ul><li>ä¼˜ç‚¹ï¼šèƒ½å¤Ÿè¿è¡Œæ—¶åŠ¨æ€è·å–ç±»çš„å®ä¾‹ï¼Œæé«˜çµæ´»æ€§ï¼›å¯ä¸åŠ¨æ€ç¼–è¯‘ç»“åˆ<code>Class.forName(&#39;com.mysql.jdbc.Driver.class&#39;);</code>ï¼ŒåŠ è½½<a href="https://www.wkcto.com/courses/mysql.html" target="_blank" rel="noopener noreferrer">MySQL<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>çš„é©±åŠ¨ç±»ã€‚</li><li>ç¼ºç‚¹ï¼šä½¿ç”¨åå°„æ€§èƒ½è¾ƒä½ï¼Œéœ€è¦è§£æå­—èŠ‚ç ï¼Œå°†å†…å­˜ä¸­çš„å¯¹è±¡è¿›è¡Œè§£æã€‚å…¶è§£å†³æ–¹æ¡ˆæ˜¯ï¼šé€šè¿‡setAccessible(true)å…³é—­JDKçš„å®‰å…¨æ£€æŸ¥æ¥æå‡åå°„é€Ÿåº¦ï¼›å¤šæ¬¡åˆ›å»ºä¸€ä¸ªç±»çš„å®ä¾‹æ—¶ï¼Œæœ‰ç¼“å­˜ä¼šå¿«å¾ˆå¤šï¼›ReflflectASMå·¥å…·ç±»ï¼Œé€šè¿‡å­—èŠ‚ç ç”Ÿæˆçš„æ–¹å¼åŠ å¿«åå°„é€Ÿåº¦ã€‚</li></ul><blockquote><p>åº”ç”¨åœºæ™¯</p></blockquote><ol><li>JDBCè¿æ¥æ•°æ®åº“æ—¶ä½¿ç”¨<code>Class.forName()</code>é€šè¿‡åå°„åŠ è½½æ•°æ®åº“çš„é©±åŠ¨ç¨‹åº</li><li>Eclispeã€IDEAç­‰å¼€å‘å·¥å…·åˆ©ç”¨åå°„åŠ¨æ€è§£æå¯¹è±¡çš„ç±»å‹ä¸ç»“æ„ï¼ŒåŠ¨æ€æç¤ºå¯¹è±¡çš„å±æ€§å’Œæ–¹æ³•</li><li>WebæœåŠ¡å™¨ä¸­åˆ©ç”¨åå°„è°ƒç”¨äº†Sevletçš„<code>service</code>æ–¹æ³•</li><li>JDKåŠ¨æ€ä»£ç†åº•å±‚ä¾èµ–åå°„å®ç°</li></ol></div><!----><footer class="page-meta"><div class="meta-item edit-link"><a href="https://github.com/zhiyu1998/Computer-Science-Learn-Notes/edit/main/demo/theme-docs/src/Java/eightpart/foundation.md" rel="noopener noreferrer" target="_blank" aria-label="åœ¨ GitHub ä¸Šç¼–è¾‘æ­¤é¡µ" class="nav-link label"><!--[--><svg xmlns="http://www.w3.org/2000/svg" class="icon edit-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="edit icon"><path d="M430.818 653.65a60.46 60.46 0 0 1-50.96-93.281l71.69-114.012 7.773-10.365L816.038 80.138A60.46 60.46 0 0 1 859.225 62a60.46 60.46 0 0 1 43.186 18.138l43.186 43.186a60.46 60.46 0 0 1 0 86.373L588.879 565.55l-8.637 8.637-117.466 68.234a60.46 60.46 0 0 1-31.958 11.229z"></path><path d="M728.802 962H252.891A190.883 190.883 0 0 1 62.008 771.98V296.934a190.883 190.883 0 0 1 190.883-192.61h267.754a60.46 60.46 0 0 1 0 120.92H252.891a69.962 69.962 0 0 0-69.098 69.099V771.98a69.962 69.962 0 0 0 69.098 69.098h475.911A69.962 69.962 0 0 0 797.9 771.98V503.363a60.46 60.46 0 1 1 120.922 0V771.98A190.883 190.883 0 0 1 728.802 962z"></path></svg><!--]-->åœ¨ GitHub ä¸Šç¼–è¾‘æ­¤é¡µ<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!----></a></div><div class="meta-item git-info"><div class="update-time"><span class="label">ä¸Šæ¬¡ç¼–è¾‘äº: </span><!----></div><div class="contributors"><span class="label">è´¡çŒ®è€…: </span><!--[--><!--[--><span class="contributor" title="email: 542716863@qq.com">RrOrange</span><!--]--><!--]--></div></div></footer><nav class="page-nav"><!----><a href="/Computer-Science-Learn-Notes/Java/eightpart/concurrency.html" class="nav-link next" aria-label="Javaå¹¶å‘"><div class="hint">ä¸‹ä¸€é¡µ<span class="arrow end"></span></div><div class="link">Javaå¹¶å‘<!----></div></a></nav><!----><!----><!--]--></main><!--]--><footer class="footer-wrapper"><div class="footer">é»˜è®¤é¡µè„š</div><div class="copyright">Copyright Â© 2023 zhiyu1998</div></footer></div><!--]--><!----><!----><!----><!--]--></div>
    <script type="module" src="/Computer-Science-Learn-Notes/assets/app-c8182957.js" defer></script>
  </body>
</html>
