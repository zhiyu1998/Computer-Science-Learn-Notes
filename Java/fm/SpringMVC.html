<!DOCTYPE html>
<html lang="zh-CN" data-theme="light">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-beta.61" />
    <meta name="theme" content="VuePress Theme Hope" />
    <meta property="og:url" content="https://zhiyu1998.github.io/Computer-Science-Learn-Notes/Computer-Science-Learn-Notes/Java/fm/SpringMVC.html"><meta property="og:site_name" content="CSLN"><meta property="og:title" content="SpringMVC"><meta property="og:description" content="SpringMVC ALL IN ONE (#springmvc-all-in-one); SpringMVCçš„é…ç½® (#springmvcçš„é…ç½®); ç»†èŠ‚è¡¥å……ï¼š (#ç»†èŠ‚è¡¥å……); @RequestMappingçš„å…¶ä»–å±æ€§ (#requestmappingçš„å…¶ä»–å±æ€§); method (#method); params (#params); heade..."><meta property="og:type" content="article"><meta property="og:image" content="https://zhiyu1998.github.io/Computer-Science-Learn-Notes/Computer-Science-Learn-Notes/"><meta property="og:locale" content="zh-CN"><meta property="og:updated_time" content="2023-07-02T07:02:59.000Z"><meta name="twitter:card" content="summary_large_image"><meta name="twitter:image:alt" content="SpringMVC"><meta property="article:author" content="zhiyu1998"><meta property="article:modified_time" content="2023-07-02T07:02:59.000Z"><script type="application/ld+json">{"@context":"https://schema.org","@type":"Article","headline":"SpringMVC","image":["https://zhiyu1998.github.io/Computer-Science-Learn-Notes/Computer-Science-Learn-Notes/"],"dateModified":"2023-07-02T07:02:59.000Z","author":[{"@type":"Person","name":"zhiyu1998","url":"https://github.com/zhiyu1998"}]}</script><link rel="manifest" href="/Computer-Science-Learn-Notes/manifest.webmanifest" crossorigin="use-credentials"><meta name="theme-color" content="#46bd87"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover"><title>SpringMVC | CSLN</title><meta name="description" content="SpringMVC ALL IN ONE (#springmvc-all-in-one); SpringMVCçš„é…ç½® (#springmvcçš„é…ç½®); ç»†èŠ‚è¡¥å……ï¼š (#ç»†èŠ‚è¡¥å……); @RequestMappingçš„å…¶ä»–å±æ€§ (#requestmappingçš„å…¶ä»–å±æ€§); method (#method); params (#params); heade...">
    <style>
      :root {
        --bg-color: #fff;
      }

      html[data-theme="dark"] {
        --bg-color: #1d1e1f;
      }

      html,
      body {
        background: var(--bg-color);
      }
    </style>
    <script>
      const userMode = localStorage.getItem("vuepress-theme-hope-scheme");
      const systemDarkMode =
        window.matchMedia &&
        window.matchMedia("(prefers-color-scheme: dark)").matches;

      if (userMode === "dark" || (userMode !== "light" && systemDarkMode)) {
        document.documentElement.setAttribute("data-theme", "dark");
      }
    </script>
    <link rel="preload" href="/Computer-Science-Learn-Notes/assets/style-a5be085c.css" as="style"><link rel="stylesheet" href="/Computer-Science-Learn-Notes/assets/style-a5be085c.css">
    <link rel="modulepreload" href="/Computer-Science-Learn-Notes/assets/app-43b96cf9.js"><link rel="modulepreload" href="/Computer-Science-Learn-Notes/assets/framework-c8643d23.js"><link rel="modulepreload" href="/Computer-Science-Learn-Notes/assets/SpringMVC.html-1042ef24.js"><link rel="modulepreload" href="/Computer-Science-Learn-Notes/assets/SpringMVC.html-f700dd8c.js">
  </head>
  <body>
    <div id="app"><!--[--><!--[--><!--[--><span tabindex="-1"></span><a href="#main-content" class="skip-link sr-only">è·³è‡³ä¸»è¦å…§å®¹</a><!--]--><div class="theme-container has-toc"><!--[--><header class="navbar" id="navbar"><div class="navbar-start"><button type="button" class="toggle-sidebar-button" title="Toggle Sidebar"><span class="icon"></span></button><!--[--><!----><!--]--><a href="/Computer-Science-Learn-Notes/" class="brand"><img class="logo" src="/Computer-Science-Learn-Notes/logo.svg" alt="CSLN"><!----><span class="site-name hide-in-pad">CSLN</span></a><!--[--><!----><!--]--></div><div class="navbar-center"><!--[--><!----><!--]--><nav class="nav-links"><div class="nav-item hide-in-mobile"><a href="/Computer-Science-Learn-Notes/" class="nav-link" aria-label="ä¸»é¡µ"><span class="font-icon icon iconfont icon-home" style=""></span>ä¸»é¡µ<!----></a></div><div class="nav-item hide-in-mobile"><a href="/Computer-Science-Learn-Notes/intro/" class="nav-link" aria-label="å¯¼è¯»"><span class="font-icon icon iconfont icon-discover" style=""></span>å¯¼è¯»<!----></a></div><div class="nav-item hide-in-mobile"><a href="https://github.com/zhiyu1998/Computer-Science-Learn-Notes/issues" rel="noopener noreferrer" target="_blank" aria-label="é—®é¢˜åé¦ˆ" class="nav-link"><span class="font-icon icon iconfont icon-note" style=""></span>é—®é¢˜åé¦ˆ<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!----></a></div></nav><!--[--><!----><!--]--></div><div class="navbar-end"><!--[--><!----><!--]--><!----><div class="nav-item"><a class="repo-link" href="https://github.com/zhiyu1998/Computer-Science-Learn-Notes" target="_blank" rel="noopener noreferrer" aria-label="GitHub"><svg xmlns="http://www.w3.org/2000/svg" class="icon github-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="github icon" style="width:1.25rem;height:1.25rem;vertical-align:middle;"><path d="M511.957 21.333C241.024 21.333 21.333 240.981 21.333 512c0 216.832 140.544 400.725 335.574 465.664 24.49 4.395 32.256-10.07 32.256-23.083 0-11.69.256-44.245 0-85.205-136.448 29.61-164.736-64.64-164.736-64.64-22.315-56.704-54.4-71.765-54.4-71.765-44.587-30.464 3.285-29.824 3.285-29.824 49.195 3.413 75.179 50.517 75.179 50.517 43.776 75.008 114.816 53.333 142.762 40.79 4.523-31.66 17.152-53.377 31.19-65.537-108.971-12.458-223.488-54.485-223.488-242.602 0-53.547 19.114-97.323 50.517-131.67-5.035-12.33-21.93-62.293 4.779-129.834 0 0 41.258-13.184 134.912 50.346a469.803 469.803 0 0 1 122.88-16.554c41.642.213 83.626 5.632 122.88 16.554 93.653-63.488 134.784-50.346 134.784-50.346 26.752 67.541 9.898 117.504 4.864 129.834 31.402 34.347 50.474 78.123 50.474 131.67 0 188.586-114.73 230.016-224.042 242.09 17.578 15.232 33.578 44.672 33.578 90.454v135.85c0 13.142 7.936 27.606 32.854 22.87C862.25 912.597 1002.667 728.747 1002.667 512c0-271.019-219.648-490.667-490.71-490.667z"></path></svg></a></div><div class="nav-item hide-in-mobile"><button type="button" id="appearance-switch"><svg xmlns="http://www.w3.org/2000/svg" class="icon auto-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="auto icon" style="display:block;"><path d="M512 992C246.92 992 32 777.08 32 512S246.92 32 512 32s480 214.92 480 480-214.92 480-480 480zm0-840c-198.78 0-360 161.22-360 360 0 198.84 161.22 360 360 360s360-161.16 360-360c0-198.78-161.22-360-360-360zm0 660V212c165.72 0 300 134.34 300 300 0 165.72-134.28 300-300 300z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon dark-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="dark icon" style="display:none;"><path d="M524.8 938.667h-4.267a439.893 439.893 0 0 1-313.173-134.4 446.293 446.293 0 0 1-11.093-597.334A432.213 432.213 0 0 1 366.933 90.027a42.667 42.667 0 0 1 45.227 9.386 42.667 42.667 0 0 1 10.24 42.667 358.4 358.4 0 0 0 82.773 375.893 361.387 361.387 0 0 0 376.747 82.774 42.667 42.667 0 0 1 54.187 55.04 433.493 433.493 0 0 1-99.84 154.88 438.613 438.613 0 0 1-311.467 128z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon light-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="light icon" style="display:none;"><path d="M952 552h-80a40 40 0 0 1 0-80h80a40 40 0 0 1 0 80zM801.88 280.08a41 41 0 0 1-57.96-57.96l57.96-58a41.04 41.04 0 0 1 58 58l-58 57.96zM512 752a240 240 0 1 1 0-480 240 240 0 0 1 0 480zm0-560a40 40 0 0 1-40-40V72a40 40 0 0 1 80 0v80a40 40 0 0 1-40 40zm-289.88 88.08-58-57.96a41.04 41.04 0 0 1 58-58l57.96 58a41 41 0 0 1-57.96 57.96zM192 512a40 40 0 0 1-40 40H72a40 40 0 0 1 0-80h80a40 40 0 0 1 40 40zm30.12 231.92a41 41 0 0 1 57.96 57.96l-57.96 58a41.04 41.04 0 0 1-58-58l58-57.96zM512 832a40 40 0 0 1 40 40v80a40 40 0 0 1-80 0v-80a40 40 0 0 1 40-40zm289.88-88.08 58 57.96a41.04 41.04 0 0 1-58 58l-57.96-58a41 41 0 0 1 57.96-57.96z"></path></svg></button></div><!--[--><button type="button" class="search-pro-button" role="search" aria-label="æœç´¢"><svg xmlns="http://www.w3.org/2000/svg" class="icon search-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="search icon"><path d="M192 480a256 256 0 1 1 512 0 256 256 0 0 1-512 0m631.776 362.496-143.2-143.168A318.464 318.464 0 0 0 768 480c0-176.736-143.264-320-320-320S128 303.264 128 480s143.264 320 320 320a318.016 318.016 0 0 0 184.16-58.592l146.336 146.368c12.512 12.48 32.768 12.48 45.28 0 12.48-12.512 12.48-32.768 0-45.28"></path></svg><div class="placeholder">æœç´¢</div><div class="key-hints"><kbd class="key">Ctrl</kbd><kbd class="key">K</kbd></div></button><!--]--><!--[--><!----><!--]--><button type="button" class="toggle-navbar-button" aria-label="Toggle Navbar" aria-expanded="false" aria-controls="nav-screen"><span class="button-container"><span class="button-top"></span><span class="button-middle"></span><span class="button-bottom"></span></span></button></div></header><!----><!--]--><!----><div class="toggle-sidebar-wrapper"><span class="arrow start"></span></div><aside class="sidebar" id="sidebar"><!--[--><!----><!--]--><ul class="sidebar-links"><li><section class="sidebar-group"><button class="sidebar-heading clickable" type="button"><span class="font-icon icon iconfont icon-build" style=""></span><span class="title">è®¡ç®—æœºåŸºç¡€</span><span class="arrow end"></span></button><!----></section></li><li><section class="sidebar-group"><button class="sidebar-heading clickable" type="button"><span class="font-icon icon iconfont icon-vscode" style=""></span><span class="title">å‰ç«¯</span><span class="arrow end"></span></button><!----></section></li><li><section class="sidebar-group"><button class="sidebar-heading clickable" type="button"><span class="font-icon icon iconfont icon-timer" style=""></span><span class="title">Golang</span><span class="arrow end"></span></button><!----></section></li><li><section class="sidebar-group"><button class="sidebar-heading clickable" type="button"><span class="font-icon icon iconfont icon-light" style=""></span><span class="title">Rust</span><span class="arrow end"></span></button><!----></section></li><li><section class="sidebar-group"><button class="sidebar-heading clickable active" type="button"><span class="font-icon icon iconfont icon-java" style=""></span><span class="title">Java</span><span class="arrow down"></span></button><ul class="sidebar-links"><li><section class="sidebar-group"><button class="sidebar-heading clickable" type="button"><span class="font-icon icon iconfont icon-activity" style=""></span><span class="title">åŸºç¡€</span><span class="arrow end"></span></button><!----></section></li><li><section class="sidebar-group"><button class="sidebar-heading clickable" type="button"><span class="font-icon icon iconfont icon-branch" style=""></span><span class="title">å¹¶å‘</span><span class="arrow end"></span></button><!----></section></li><li><section class="sidebar-group"><button class="sidebar-heading clickable" type="button"><span class="font-icon icon iconfont icon-profile" style=""></span><span class="title">é¢è¯•</span><span class="arrow end"></span></button><!----></section></li><li><section class="sidebar-group"><button class="sidebar-heading clickable active" type="button"><span class="font-icon icon iconfont icon-leaf" style=""></span><span class="title">æ¡†æ¶</span><span class="arrow down"></span></button><ul class="sidebar-links"><li><!--[--><a href="/Computer-Science-Learn-Notes/Java/fm/Spring.html" class="nav-link sidebar-link sidebar-page" aria-label="Spring"><!---->Spring<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a aria-current="page" href="/Computer-Science-Learn-Notes/Java/fm/SpringMVC.html" class="router-link-active router-link-exact-active nav-link active sidebar-link sidebar-page active" aria-label="SpringMVC"><!---->SpringMVC<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/Computer-Science-Learn-Notes/Java/fm/SpringMVC.html#springmvcçš„é…ç½®" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="SpringMVCçš„é…ç½®"><!---->SpringMVCçš„é…ç½®<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/Computer-Science-Learn-Notes/Java/fm/SpringMVC.html#ç»†èŠ‚è¡¥å……" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="ç»†èŠ‚è¡¥å……ï¼š"><!---->ç»†èŠ‚è¡¥å……ï¼š<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/Computer-Science-Learn-Notes/Java/fm/SpringMVC.html#requestmappingçš„å…¶ä»–å±æ€§" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="@RequestMappingçš„å…¶ä»–å±æ€§"><!---->@RequestMappingçš„å…¶ä»–å±æ€§<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/Computer-Science-Learn-Notes/Java/fm/SpringMVC.html#method" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="method"><!---->method<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/Computer-Science-Learn-Notes/Java/fm/SpringMVC.html#params" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="params"><!---->params<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/Computer-Science-Learn-Notes/Java/fm/SpringMVC.html#headers" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="headers"><!---->headers<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/Computer-Science-Learn-Notes/Java/fm/SpringMVC.html#consume" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="consume"><!---->consume<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/Computer-Science-Learn-Notes/Java/fm/SpringMVC.html#produces" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="produces"><!---->produces<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/Computer-Science-Learn-Notes/Java/fm/SpringMVC.html#anté£æ ¼çš„urlå’Œ-pathvariable" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="anté£æ ¼çš„urlå’Œ@PathVariable"><!---->anté£æ ¼çš„urlå’Œ@PathVariable<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/Computer-Science-Learn-Notes/Java/fm/SpringMVC.html#requestmappingçš„anté£æ ¼url" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="@RequestMappingçš„anté£æ ¼url"><!---->@RequestMappingçš„anté£æ ¼url<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/Computer-Science-Learn-Notes/Java/fm/SpringMVC.html#pathvariable" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="@PathVariable"><!---->@PathVariable<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/Computer-Science-Learn-Notes/Java/fm/SpringMVC.html#è·å–è¯·æ±‚ä¿¡æ¯" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="è·å–è¯·æ±‚ä¿¡æ¯"><!---->è·å–è¯·æ±‚ä¿¡æ¯<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/Computer-Science-Learn-Notes/Java/fm/SpringMVC.html#requestmapping-è·å–å‚æ•°-path-xxx-xxx" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="@RequestMapping è·å–å‚æ•° path?xxx= xxx"><!---->@RequestMapping è·å–å‚æ•° path?xxx= xxx<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/Computer-Science-Learn-Notes/Java/fm/SpringMVC.html#requestheader-è·å–è¯·æ±‚å¤´" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="@RequestHeader è·å–è¯·æ±‚å¤´"><!---->@RequestHeader è·å–è¯·æ±‚å¤´<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/Computer-Science-Learn-Notes/Java/fm/SpringMVC.html#cookievalue-è·å–cookieçš„å€¼" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="@CookieValue è·å–Cookieçš„å€¼"><!---->@CookieValue è·å–Cookieçš„å€¼<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/Computer-Science-Learn-Notes/Java/fm/SpringMVC.html#ä½¿ç”¨-pojo-å¯¹è±¡ç»‘å®šè¯·æ±‚å‚æ•°å€¼" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="ä½¿ç”¨ POJO å¯¹è±¡ç»‘å®šè¯·æ±‚å‚æ•°å€¼"><!---->ä½¿ç”¨ POJO å¯¹è±¡ç»‘å®šè¯·æ±‚å‚æ•°å€¼<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/Computer-Science-Learn-Notes/Java/fm/SpringMVC.html#ä½¿ç”¨tomcatåŸç”Ÿapi" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="ä½¿ç”¨tomcatåŸç”ŸAPI"><!---->ä½¿ç”¨tomcatåŸç”ŸAPI<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/Computer-Science-Learn-Notes/Java/fm/SpringMVC.html#æ•°æ®è¾“å‡º-modelå’Œmodelmap" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="æ•°æ®è¾“å‡º Modelå’ŒModelMap"><!---->æ•°æ®è¾“å‡º Modelå’ŒModelMap<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/Computer-Science-Learn-Notes/Java/fm/SpringMVC.html#ä½¿ç”¨model" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="ä½¿ç”¨Model"><!---->ä½¿ç”¨Model<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/Computer-Science-Learn-Notes/Java/fm/SpringMVC.html#ä½¿ç”¨modelmap" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="ä½¿ç”¨ModelMap"><!---->ä½¿ç”¨ModelMap<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/Computer-Science-Learn-Notes/Java/fm/SpringMVC.html#æ•°æ®è¾“å‡º-modelandviewä½¿ç”¨" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="æ•°æ®è¾“å‡º ModelAndViewä½¿ç”¨"><!---->æ•°æ®è¾“å‡º ModelAndViewä½¿ç”¨<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/Computer-Science-Learn-Notes/Java/fm/SpringMVC.html#æ•°æ®è¾“å‡º-sessionattributes" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="æ•°æ®è¾“å‡º @SessionAttributes"><!---->æ•°æ®è¾“å‡º @SessionAttributes<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/Computer-Science-Learn-Notes/Java/fm/SpringMVC.html#æ•°æ®è¾“å‡º-modelattribute" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="æ•°æ®è¾“å‡º @ModelAttribute"><!---->æ•°æ®è¾“å‡º @ModelAttribute<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/Computer-Science-Learn-Notes/Java/fm/SpringMVC.html#æºç åˆ†æ-dispatcherservlet" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="æºç åˆ†æ DispatcherServlet"><!---->æºç åˆ†æ DispatcherServlet<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/Computer-Science-Learn-Notes/Java/fm/SpringMVC.html#æ¦‚è§ˆ" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="æ¦‚è§ˆ"><!---->æ¦‚è§ˆ<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/Computer-Science-Learn-Notes/Java/fm/SpringMVC.html#æ•´ä½“" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="æ•´ä½“"><!---->æ•´ä½“<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/Computer-Science-Learn-Notes/Java/fm/SpringMVC.html#dodispatchçš„è¯¦ç»†ç»†èŠ‚" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="doDispatchçš„è¯¦ç»†ç»†èŠ‚"><!---->doDispatchçš„è¯¦ç»†ç»†èŠ‚<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/Computer-Science-Learn-Notes/Java/fm/SpringMVC.html#gethandlerçš„è¯¦ç»†" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="getHandlerçš„è¯¦ç»†"><!---->getHandlerçš„è¯¦ç»†<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/Computer-Science-Learn-Notes/Java/fm/SpringMVC.html#gethandleradapter" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="getHandlerAdapter"><!---->getHandlerAdapter<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/Computer-Science-Learn-Notes/Java/fm/SpringMVC.html#æºç åˆ†æ-springmvcçš„ä¹å¤§ç»„ä»¶" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="æºç åˆ†æ SpringMVCçš„ä¹å¤§ç»„ä»¶"><!---->æºç åˆ†æ SpringMVCçš„ä¹å¤§ç»„ä»¶<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/Computer-Science-Learn-Notes/Java/fm/SpringMVC.html#åˆå§‹åŒ–" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="åˆå§‹åŒ–"><!---->åˆå§‹åŒ–<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/Computer-Science-Learn-Notes/Java/fm/SpringMVC.html#æºç åˆ†æ-modelattribute" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="æºç åˆ†æ @ModelAttribute"><!---->æºç åˆ†æ @ModelAttribute<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/Computer-Science-Learn-Notes/Java/fm/SpringMVC.html#è§†å›¾è§£æ-è½¬å‘å’Œé‡å®šå‘" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="è§†å›¾è§£æ è½¬å‘å’Œé‡å®šå‘"><!---->è§†å›¾è§£æ è½¬å‘å’Œé‡å®šå‘<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/Computer-Science-Learn-Notes/Java/fm/SpringMVC.html#æºç åˆ†æ-è§†å›¾è§£æ" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="æºç åˆ†æ è§†å›¾è§£æ"><!---->æºç åˆ†æ è§†å›¾è§£æ<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/Computer-Science-Learn-Notes/Java/fm/SpringMVC.html#è§†å›¾è§£æ-jstl-å›½é™…åŒ–" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="è§†å›¾è§£æ JSTL å›½é™…åŒ–"><!---->è§†å›¾è§£æ JSTL å›½é™…åŒ–<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/Computer-Science-Learn-Notes/Java/fm/SpringMVC.html#æ•°æ®ç»‘å®š-mvc-annotation-driver" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="æ•°æ®ç»‘å®š mvc:annotation-driver"><!---->æ•°æ®ç»‘å®š mvc:annotation-driver<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/Computer-Science-Learn-Notes/Java/fm/SpringMVC.html#åºè¨€-jspä¸¤ç§è·å–é¡¹ç›®è·¯å¾„çš„æ–¹å¼" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="åºè¨€ï¼šJSPä¸¤ç§è·å–é¡¹ç›®è·¯å¾„çš„æ–¹å¼"><!---->åºè¨€ï¼šJSPä¸¤ç§è·å–é¡¹ç›®è·¯å¾„çš„æ–¹å¼<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/Computer-Science-Learn-Notes/Java/fm/SpringMVC.html#è‡ªå®šä¹‰æ•°æ®ç»‘å®šç±»å‹å’Œé™æ€èµ„æºçš„æ‹¦æˆª" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="è‡ªå®šä¹‰æ•°æ®ç»‘å®šç±»å‹å’Œé™æ€èµ„æºçš„æ‹¦æˆª"><!---->è‡ªå®šä¹‰æ•°æ®ç»‘å®šç±»å‹å’Œé™æ€èµ„æºçš„æ‹¦æˆª<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/Computer-Science-Learn-Notes/Java/fm/SpringMVC.html#æ—¥æœŸæ ¼å¼åŒ–" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="æ—¥æœŸæ ¼å¼åŒ–"><!---->æ—¥æœŸæ ¼å¼åŒ–<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/Computer-Science-Learn-Notes/Java/fm/SpringMVC.html#æ•°æ®æ ¡éªŒ-æ ¡éªŒæ³¨è§£-å»é”™è¯¯é¡µé¢" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="æ•°æ®æ ¡éªŒ æ ¡éªŒæ³¨è§£&amp;å»é”™è¯¯é¡µé¢"><!---->æ•°æ®æ ¡éªŒ æ ¡éªŒæ³¨è§£&amp;å»é”™è¯¯é¡µé¢<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/Computer-Science-Learn-Notes/Java/fm/SpringMVC.html#æç¤º-ideaä½¿ç”¨-alt-shift-insert-è¿›å…¥å¤šè¡Œç¼–è¾‘æ¨¡å¼" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="æç¤ºï¼šIDEAä½¿ç”¨ alt + shift + insert è¿›å…¥å¤šè¡Œç¼–è¾‘æ¨¡å¼"><!---->æç¤ºï¼šIDEAä½¿ç”¨ alt + shift + insert è¿›å…¥å¤šè¡Œç¼–è¾‘æ¨¡å¼<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/Computer-Science-Learn-Notes/Java/fm/SpringMVC.html#æ•°æ®æ ¡éªŒ" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="æ•°æ®æ ¡éªŒ"><!---->æ•°æ®æ ¡éªŒ<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/Computer-Science-Learn-Notes/Java/fm/SpringMVC.html#å›½é™…åŒ–å®šåˆ¶é”™è¯¯æ¶ˆæ¯" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="å›½é™…åŒ–å®šåˆ¶é”™è¯¯æ¶ˆæ¯"><!---->å›½é™…åŒ–å®šåˆ¶é”™è¯¯æ¶ˆæ¯<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/Computer-Science-Learn-Notes/Java/fm/SpringMVC.html#springmvcå¯¹ajaxçš„æ”¯æŒ" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="SpringMVCå¯¹AJAXçš„æ”¯æŒ"><!---->SpringMVCå¯¹AJAXçš„æ”¯æŒ<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/Computer-Science-Learn-Notes/Java/fm/SpringMVC.html#è¯·æ±‚ä½“-responsebody" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="è¯·æ±‚ä½“ @ResponseBody"><!---->è¯·æ±‚ä½“ @ResponseBody<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/Computer-Science-Learn-Notes/Java/fm/SpringMVC.html#è·å–è¯·æ±‚å¤´-httpentity" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="è·å–è¯·æ±‚å¤´ @HttpEntity"><!---->è·å–è¯·æ±‚å¤´ @HttpEntity<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/Computer-Science-Learn-Notes/Java/fm/SpringMVC.html#responseentity-è¿”å›å“åº”å¼æ•°æ®" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="@ResponseEntity è¿”å›å“åº”å¼æ•°æ®"><!---->@ResponseEntity è¿”å›å“åº”å¼æ•°æ®<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/Computer-Science-Learn-Notes/Java/fm/SpringMVC.html#æ–‡ä»¶ä¸‹è½½åŠæ–‡ä»¶ä¸Šä¼ " class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="æ–‡ä»¶ä¸‹è½½åŠæ–‡ä»¶ä¸Šä¼ "><!---->æ–‡ä»¶ä¸‹è½½åŠæ–‡ä»¶ä¸Šä¼ <!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/Computer-Science-Learn-Notes/Java/fm/SpringMVC.html#æ–‡ä»¶ä¸‹è½½" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="æ–‡ä»¶ä¸‹è½½"><!---->æ–‡ä»¶ä¸‹è½½<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/Computer-Science-Learn-Notes/Java/fm/SpringMVC.html#æ–‡ä»¶ä¸Šä¼ " class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="æ–‡ä»¶ä¸Šä¼ "><!---->æ–‡ä»¶ä¸Šä¼ <!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/Computer-Science-Learn-Notes/Java/fm/SpringMVC.html#å¤šæ–‡ä»¶ä¸Šä¼ " class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="å¤šæ–‡ä»¶ä¸Šä¼ "><!---->å¤šæ–‡ä»¶ä¸Šä¼ <!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/Computer-Science-Learn-Notes/Java/fm/SpringMVC.html#æ‹¦æˆªå™¨åŠå¤šæ‹¦æˆªå™¨" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="æ‹¦æˆªå™¨åŠå¤šæ‹¦æˆªå™¨"><!---->æ‹¦æˆªå™¨åŠå¤šæ‹¦æˆªå™¨<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/Computer-Science-Learn-Notes/Java/fm/SpringMVC.html#å¤šæ‹¦æˆªå™¨" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="å¤šæ‹¦æˆªå™¨"><!---->å¤šæ‹¦æˆªå™¨<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/Computer-Science-Learn-Notes/Java/fm/SpringMVC.html#å°ç»“" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="å°ç»“"><!---->å°ç»“<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/Computer-Science-Learn-Notes/Java/fm/SpringMVC.html#æºç åˆ†æ-æ‹¦æˆªå™¨" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="æºç åˆ†æ æ‹¦æˆªå™¨"><!---->æºç åˆ†æ æ‹¦æˆªå™¨<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/Computer-Science-Learn-Notes/Java/fm/SpringMVC.html#å…·ä½“è°ƒè¯•" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="å…·ä½“è°ƒè¯•"><!---->å…·ä½“è°ƒè¯•<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/Computer-Science-Learn-Notes/Java/fm/SpringMVC.html#å›½é™…åŒ–" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="å›½é™…åŒ–"><!---->å›½é™…åŒ–<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/Computer-Science-Learn-Notes/Java/fm/SpringMVC.html#è‡ªå®šä¹‰å›½é™…åŒ–æ–‡ä»¶" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="è‡ªå®šä¹‰å›½é™…åŒ–æ–‡ä»¶"><!---->è‡ªå®šä¹‰å›½é™…åŒ–æ–‡ä»¶<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/Computer-Science-Learn-Notes/Java/fm/SpringMVC.html#ä½¿ç”¨sessionlocaleresolverè¿›è¡Œå›½é™…åŒ–" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="ä½¿ç”¨SessionLocaleResolverè¿›è¡Œå›½é™…åŒ–"><!---->ä½¿ç”¨SessionLocaleResolverè¿›è¡Œå›½é™…åŒ–<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/Computer-Science-Learn-Notes/Java/fm/SpringMVC.html#æ‹¦æˆªå™¨é…åˆå›½é™…åŒ–" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="æ‹¦æˆªå™¨é…åˆå›½é™…åŒ–"><!---->æ‹¦æˆªå™¨é…åˆå›½é™…åŒ–<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/Computer-Science-Learn-Notes/Java/fm/SpringMVC.html#å¼‚å¸¸å¤„ç†-exceptionhandler" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="å¼‚å¸¸å¤„ç† @ExceptionHandler"><!---->å¼‚å¸¸å¤„ç† @ExceptionHandler<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/Computer-Science-Learn-Notes/Java/fm/SpringMVC.html#å¤„ç†å¼‚å¸¸çš„ä¸€èˆ¬æ­¥éª¤" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="å¤„ç†å¼‚å¸¸çš„ä¸€èˆ¬æ­¥éª¤"><!---->å¤„ç†å¼‚å¸¸çš„ä¸€èˆ¬æ­¥éª¤<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/Computer-Science-Learn-Notes/Java/fm/SpringMVC.html#å¼‚å¸¸å¤„ç†-responsestatus" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="å¼‚å¸¸å¤„ç† @ResponseStatus"><!---->å¼‚å¸¸å¤„ç† @ResponseStatus<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/Computer-Science-Learn-Notes/Java/fm/SpringMVC.html#responsestatusçš„åŸºæœ¬ä½¿ç”¨" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="@ResponseStatusçš„åŸºæœ¬ä½¿ç”¨"><!---->@ResponseStatusçš„åŸºæœ¬ä½¿ç”¨<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/Computer-Science-Learn-Notes/Java/fm/SpringMVC.html#æºç åˆ†æ-å¼‚å¸¸å¤„ç†" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="æºç åˆ†æ å¼‚å¸¸å¤„ç†"><!---->æºç åˆ†æ å¼‚å¸¸å¤„ç†<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/Computer-Science-Learn-Notes/Java/fm/SpringMVC.html#handlerexceptionresolverçš„å®ç°ç±»" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="HandlerExceptionResolverçš„å®ç°ç±»"><!---->HandlerExceptionResolverçš„å®ç°ç±»<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/Computer-Science-Learn-Notes/Java/fm/SpringMVC.html#ã€å°ç»“ã€‘springmvcçš„è¿è¡Œæµç¨‹" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="ã€å°ç»“ã€‘SpringMVCçš„è¿è¡Œæµç¨‹"><!---->ã€å°ç»“ã€‘SpringMVCçš„è¿è¡Œæµç¨‹<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/Computer-Science-Learn-Notes/Java/fm/SpringMVC.html#springmvcå’Œspringçš„æ•´åˆ-åˆ†å·¥æ˜ç¡®" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="SpringMVCå’ŒSpringçš„æ•´åˆï¼ˆåˆ†å·¥æ˜ç¡®ï¼‰"><!---->SpringMVCå’ŒSpringçš„æ•´åˆï¼ˆåˆ†å·¥æ˜ç¡®ï¼‰<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/Computer-Science-Learn-Notes/Java/fm/SpringMVC.html#åˆå¹¶" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="åˆå¹¶"><!---->åˆå¹¶<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/Computer-Science-Learn-Notes/Java/fm/SpringMVC.html#åˆ†å®¹å™¨" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="åˆ†å®¹å™¨"><!---->åˆ†å®¹å™¨<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li></ul><!--]--></li><li><!--[--><a href="/Computer-Science-Learn-Notes/Java/fm/Mybatis.html" class="nav-link sidebar-link sidebar-page" aria-label="Mybatis"><!---->Mybatis<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/Computer-Science-Learn-Notes/Java/fm/SpringBoot.html" class="nav-link sidebar-link sidebar-page" aria-label="SpringBoot"><!---->SpringBoot<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/Computer-Science-Learn-Notes/Java/fm/SpringDataJpa.html" class="nav-link sidebar-link sidebar-page" aria-label="SpringDataJpa"><!---->SpringDataJpa<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/Computer-Science-Learn-Notes/Java/fm/SpringSecurity.html" class="nav-link sidebar-link sidebar-page" aria-label="SpringSecurity"><!---->SpringSecurity<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/Computer-Science-Learn-Notes/Java/fm/SpringCloud.html" class="nav-link sidebar-link sidebar-page" aria-label="SpringCloud"><!---->SpringCloud<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li></ul></section></li><li><section class="sidebar-group"><button class="sidebar-heading clickable" type="button"><span class="font-icon icon iconfont icon-async" style=""></span><span class="title">è™šæ‹Ÿæœº</span><span class="arrow end"></span></button><!----></section></li><li><section class="sidebar-group"><button class="sidebar-heading clickable" type="button"><span class="font-icon icon iconfont icon-launch" style=""></span><span class="title">Kotlinç»“åˆSpring</span><span class="arrow end"></span></button><!----></section></li><li><section class="sidebar-group"><button class="sidebar-heading clickable" type="button"><span class="font-icon icon iconfont icon-object" style=""></span><span class="title">LeetCodeåˆ·é¢˜é¡ºåº</span><span class="arrow end"></span></button><!----></section></li></ul></section></li><li><section class="sidebar-group"><button class="sidebar-heading clickable" type="button"><span class="font-icon icon iconfont icon-repair" style=""></span><span class="title">ç»éªŒæ€»ç»“</span><span class="arrow end"></span></button><!----></section></li><li><section class="sidebar-group"><button class="sidebar-heading clickable" type="button"><span class="font-icon icon iconfont icon-autumn" style=""></span><span class="title">å¥½ç‰©æ¨è</span><span class="arrow end"></span></button><!----></section></li></ul><!--[--><!----><!--]--></aside><!--[--><main class="page" id="main-content"><!--[--><!----><nav class="breadcrumb disable"></nav><div class="page-title"><h1><!---->SpringMVC</h1><div class="page-info"><span class="page-author-info" aria-label="ä½œè€…ğŸ–Š" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon author-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="author icon"><path d="M649.6 633.6c86.4-48 147.2-144 147.2-249.6 0-160-128-288-288-288s-288 128-288 288c0 108.8 57.6 201.6 147.2 249.6-121.6 48-214.4 153.6-240 288-3.2 9.6 0 19.2 6.4 25.6 3.2 9.6 12.8 12.8 22.4 12.8h704c9.6 0 19.2-3.2 25.6-12.8 6.4-6.4 9.6-16 6.4-25.6-25.6-134.4-121.6-240-243.2-288z"></path></svg><span><a class="page-author-item" href="https://github.com/zhiyu1998" target="_blank" rel="noopener noreferrer">zhiyu1998</a></span><span property="author" content="zhiyu1998"></span></span><!----><span class="page-date-info" aria-label="å†™ä½œæ—¥æœŸğŸ“…" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon calendar-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="calendar icon"><path d="M716.4 110.137c0-18.753-14.72-33.473-33.472-33.473-18.753 0-33.473 14.72-33.473 33.473v33.473h66.993v-33.473zm-334.87 0c0-18.753-14.72-33.473-33.473-33.473s-33.52 14.72-33.52 33.473v33.473h66.993v-33.473zm468.81 33.52H716.4v100.465c0 18.753-14.72 33.473-33.472 33.473a33.145 33.145 0 01-33.473-33.473V143.657H381.53v100.465c0 18.753-14.72 33.473-33.473 33.473a33.145 33.145 0 01-33.473-33.473V143.657H180.6A134.314 134.314 0 0046.66 277.595v535.756A134.314 134.314 0 00180.6 947.289h669.74a134.36 134.36 0 00133.94-133.938V277.595a134.314 134.314 0 00-133.94-133.938zm33.473 267.877H147.126a33.145 33.145 0 01-33.473-33.473c0-18.752 14.72-33.473 33.473-33.473h736.687c18.752 0 33.472 14.72 33.472 33.473a33.145 33.145 0 01-33.472 33.473z"></path></svg><span><!----></span><meta property="datePublished" content="2023-04-04T15:12:04.000Z"></span><span class="page-pageview-info" aria-label="è®¿é—®é‡ğŸ”¢" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon eye-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="eye icon"><path d="M992 512.096c0-5.76-.992-10.592-1.28-11.136-.192-2.88-1.152-8.064-2.08-10.816-.256-.672-.544-1.376-.832-2.08-.48-1.568-1.024-3.104-1.6-4.32C897.664 290.112 707.104 160 512 160c-195.072 0-385.632 130.016-473.76 322.592-1.056 2.112-1.792 4.096-2.272 5.856a55.512 55.512 0 00-.64 1.6c-1.76 5.088-1.792 8.64-1.632 7.744-.832 3.744-1.568 11.168-1.568 11.168-.224 2.272-.224 4.032.032 6.304 0 0 .736 6.464 1.088 7.808.128 1.824.576 4.512 1.12 6.976h-.032c.448 2.08 1.12 4.096 1.984 6.08.48 1.536.992 2.976 1.472 4.032C126.432 733.856 316.992 864 512 864c195.136 0 385.696-130.048 473.216-321.696 1.376-2.496 2.24-4.832 2.848-6.912.256-.608.48-1.184.672-1.728 1.536-4.48 1.856-8.32 1.728-8.32l-.032.032c.608-3.104 1.568-7.744 1.568-13.28zM512 672c-88.224 0-160-71.776-160-160s71.776-160 160-160 160 71.776 160 160-71.776 160-160 160z"></path></svg><span class="waline-pageview-count" id="ArtalkPV" data-path="/Computer-Science-Learn-Notes/Java/fm/SpringMVC.html">...</span></span><span class="page-reading-time-info" aria-label="é˜…è¯»æ—¶é—´âŒ›" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon timer-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="timer icon"><path d="M799.387 122.15c4.402-2.978 7.38-7.897 7.38-13.463v-1.165c0-8.933-7.38-16.312-16.312-16.312H256.33c-8.933 0-16.311 7.38-16.311 16.312v1.165c0 5.825 2.977 10.874 7.637 13.592 4.143 194.44 97.22 354.963 220.201 392.763-122.204 37.542-214.893 196.511-220.2 389.397-4.661 5.049-7.638 11.651-7.638 19.03v5.825h566.49v-5.825c0-7.379-2.849-13.981-7.509-18.9-5.049-193.016-97.867-351.985-220.2-389.527 123.24-37.67 216.446-198.453 220.588-392.892zM531.16 450.445v352.632c117.674 1.553 211.787 40.778 211.787 88.676H304.097c0-48.286 95.149-87.382 213.728-88.676V450.445c-93.077-3.107-167.901-81.297-167.901-177.093 0-8.803 6.99-15.793 15.793-15.793 8.803 0 15.794 6.99 15.794 15.793 0 80.261 63.69 145.635 142.01 145.635s142.011-65.374 142.011-145.635c0-8.803 6.99-15.793 15.794-15.793s15.793 6.99 15.793 15.793c0 95.019-73.789 172.82-165.96 177.093z"></path></svg><span>å¤§çº¦ 31 åˆ†é’Ÿ</span><meta property="timeRequired" content="PT31M"></span><span class="page-category-info" aria-label="åˆ†ç±»ğŸŒˆ" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon category-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="category icon"><path d="M148.41 106.992h282.176c22.263 0 40.31 18.048 40.31 40.31V429.48c0 22.263-18.047 40.31-40.31 40.31H148.41c-22.263 0-40.311-18.047-40.311-40.31V147.302c0-22.263 18.048-40.31 40.311-40.31zM147.556 553.478H429.73c22.263 0 40.311 18.048 40.311 40.31v282.176c0 22.263-18.048 40.312-40.31 40.312H147.555c-22.263 0-40.311-18.049-40.311-40.312V593.79c0-22.263 18.048-40.311 40.31-40.311zM593.927 106.992h282.176c22.263 0 40.31 18.048 40.31 40.31V429.48c0 22.263-18.047 40.31-40.31 40.31H593.927c-22.263 0-40.311-18.047-40.311-40.31V147.302c0-22.263 18.048-40.31 40.31-40.31zM730.22 920.502H623.926c-40.925 0-74.22-33.388-74.22-74.425V623.992c0-41.038 33.387-74.424 74.425-74.424h222.085c41.038 0 74.424 33.226 74.424 74.067v114.233c0 10.244-8.304 18.548-18.547 18.548s-18.548-8.304-18.548-18.548V623.635c0-20.388-16.746-36.974-37.33-36.974H624.13c-20.585 0-37.331 16.747-37.331 37.33v222.086c0 20.585 16.654 37.331 37.126 37.331H730.22c10.243 0 18.547 8.304 18.547 18.547 0 10.244-8.304 18.547-18.547 18.547z"></path></svg><span class="page-category-item category1" role>Spring</span><meta property="articleSection" content="Spring"></span><!----></div><hr></div><div class="toc-place-holder"><aside id="toc"><!--[--><!----><!--]--><div class="toc-header">æ­¤é¡µå†…å®¹<button type="button" class="print-button" title="æ‰“å°"><svg xmlns="http://www.w3.org/2000/svg" class="icon print-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="print icon"><path d="M819.2 364.8h-44.8V128c0-17.067-14.933-32-32-32H281.6c-17.067 0-32 14.933-32 32v236.8h-44.8C145.067 364.8 96 413.867 96 473.6v192c0 59.733 49.067 108.8 108.8 108.8h44.8V896c0 17.067 14.933 32 32 32h460.8c17.067 0 32-14.933 32-32V774.4h44.8c59.733 0 108.8-49.067 108.8-108.8v-192c0-59.733-49.067-108.8-108.8-108.8zM313.6 160h396.8v204.8H313.6V160zm396.8 704H313.6V620.8h396.8V864zM864 665.6c0 25.6-19.2 44.8-44.8 44.8h-44.8V588.8c0-17.067-14.933-32-32-32H281.6c-17.067 0-32 14.933-32 32v121.6h-44.8c-25.6 0-44.8-19.2-44.8-44.8v-192c0-25.6 19.2-44.8 44.8-44.8h614.4c25.6 0 44.8 19.2 44.8 44.8v192z"></path></svg></button></div><div class="toc-wrapper"><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/Computer-Science-Learn-Notes/Java/fm/SpringMVC.html#springmvcçš„é…ç½®" class="router-link-active router-link-exact-active toc-link level2">SpringMVCçš„é…ç½®</a></li><li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/Computer-Science-Learn-Notes/Java/fm/SpringMVC.html#ç»†èŠ‚è¡¥å……" class="router-link-active router-link-exact-active toc-link level3">ç»†èŠ‚è¡¥å……ï¼š</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/Computer-Science-Learn-Notes/Java/fm/SpringMVC.html#requestmappingçš„å…¶ä»–å±æ€§" class="router-link-active router-link-exact-active toc-link level2">@RequestMappingçš„å…¶ä»–å±æ€§</a></li><li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/Computer-Science-Learn-Notes/Java/fm/SpringMVC.html#method" class="router-link-active router-link-exact-active toc-link level3">method</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/Computer-Science-Learn-Notes/Java/fm/SpringMVC.html#params" class="router-link-active router-link-exact-active toc-link level3">params</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/Computer-Science-Learn-Notes/Java/fm/SpringMVC.html#headers" class="router-link-active router-link-exact-active toc-link level3">headers</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/Computer-Science-Learn-Notes/Java/fm/SpringMVC.html#consume" class="router-link-active router-link-exact-active toc-link level3">consume</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/Computer-Science-Learn-Notes/Java/fm/SpringMVC.html#produces" class="router-link-active router-link-exact-active toc-link level3">produces</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/Computer-Science-Learn-Notes/Java/fm/SpringMVC.html#anté£æ ¼çš„urlå’Œ-pathvariable" class="router-link-active router-link-exact-active toc-link level2">anté£æ ¼çš„urlå’Œ@PathVariable</a></li><li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/Computer-Science-Learn-Notes/Java/fm/SpringMVC.html#requestmappingçš„anté£æ ¼url" class="router-link-active router-link-exact-active toc-link level3">@RequestMappingçš„anté£æ ¼url</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/Computer-Science-Learn-Notes/Java/fm/SpringMVC.html#pathvariable" class="router-link-active router-link-exact-active toc-link level3">@PathVariable</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/Computer-Science-Learn-Notes/Java/fm/SpringMVC.html#è·å–è¯·æ±‚ä¿¡æ¯" class="router-link-active router-link-exact-active toc-link level2">è·å–è¯·æ±‚ä¿¡æ¯</a></li><li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/Computer-Science-Learn-Notes/Java/fm/SpringMVC.html#requestmapping-è·å–å‚æ•°-path-xxx-xxx" class="router-link-active router-link-exact-active toc-link level3">@RequestMapping è·å–å‚æ•° path?xxx= xxx</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/Computer-Science-Learn-Notes/Java/fm/SpringMVC.html#requestheader-è·å–è¯·æ±‚å¤´" class="router-link-active router-link-exact-active toc-link level3">@RequestHeader è·å–è¯·æ±‚å¤´</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/Computer-Science-Learn-Notes/Java/fm/SpringMVC.html#cookievalue-è·å–cookieçš„å€¼" class="router-link-active router-link-exact-active toc-link level3">@CookieValue è·å–Cookieçš„å€¼</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/Computer-Science-Learn-Notes/Java/fm/SpringMVC.html#ä½¿ç”¨-pojo-å¯¹è±¡ç»‘å®šè¯·æ±‚å‚æ•°å€¼" class="router-link-active router-link-exact-active toc-link level2">ä½¿ç”¨ POJO å¯¹è±¡ç»‘å®šè¯·æ±‚å‚æ•°å€¼</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/Computer-Science-Learn-Notes/Java/fm/SpringMVC.html#ä½¿ç”¨tomcatåŸç”Ÿapi" class="router-link-active router-link-exact-active toc-link level2">ä½¿ç”¨tomcatåŸç”ŸAPI</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/Computer-Science-Learn-Notes/Java/fm/SpringMVC.html#æ•°æ®è¾“å‡º-modelå’Œmodelmap" class="router-link-active router-link-exact-active toc-link level2">æ•°æ®è¾“å‡º Modelå’ŒModelMap</a></li><li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/Computer-Science-Learn-Notes/Java/fm/SpringMVC.html#ä½¿ç”¨model" class="router-link-active router-link-exact-active toc-link level3">ä½¿ç”¨Model</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/Computer-Science-Learn-Notes/Java/fm/SpringMVC.html#ä½¿ç”¨modelmap" class="router-link-active router-link-exact-active toc-link level3">ä½¿ç”¨ModelMap</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/Computer-Science-Learn-Notes/Java/fm/SpringMVC.html#æ•°æ®è¾“å‡º-modelandviewä½¿ç”¨" class="router-link-active router-link-exact-active toc-link level2">æ•°æ®è¾“å‡º ModelAndViewä½¿ç”¨</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/Computer-Science-Learn-Notes/Java/fm/SpringMVC.html#æ•°æ®è¾“å‡º-sessionattributes" class="router-link-active router-link-exact-active toc-link level2">æ•°æ®è¾“å‡º @SessionAttributes</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/Computer-Science-Learn-Notes/Java/fm/SpringMVC.html#æ•°æ®è¾“å‡º-modelattribute" class="router-link-active router-link-exact-active toc-link level2">æ•°æ®è¾“å‡º @ModelAttribute</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/Computer-Science-Learn-Notes/Java/fm/SpringMVC.html#æºç åˆ†æ-dispatcherservlet" class="router-link-active router-link-exact-active toc-link level2">æºç åˆ†æ DispatcherServlet</a></li><li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/Computer-Science-Learn-Notes/Java/fm/SpringMVC.html#æ¦‚è§ˆ" class="router-link-active router-link-exact-active toc-link level3">æ¦‚è§ˆ</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/Computer-Science-Learn-Notes/Java/fm/SpringMVC.html#æ•´ä½“" class="router-link-active router-link-exact-active toc-link level3">æ•´ä½“</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/Computer-Science-Learn-Notes/Java/fm/SpringMVC.html#dodispatchçš„è¯¦ç»†ç»†èŠ‚" class="router-link-active router-link-exact-active toc-link level3">doDispatchçš„è¯¦ç»†ç»†èŠ‚</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/Computer-Science-Learn-Notes/Java/fm/SpringMVC.html#gethandlerçš„è¯¦ç»†" class="router-link-active router-link-exact-active toc-link level3">getHandlerçš„è¯¦ç»†</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/Computer-Science-Learn-Notes/Java/fm/SpringMVC.html#gethandleradapter" class="router-link-active router-link-exact-active toc-link level3">getHandlerAdapter</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/Computer-Science-Learn-Notes/Java/fm/SpringMVC.html#æºç åˆ†æ-springmvcçš„ä¹å¤§ç»„ä»¶" class="router-link-active router-link-exact-active toc-link level2">æºç åˆ†æ SpringMVCçš„ä¹å¤§ç»„ä»¶</a></li><li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/Computer-Science-Learn-Notes/Java/fm/SpringMVC.html#åˆå§‹åŒ–" class="router-link-active router-link-exact-active toc-link level3">åˆå§‹åŒ–</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/Computer-Science-Learn-Notes/Java/fm/SpringMVC.html#æºç åˆ†æ-modelattribute" class="router-link-active router-link-exact-active toc-link level2">æºç åˆ†æ @ModelAttribute</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/Computer-Science-Learn-Notes/Java/fm/SpringMVC.html#è§†å›¾è§£æ-è½¬å‘å’Œé‡å®šå‘" class="router-link-active router-link-exact-active toc-link level2">è§†å›¾è§£æ è½¬å‘å’Œé‡å®šå‘</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/Computer-Science-Learn-Notes/Java/fm/SpringMVC.html#æºç åˆ†æ-è§†å›¾è§£æ" class="router-link-active router-link-exact-active toc-link level2">æºç åˆ†æ è§†å›¾è§£æ</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/Computer-Science-Learn-Notes/Java/fm/SpringMVC.html#è§†å›¾è§£æ-jstl-å›½é™…åŒ–" class="router-link-active router-link-exact-active toc-link level2">è§†å›¾è§£æ JSTL å›½é™…åŒ–</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/Computer-Science-Learn-Notes/Java/fm/SpringMVC.html#æ•°æ®ç»‘å®š-mvc-annotation-driver" class="router-link-active router-link-exact-active toc-link level2">æ•°æ®ç»‘å®š mvc:annotation-driver</a></li><li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/Computer-Science-Learn-Notes/Java/fm/SpringMVC.html#åºè¨€-jspä¸¤ç§è·å–é¡¹ç›®è·¯å¾„çš„æ–¹å¼" class="router-link-active router-link-exact-active toc-link level3">åºè¨€ï¼šJSPä¸¤ç§è·å–é¡¹ç›®è·¯å¾„çš„æ–¹å¼</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/Computer-Science-Learn-Notes/Java/fm/SpringMVC.html#è‡ªå®šä¹‰æ•°æ®ç»‘å®šç±»å‹å’Œé™æ€èµ„æºçš„æ‹¦æˆª" class="router-link-active router-link-exact-active toc-link level3">è‡ªå®šä¹‰æ•°æ®ç»‘å®šç±»å‹å’Œé™æ€èµ„æºçš„æ‹¦æˆª</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/Computer-Science-Learn-Notes/Java/fm/SpringMVC.html#æ—¥æœŸæ ¼å¼åŒ–" class="router-link-active router-link-exact-active toc-link level3">æ—¥æœŸæ ¼å¼åŒ–</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/Computer-Science-Learn-Notes/Java/fm/SpringMVC.html#æ•°æ®æ ¡éªŒ-æ ¡éªŒæ³¨è§£-å»é”™è¯¯é¡µé¢" class="router-link-active router-link-exact-active toc-link level2">æ•°æ®æ ¡éªŒ æ ¡éªŒæ³¨è§£&amp;å»é”™è¯¯é¡µé¢</a></li><li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/Computer-Science-Learn-Notes/Java/fm/SpringMVC.html#æç¤º-ideaä½¿ç”¨-alt-shift-insert-è¿›å…¥å¤šè¡Œç¼–è¾‘æ¨¡å¼" class="router-link-active router-link-exact-active toc-link level3">æç¤ºï¼šIDEAä½¿ç”¨ alt + shift + insert è¿›å…¥å¤šè¡Œç¼–è¾‘æ¨¡å¼</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/Computer-Science-Learn-Notes/Java/fm/SpringMVC.html#æ•°æ®æ ¡éªŒ" class="router-link-active router-link-exact-active toc-link level3">æ•°æ®æ ¡éªŒ</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/Computer-Science-Learn-Notes/Java/fm/SpringMVC.html#å›½é™…åŒ–å®šåˆ¶é”™è¯¯æ¶ˆæ¯" class="router-link-active router-link-exact-active toc-link level3">å›½é™…åŒ–å®šåˆ¶é”™è¯¯æ¶ˆæ¯</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/Computer-Science-Learn-Notes/Java/fm/SpringMVC.html#springmvcå¯¹ajaxçš„æ”¯æŒ" class="router-link-active router-link-exact-active toc-link level2">SpringMVCå¯¹AJAXçš„æ”¯æŒ</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/Computer-Science-Learn-Notes/Java/fm/SpringMVC.html#è¯·æ±‚ä½“-responsebody" class="router-link-active router-link-exact-active toc-link level2">è¯·æ±‚ä½“ @ResponseBody</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/Computer-Science-Learn-Notes/Java/fm/SpringMVC.html#è·å–è¯·æ±‚å¤´-httpentity" class="router-link-active router-link-exact-active toc-link level2">è·å–è¯·æ±‚å¤´ @HttpEntity</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/Computer-Science-Learn-Notes/Java/fm/SpringMVC.html#responseentity-è¿”å›å“åº”å¼æ•°æ®" class="router-link-active router-link-exact-active toc-link level2">@ResponseEntity è¿”å›å“åº”å¼æ•°æ®</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/Computer-Science-Learn-Notes/Java/fm/SpringMVC.html#æ–‡ä»¶ä¸‹è½½åŠæ–‡ä»¶ä¸Šä¼ " class="router-link-active router-link-exact-active toc-link level2">æ–‡ä»¶ä¸‹è½½åŠæ–‡ä»¶ä¸Šä¼ </a></li><li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/Computer-Science-Learn-Notes/Java/fm/SpringMVC.html#æ–‡ä»¶ä¸‹è½½" class="router-link-active router-link-exact-active toc-link level3">æ–‡ä»¶ä¸‹è½½</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/Computer-Science-Learn-Notes/Java/fm/SpringMVC.html#æ–‡ä»¶ä¸Šä¼ " class="router-link-active router-link-exact-active toc-link level3">æ–‡ä»¶ä¸Šä¼ </a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/Computer-Science-Learn-Notes/Java/fm/SpringMVC.html#å¤šæ–‡ä»¶ä¸Šä¼ " class="router-link-active router-link-exact-active toc-link level3">å¤šæ–‡ä»¶ä¸Šä¼ </a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/Computer-Science-Learn-Notes/Java/fm/SpringMVC.html#æ‹¦æˆªå™¨åŠå¤šæ‹¦æˆªå™¨" class="router-link-active router-link-exact-active toc-link level2">æ‹¦æˆªå™¨åŠå¤šæ‹¦æˆªå™¨</a></li><li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/Computer-Science-Learn-Notes/Java/fm/SpringMVC.html#å¤šæ‹¦æˆªå™¨" class="router-link-active router-link-exact-active toc-link level3">å¤šæ‹¦æˆªå™¨</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/Computer-Science-Learn-Notes/Java/fm/SpringMVC.html#å°ç»“" class="router-link-active router-link-exact-active toc-link level3">å°ç»“</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/Computer-Science-Learn-Notes/Java/fm/SpringMVC.html#æºç åˆ†æ-æ‹¦æˆªå™¨" class="router-link-active router-link-exact-active toc-link level2">æºç åˆ†æ æ‹¦æˆªå™¨</a></li><li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/Computer-Science-Learn-Notes/Java/fm/SpringMVC.html#å…·ä½“è°ƒè¯•" class="router-link-active router-link-exact-active toc-link level3">å…·ä½“è°ƒè¯•</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/Computer-Science-Learn-Notes/Java/fm/SpringMVC.html#å›½é™…åŒ–" class="router-link-active router-link-exact-active toc-link level2">å›½é™…åŒ–</a></li><li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/Computer-Science-Learn-Notes/Java/fm/SpringMVC.html#è‡ªå®šä¹‰å›½é™…åŒ–æ–‡ä»¶" class="router-link-active router-link-exact-active toc-link level3">è‡ªå®šä¹‰å›½é™…åŒ–æ–‡ä»¶</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/Computer-Science-Learn-Notes/Java/fm/SpringMVC.html#ä½¿ç”¨sessionlocaleresolverè¿›è¡Œå›½é™…åŒ–" class="router-link-active router-link-exact-active toc-link level3">ä½¿ç”¨SessionLocaleResolverè¿›è¡Œå›½é™…åŒ–</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/Computer-Science-Learn-Notes/Java/fm/SpringMVC.html#æ‹¦æˆªå™¨é…åˆå›½é™…åŒ–" class="router-link-active router-link-exact-active toc-link level3">æ‹¦æˆªå™¨é…åˆå›½é™…åŒ–</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/Computer-Science-Learn-Notes/Java/fm/SpringMVC.html#å¼‚å¸¸å¤„ç†-exceptionhandler" class="router-link-active router-link-exact-active toc-link level2">å¼‚å¸¸å¤„ç† @ExceptionHandler</a></li><li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/Computer-Science-Learn-Notes/Java/fm/SpringMVC.html#å¤„ç†å¼‚å¸¸çš„ä¸€èˆ¬æ­¥éª¤" class="router-link-active router-link-exact-active toc-link level3">å¤„ç†å¼‚å¸¸çš„ä¸€èˆ¬æ­¥éª¤</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/Computer-Science-Learn-Notes/Java/fm/SpringMVC.html#å¼‚å¸¸å¤„ç†-responsestatus" class="router-link-active router-link-exact-active toc-link level2">å¼‚å¸¸å¤„ç† @ResponseStatus</a></li><li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/Computer-Science-Learn-Notes/Java/fm/SpringMVC.html#responsestatusçš„åŸºæœ¬ä½¿ç”¨" class="router-link-active router-link-exact-active toc-link level3">@ResponseStatusçš„åŸºæœ¬ä½¿ç”¨</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/Computer-Science-Learn-Notes/Java/fm/SpringMVC.html#æºç åˆ†æ-å¼‚å¸¸å¤„ç†" class="router-link-active router-link-exact-active toc-link level2">æºç åˆ†æ å¼‚å¸¸å¤„ç†</a></li><li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/Computer-Science-Learn-Notes/Java/fm/SpringMVC.html#handlerexceptionresolverçš„å®ç°ç±»" class="router-link-active router-link-exact-active toc-link level3">HandlerExceptionResolverçš„å®ç°ç±»</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/Computer-Science-Learn-Notes/Java/fm/SpringMVC.html#ã€å°ç»“ã€‘springmvcçš„è¿è¡Œæµç¨‹" class="router-link-active router-link-exact-active toc-link level2">ã€å°ç»“ã€‘SpringMVCçš„è¿è¡Œæµç¨‹</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/Computer-Science-Learn-Notes/Java/fm/SpringMVC.html#springmvcå’Œspringçš„æ•´åˆ-åˆ†å·¥æ˜ç¡®" class="router-link-active router-link-exact-active toc-link level2">SpringMVCå’ŒSpringçš„æ•´åˆï¼ˆåˆ†å·¥æ˜ç¡®ï¼‰</a></li><li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/Computer-Science-Learn-Notes/Java/fm/SpringMVC.html#åˆå¹¶" class="router-link-active router-link-exact-active toc-link level3">åˆå¹¶</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/Computer-Science-Learn-Notes/Java/fm/SpringMVC.html#åˆ†å®¹å™¨" class="router-link-active router-link-exact-active toc-link level3">åˆ†å®¹å™¨</a></li><!----><!--]--></ul></li><!--]--></ul></div><!--[--><!----><!--]--></aside></div><!----><div class="theme-hope-content"><h1 id="springmvc-all-in-one" tabindex="-1"><a class="header-anchor" href="#springmvc-all-in-one" aria-hidden="true">#</a> SpringMVC ALL IN ONE</h1><ul><li><a href="#springmvc-all-in-one">SpringMVC ALL IN ONE</a><ul><li><a href="#springmvc%E7%9A%84%E9%85%8D%E7%BD%AE">SpringMVCçš„é…ç½®</a><ul><li><a href="#%E7%BB%86%E8%8A%82%E8%A1%A5%E5%85%85"><strong>ç»†èŠ‚è¡¥å……ï¼š</strong></a></li></ul></li><li><a href="#requestmapping%E7%9A%84%E5%85%B6%E4%BB%96%E5%B1%9E%E6%80%A7">@RequestMappingçš„å…¶ä»–å±æ€§</a><ul><li><a href="#method">method</a></li><li><a href="#params">params</a></li><li><a href="#headers">headers</a></li><li><a href="#consume">consume</a></li><li><a href="#produces">produces</a></li></ul></li><li><a href="#ant%E9%A3%8E%E6%A0%BC%E7%9A%84url%E5%92%8Cpathvariable">anté£æ ¼çš„urlå’Œ@PathVariable</a><ul><li><a href="#requestmapping%E7%9A%84ant%E9%A3%8E%E6%A0%BCurl">@RequestMappingçš„anté£æ ¼url</a></li><li><a href="#pathvariable">@PathVariable</a></li></ul></li><li><a href="#%E8%8E%B7%E5%8F%96%E8%AF%B7%E6%B1%82%E4%BF%A1%E6%81%AF">è·å–è¯·æ±‚ä¿¡æ¯</a><ul><li><a href="#requestmapping-%E8%8E%B7%E5%8F%96%E5%8F%82%E6%95%B0-pathxxx-xxx">@RequestMapping è·å–å‚æ•° path?xxx= xxx</a></li><li><a href="#requestheader-%E8%8E%B7%E5%8F%96%E8%AF%B7%E6%B1%82%E5%A4%B4">@RequestHeader è·å–è¯·æ±‚å¤´</a></li><li><a href="#cookievalue-%E8%8E%B7%E5%8F%96cookie%E7%9A%84%E5%80%BC">@CookieValue è·å–Cookieçš„å€¼</a></li></ul></li><li><a href="#%E4%BD%BF%E7%94%A8-pojo-%E5%AF%B9%E8%B1%A1%E7%BB%91%E5%AE%9A%E8%AF%B7%E6%B1%82%E5%8F%82%E6%95%B0%E5%80%BC">ä½¿ç”¨ POJO å¯¹è±¡ç»‘å®šè¯·æ±‚å‚æ•°å€¼</a></li><li><a href="#%E4%BD%BF%E7%94%A8tomcat%E5%8E%9F%E7%94%9Fapi">ä½¿ç”¨tomcatåŸç”ŸAPI</a></li><li><a href="#%E6%95%B0%E6%8D%AE%E8%BE%93%E5%87%BA-model%E5%92%8Cmodelmap">æ•°æ®è¾“å‡º Modelå’ŒModelMap</a><ul><li><a href="#%E4%BD%BF%E7%94%A8model">ä½¿ç”¨Model</a></li><li><a href="#%E4%BD%BF%E7%94%A8modelmap">ä½¿ç”¨ModelMap</a></li></ul></li><li><a href="#%E6%95%B0%E6%8D%AE%E8%BE%93%E5%87%BA-modelandview%E4%BD%BF%E7%94%A8">æ•°æ®è¾“å‡º ModelAndViewä½¿ç”¨</a></li><li><a href="#%E6%95%B0%E6%8D%AE%E8%BE%93%E5%87%BA-sessionattributes">æ•°æ®è¾“å‡º @SessionAttributes</a></li><li><a href="#%E6%95%B0%E6%8D%AE%E8%BE%93%E5%87%BA-modelattribute">æ•°æ®è¾“å‡º @ModelAttribute</a></li><li><a href="#%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90-dispatcherservlet">æºç åˆ†æ DispatcherServlet</a><ul><li><a href="#%E6%A6%82%E8%A7%88">æ¦‚è§ˆ</a></li><li><a href="#%E6%95%B4%E4%BD%93">æ•´ä½“</a></li><li><a href="#dodispatch%E7%9A%84%E8%AF%A6%E7%BB%86%E7%BB%86%E8%8A%82">doDispatchçš„è¯¦ç»†ç»†èŠ‚</a></li><li><a href="#gethandler%E7%9A%84%E8%AF%A6%E7%BB%86">getHandlerçš„è¯¦ç»†</a></li><li><a href="#gethandleradapter">getHandlerAdapter</a></li></ul></li><li><a href="#%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90-springmvc%E7%9A%84%E4%B9%9D%E5%A4%A7%E7%BB%84%E4%BB%B6">æºç åˆ†æ SpringMVCçš„ä¹å¤§ç»„ä»¶</a><ul><li><a href="#%E5%88%9D%E5%A7%8B%E5%8C%96">åˆå§‹åŒ–</a></li></ul></li><li><a href="#%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90-modelattribute">æºç åˆ†æ @ModelAttribute</a></li><li><a href="#%E8%A7%86%E5%9B%BE%E8%A7%A3%E6%9E%90-%E8%BD%AC%E5%8F%91%E5%92%8C%E9%87%8D%E5%AE%9A%E5%90%91">è§†å›¾è§£æ è½¬å‘å’Œé‡å®šå‘</a></li><li><a href="#%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90-%E8%A7%86%E5%9B%BE%E8%A7%A3%E6%9E%90">æºç åˆ†æ è§†å›¾è§£æ</a></li><li><a href="#%E8%A7%86%E5%9B%BE%E8%A7%A3%E6%9E%90-jstl-%E5%9B%BD%E9%99%85%E5%8C%96">è§†å›¾è§£æ JSTL å›½é™…åŒ–</a></li><li><a href="#%E6%95%B0%E6%8D%AE%E7%BB%91%E5%AE%9A-mvcannotation-driver">æ•°æ®ç»‘å®š mvc:annotation-driver</a><ul><li><a href="#%E5%BA%8F%E8%A8%80jsp%E4%B8%A4%E7%A7%8D%E8%8E%B7%E5%8F%96%E9%A1%B9%E7%9B%AE%E8%B7%AF%E5%BE%84%E7%9A%84%E6%96%B9%E5%BC%8F">åºè¨€ï¼šJSPä¸¤ç§è·å–é¡¹ç›®è·¯å¾„çš„æ–¹å¼</a></li><li><a href="#%E8%87%AA%E5%AE%9A%E4%B9%89%E6%95%B0%E6%8D%AE%E7%BB%91%E5%AE%9A%E7%B1%BB%E5%9E%8B%E5%92%8C%E9%9D%99%E6%80%81%E8%B5%84%E6%BA%90%E7%9A%84%E6%8B%A6%E6%88%AA">è‡ªå®šä¹‰æ•°æ®ç»‘å®šç±»å‹å’Œé™æ€èµ„æºçš„æ‹¦æˆª</a></li><li><a href="#%E6%97%A5%E6%9C%9F%E6%A0%BC%E5%BC%8F%E5%8C%96">æ—¥æœŸæ ¼å¼åŒ–</a></li></ul></li><li><a href="#%E6%95%B0%E6%8D%AE%E6%A0%A1%E9%AA%8C-%E6%A0%A1%E9%AA%8C%E6%B3%A8%E8%A7%A3%E5%8E%BB%E9%94%99%E8%AF%AF%E9%A1%B5%E9%9D%A2">æ•°æ®æ ¡éªŒ æ ¡éªŒæ³¨è§£&amp;å»é”™è¯¯é¡µé¢</a><ul><li><a href="#%E6%8F%90%E7%A4%BAidea%E4%BD%BF%E7%94%A8-alt--shift--insert-%E8%BF%9B%E5%85%A5%E5%A4%9A%E8%A1%8C%E7%BC%96%E8%BE%91%E6%A8%A1%E5%BC%8F">æç¤ºï¼šIDEAä½¿ç”¨ alt + shift + insert è¿›å…¥å¤šè¡Œç¼–è¾‘æ¨¡å¼</a></li><li><a href="#%E6%95%B0%E6%8D%AE%E6%A0%A1%E9%AA%8C">æ•°æ®æ ¡éªŒ</a></li><li><a href="#%E5%9B%BD%E9%99%85%E5%8C%96%E5%AE%9A%E5%88%B6%E9%94%99%E8%AF%AF%E6%B6%88%E6%81%AF">å›½é™…åŒ–å®šåˆ¶é”™è¯¯æ¶ˆæ¯</a></li></ul></li><li><a href="#springmvc%E5%AF%B9ajax%E7%9A%84%E6%94%AF%E6%8C%81">SpringMVCå¯¹AJAXçš„æ”¯æŒ</a></li><li><a href="#%E8%AF%B7%E6%B1%82%E4%BD%93-responsebody">è¯·æ±‚ä½“ @ResponseBody</a></li><li><a href="#%E8%8E%B7%E5%8F%96%E8%AF%B7%E6%B1%82%E5%A4%B4-httpentity">è·å–è¯·æ±‚å¤´ @HttpEntity</a></li><li><a href="#responseentity-%E8%BF%94%E5%9B%9E%E5%93%8D%E5%BA%94%E5%BC%8F%E6%95%B0%E6%8D%AE">@ResponseEntity è¿”å›å“åº”å¼æ•°æ®</a></li><li><a href="#%E6%96%87%E4%BB%B6%E4%B8%8B%E8%BD%BD%E5%8F%8A%E6%96%87%E4%BB%B6%E4%B8%8A%E4%BC%A0">æ–‡ä»¶ä¸‹è½½åŠæ–‡ä»¶ä¸Šä¼ </a><ul><li><a href="#%E6%96%87%E4%BB%B6%E4%B8%8B%E8%BD%BD">æ–‡ä»¶ä¸‹è½½</a></li><li><a href="#%E6%96%87%E4%BB%B6%E4%B8%8A%E4%BC%A0">æ–‡ä»¶ä¸Šä¼ </a><ul><li><a href="#httpmessageconverter">HttpMessageConverter</a></li></ul></li><li><a href="#%E5%A4%9A%E6%96%87%E4%BB%B6%E4%B8%8A%E4%BC%A0">å¤šæ–‡ä»¶ä¸Šä¼ </a></li></ul></li><li><a href="#%E6%8B%A6%E6%88%AA%E5%99%A8%E5%8F%8A%E5%A4%9A%E6%8B%A6%E6%88%AA%E5%99%A8">æ‹¦æˆªå™¨åŠå¤šæ‹¦æˆªå™¨</a><ul><li><a href="#%E5%A4%9A%E6%8B%A6%E6%88%AA%E5%99%A8">å¤šæ‹¦æˆªå™¨</a></li><li><a href="#%E5%B0%8F%E7%BB%93">å°ç»“</a></li></ul></li><li><a href="#%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90-%E6%8B%A6%E6%88%AA%E5%99%A8">æºç åˆ†æ æ‹¦æˆªå™¨</a><ul><li><a href="#%E5%85%B7%E4%BD%93%E8%B0%83%E8%AF%95">å…·ä½“è°ƒè¯•</a></li></ul></li><li><a href="#%E5%9B%BD%E9%99%85%E5%8C%96">å›½é™…åŒ–</a><ul><li><a href="#%E8%87%AA%E5%AE%9A%E4%B9%89%E5%9B%BD%E9%99%85%E5%8C%96%E6%96%87%E4%BB%B6">è‡ªå®šä¹‰å›½é™…åŒ–æ–‡ä»¶</a></li><li><a href="#%E4%BD%BF%E7%94%A8sessionlocaleresolver%E8%BF%9B%E8%A1%8C%E5%9B%BD%E9%99%85%E5%8C%96">ä½¿ç”¨SessionLocaleResolverè¿›è¡Œå›½é™…åŒ–</a></li><li><a href="#%E6%8B%A6%E6%88%AA%E5%99%A8%E9%85%8D%E5%90%88%E5%9B%BD%E9%99%85%E5%8C%96">æ‹¦æˆªå™¨é…åˆå›½é™…åŒ–</a></li></ul></li><li><a href="#%E5%BC%82%E5%B8%B8%E5%A4%84%E7%90%86-exceptionhandler">å¼‚å¸¸å¤„ç† @ExceptionHandler</a><ul><li><a href="#%E5%A4%84%E7%90%86%E5%BC%82%E5%B8%B8%E7%9A%84%E4%B8%80%E8%88%AC%E6%AD%A5%E9%AA%A4">å¤„ç†å¼‚å¸¸çš„ä¸€èˆ¬æ­¥éª¤</a></li></ul></li><li><a href="#%E5%BC%82%E5%B8%B8%E5%A4%84%E7%90%86-responsestatus">å¼‚å¸¸å¤„ç† @ResponseStatus</a><ul><li><a href="#responsestatus%E7%9A%84%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8">@ResponseStatusçš„åŸºæœ¬ä½¿ç”¨</a><ul><li><a href="#%E9%94%99%E8%AF%AF%E7%9A%84%E8%AF%B7%E6%B1%82%E6%96%B9%E5%BC%8F">é”™è¯¯çš„è¯·æ±‚æ–¹å¼</a></li></ul></li></ul></li><li><a href="#%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90-%E5%BC%82%E5%B8%B8%E5%A4%84%E7%90%86">æºç åˆ†æ å¼‚å¸¸å¤„ç†</a><ul><li><a href="#handlerexceptionresolver%E7%9A%84%E5%AE%9E%E7%8E%B0%E7%B1%BB">HandlerExceptionResolverçš„å®ç°ç±»</a></li></ul></li><li><a href="#%E5%B0%8F%E7%BB%93springmvc%E7%9A%84%E8%BF%90%E8%A1%8C%E6%B5%81%E7%A8%8B">ã€å°ç»“ã€‘SpringMVCçš„è¿è¡Œæµç¨‹</a><ul><li><a href="#1-%E6%89%80%E6%9C%89%E8%AF%B7%E6%B1%82%E5%89%8D%E7%AB%AF%E6%8E%A7%E5%88%B6%E5%99%A8dispatcherservlet%E8%B0%83%E7%94%A8dodispatch%E8%BF%9B%E8%A1%8C%E5%A4%84%E7%90%86">1. æ‰€æœ‰è¯·æ±‚ï¼Œå‰ç«¯æ§åˆ¶å™¨ï¼ˆDispatcherServletï¼‰è°ƒç”¨doDispatchè¿›è¡Œå¤„ç†</a></li><li><a href="#2-%E6%A0%B9%E6%8D%AEhandlermapping%E7%9A%84%E8%AF%B7%E6%B1%82%E5%BA%94%E8%89%B2%E5%8F%B7%E4%BF%A1%E6%81%AF%E6%89%BE%E5%88%B0%E5%A4%84%E7%90%86%E5%BD%93%E5%89%8D%E7%9A%84%E8%AF%B7%E6%B1%82%E5%A4%84%E7%90%86%E6%89%A7%E8%A1%8C%E9%93%BE">2. æ ¹æ®HandlerMappingçš„è¯·æ±‚åº”è‰²å·ä¿¡æ¯æ‰¾åˆ°ï¼Œå¤„ç†å½“å‰çš„è¯·æ±‚ï¼Œå¤„ç†æ‰§è¡Œé“¾</a></li><li><a href="#3-%E6%A0%B9%E6%8D%AE%E5%BD%93%E5%89%8D%E5%A4%84%E7%90%86%E5%99%A8%E6%89%BE%E5%88%B0%E5%AE%83%E7%9A%84%E9%80%82%E9%85%8D%E5%99%A8">3. æ ¹æ®å½“å‰å¤„ç†å™¨æ‰¾åˆ°å®ƒçš„é€‚é…å™¨</a></li><li><a href="#4-%E6%8B%A6%E6%88%AA%E5%99%A8%E7%9A%84prehandler%E5%85%88%E6%89%A7%E8%A1%8C">4. æ‹¦æˆªå™¨çš„preHandlerå…ˆæ‰§è¡Œ</a></li><li><a href="#5-%E9%80%82%E9%85%8D%E5%99%A8%E6%89%A7%E8%A1%8C%E7%9B%AE%E6%A0%87%E6%96%B9%E6%B3%95%E8%BF%94%E5%9B%9Emodelandview">5. é€‚é…å™¨æ‰§è¡Œç›®æ ‡æ–¹æ³•ï¼Œè¿”å›ModelAndView</a></li><li><a href="#6-%E6%8B%A6%E6%88%AA%E5%99%A8%E7%9A%84posthandler%E6%89%A7%E8%A1%8C">6. æ‹¦æˆªå™¨çš„postHandleræ‰§è¡Œ</a></li><li><a href="#7-%E6%B8%B2%E6%9F%93%E9%A1%B5%E9%9D%A2%E5%A4%84%E7%90%86%E7%BB%93%E6%9E%9C">7. æ¸²æŸ“é¡µé¢ï¼Œå¤„ç†ç»“æœ</a></li></ul></li><li><a href="#springmvc%E5%92%8Cspring%E7%9A%84%E6%95%B4%E5%90%88%E5%88%86%E5%B7%A5%E6%98%8E%E7%A1%AE">SpringMVCå’ŒSpringçš„æ•´åˆï¼ˆåˆ†å·¥æ˜ç¡®ï¼‰</a><ul><li><a href="#%E5%90%88%E5%B9%B6">åˆå¹¶</a></li><li><a href="#%E5%88%86%E5%AE%B9%E5%99%A8">åˆ†å®¹å™¨</a></li></ul></li></ul></li></ul><h2 id="springmvcçš„é…ç½®" tabindex="-1"><a class="header-anchor" href="#springmvcçš„é…ç½®" aria-hidden="true">#</a> SpringMVCçš„é…ç½®</h2><p>æ–°å¢çš„MavenåŒ…</p><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-web<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>${spring-version}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-webmvc<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>${spring-version}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>â€‹ åœ¨web.xmlé…ç½®DispatcherServletï¼š</p><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token comment">&lt;!--  SpringMVCæ€æƒ³æ˜¯ä¸€ä¸ªå‰ç«¯æ§åˆ¶å™¨æ‹¦æˆªæ‰€æœ‰è¯·æ±‚ï¼Œå¹¶åªèƒ½æ´¾å‘ï¼šè¿™ä¸ªå‰ç«¯æ§åˆ¶å™¨æ˜¯ä¸€ä¸ªServlet
      å¯ä»¥åœ¨web.xmlé…ç½®æ‹¦æˆª
--&gt;</span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-name</span><span class="token punctuation">&gt;</span></span>springDispatcherServlet<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-name</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-class</span><span class="token punctuation">&gt;</span></span>org.springframework.web.servlet.DispatcherServlet<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-class</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>init-param</span><span class="token punctuation">&gt;</span></span>
<span class="token comment">&lt;!--      contextConfigLocationæŒ‡å®šSpringMVCçš„é…ç½®æ–‡ä»¶--&gt;</span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>param-name</span><span class="token punctuation">&gt;</span></span>contextConfigLocation<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>param-name</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>param-value</span><span class="token punctuation">&gt;</span></span>classpath:springmvc.xml<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>param-value</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>init-param</span><span class="token punctuation">&gt;</span></span>
<span class="token comment">&lt;!--    Servletå¯åŠ¨åŠ è½½ï¼Œservletç¬¬ä¸€æ¬¡è®¿é—®åˆ›å»ºå¯¹è±¡
        load-on-startup æœåŠ¡å™¨å¯åŠ¨çš„æ—¶å€™åˆ›å»ºå¯¹è±¡ï¼Œå€¼è¶Šå°ï¼Œè¶Šå…ˆåˆ›å»ºå¯¹è±¡
--&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>load-on-startup</span><span class="token punctuation">&gt;</span></span>1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>load-on-startup</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-mapping</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-name</span><span class="token punctuation">&gt;</span></span>springDispatcherServlet<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-name</span><span class="token punctuation">&gt;</span></span>
<span class="token comment">&lt;!--      /* å’Œ /éƒ½æ˜¯æ‹¦æˆªæ‰€æœ‰è¯·æ±‚
          /* çš„èŒƒå›´æ›´å¤§,è¿˜ä¼šæ‹¦æˆª.jspè¯·æ±‚
--&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>url-pattern</span><span class="token punctuation">&gt;</span></span>/<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>url-pattern</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-mapping</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>é…ç½®IOCï¼šæ³¨ -- è§†å›¾è§£æå™¨æ˜¯ç”¨æ¥æ–¹ä¾¿è·³è½¬é¡µé¢ç”¨çš„</p><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token prolog">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>beans</span> <span class="token attr-name">xmlns</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://www.springframework.org/schema/beans<span class="token punctuation">&quot;</span></span>
       <span class="token attr-name"><span class="token namespace">xmlns:</span>xsi</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://www.w3.org/2001/XMLSchema-instance<span class="token punctuation">&quot;</span></span>
       <span class="token attr-name"><span class="token namespace">xmlns:</span>context</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://www.springframework.org/schema/context<span class="token punctuation">&quot;</span></span>
       <span class="token attr-name"><span class="token namespace">xsi:</span>schemaLocation</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">context:</span>component-scan</span> <span class="token attr-name">base-package</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>cn.zhiyucs.controller<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
<span class="token comment">&lt;!--    è§†å›¾è§£æå™¨--&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>org.springframework.web.servlet.view.InternalResourceViewResolver<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>prefix<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/WEB-INF/pages/<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>suffix<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>.jsp<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>beans</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ç¼–å†™Controller</p><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code>@Controller
public class MyFirstController {
    @RequestMapping(&quot;/hello&quot;)
    public String index() {
        return &quot;success&quot;;
    }
}
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä¸æŒ‡å®šé…ç½®æ–‡ä»¶çš„ç”¨æ³•ï¼š</p><p>å¦‚æœ<strong>ä¸ç”¨ <code> &lt;init-param&gt; &lt;/init-param&gt;</code></strong> æŒ‡å®šé…ç½®æ–‡ä»¶ï¼Œå®ƒä¼šåœ¨WEB-INFä¸‹æ‰¾åˆ°**<code>&lt;servlet-name&gt;springmvc&lt;/servlet-name&gt;</code>**çš„springmvc-servletï¼š</p><figure><img src="data:image/webp;base64,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" alt="d02c1842-8ae0-48fa-969d-046b41e75649" tabindex="0" loading="lazy"><figcaption>d02c1842-8ae0-48fa-969d-046b41e75649</figcaption></figure><h3 id="ç»†èŠ‚è¡¥å……" tabindex="-1"><a class="header-anchor" href="#ç»†èŠ‚è¡¥å……" aria-hidden="true">#</a> <strong>ç»†èŠ‚è¡¥å……ï¼š</strong></h3><p>å¦‚æœå‰ç«¯çš„è¯·æ±‚ä¸åŒï¼š</p><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>hello<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>è¿›å…¥Helloé¡µé¢<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>åœ°å€æ˜¯ï¼š<a href="http://localhost:8080/SpringMVC_01_war_exploded/hello" target="_blank" rel="noopener noreferrer">http://localhost:8080/SpringMVC_01_war_exploded/hello<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/hello<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>è¿›å…¥Helloé¡µé¢<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>åœ°å€æ˜¯ï¼š<a href="http://localhost:8080/hello" target="_blank" rel="noopener noreferrer">http://localhost:8080/hello<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><h2 id="requestmappingçš„å…¶ä»–å±æ€§" tabindex="-1"><a class="header-anchor" href="#requestmappingçš„å…¶ä»–å±æ€§" aria-hidden="true">#</a> @RequestMappingçš„å…¶ä»–å±æ€§</h2><h3 id="method" tabindex="-1"><a class="header-anchor" href="#method" aria-hidden="true">#</a> method</h3><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token comment">//    é»˜è®¤æ˜¯å…¨æ¥æ”¶</span>
    <span class="token annotation punctuation">@ResponseBody</span>
    <span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">&quot;/index&quot;</span><span class="token punctuation">,</span> method <span class="token operator">=</span> <span class="token class-name">RequestMethod</span><span class="token punctuation">.</span><span class="token constant">GET</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">index</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token string">&quot;index&quot;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="params" tabindex="-1"><a class="header-anchor" href="#params" aria-hidden="true">#</a> params</h3><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token comment">//    å‘é€è¯·æ±‚æºå¸¦çš„usernameå¿…é¡»æ˜¯123</span>
<span class="token comment">//    è¯·æ±‚è§„åˆ™å¿…é¡»æ»¡è¶³ä»¥ä¸Šè§„åˆ™,å¿…é¡»æœ‰pwd,ä¸èƒ½æœ‰age</span>
    <span class="token annotation punctuation">@ResponseBody</span>
    <span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">&quot;/index&quot;</span><span class="token punctuation">,</span>
            method <span class="token operator">=</span> <span class="token class-name">RequestMethod</span><span class="token punctuation">.</span><span class="token constant">GET</span><span class="token punctuation">,</span>
            params <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">&quot;username==123&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;pwd&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;!age&quot;</span><span class="token punctuation">}</span>
    <span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">index</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token string">&quot;index&quot;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="headers" tabindex="-1"><a class="header-anchor" href="#headers" aria-hidden="true">#</a> headers</h3><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token comment">//    è§„å®šè¯·æ±‚å¤´</span>
    <span class="token annotation punctuation">@ResponseBody</span>
    <span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">&quot;/index&quot;</span><span class="token punctuation">,</span>
            method <span class="token operator">=</span> <span class="token class-name">RequestMethod</span><span class="token punctuation">.</span><span class="token constant">GET</span><span class="token punctuation">,</span>
            params <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">&quot;username==123&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;pwd&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;!age&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
            headers <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">&quot;&quot;</span><span class="token punctuation">}</span>
    <span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">index</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token string">&quot;index&quot;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="consume" tabindex="-1"><a class="header-anchor" href="#consume" aria-hidden="true">#</a> consume</h3><p>è§„å®šè¯·æ±‚å¤´ä¸­çš„content-type</p><h3 id="produces" tabindex="-1"><a class="header-anchor" href="#produces" aria-hidden="true">#</a> produces</h3><p>ç»™å“åº”å¤´åŠ ä¸Šcontent-typeï¼štext/html;charset=utf-8</p><h2 id="anté£æ ¼çš„urlå’Œ-pathvariable" tabindex="-1"><a class="header-anchor" href="#anté£æ ¼çš„urlå’Œ-pathvariable" aria-hidden="true">#</a> anté£æ ¼çš„urlå’Œ@PathVariable</h2><h3 id="requestmappingçš„anté£æ ¼url" tabindex="-1"><a class="header-anchor" href="#requestmappingçš„anté£æ ¼url" aria-hidden="true">#</a> @RequestMappingçš„anté£æ ¼url</h3><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token comment">//    URLåœ°å€å¯ä»¥å†™æ¨¡ç³ŠåŒ¹é…</span>
<span class="token comment">//    ?: èƒ½ä»£æ›¿ä»»æ„ä¸€ä¸ªå­—ç¬¦</span>
<span class="token comment">//    *: èƒ½ä»£æ›¿ä»»æ„å¤šä¸ªå­—ç¬¦,å’Œä¸€å±‚è·¯å¾„</span>
<span class="token comment">//    **: èƒ½ä»£æ›¿å¤šå±‚è·¯å¾„</span>
    <span class="token annotation punctuation">@ResponseBody</span>
    <span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/antTest0?&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span>  <span class="token class-name">String</span> <span class="token function">antTest01</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token string">&quot;æ¨¡ç³ŠåŒ¹é…antTest&quot;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token comment">// åŒ¹é… http://localhost:8080/SpringMVC_01_war_exploded/antTest03</span>
    <span class="token annotation punctuation">@ResponseBody</span>
    <span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/antTest0*&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span>  <span class="token class-name">String</span> <span class="token function">antTest02</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;*çš„æµ‹è¯•&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token string">&quot;æ¨¡ç³ŠåŒ¹é…antTest&quot;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token comment">// http://localhost:8080/SpringMVC_01_war_exploded/antTest0321312</span>
    <span class="token annotation punctuation">@ResponseBody</span>
    <span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/a*/antTest0*&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span>  <span class="token class-name">String</span> <span class="token function">antTest03</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;*çš„è·¯å¾„æµ‹è¯•&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token string">&quot;æ¨¡ç³ŠåŒ¹é…antTest&quot;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token comment">// http://localhost:8080/SpringMVC_01_war_exploded/adas/antTest0321312</span>
    <span class="token annotation punctuation">@ResponseBody</span>
    <span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/a/**/antTest0*&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span>  <span class="token class-name">String</span> <span class="token function">antTest04</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;**çš„æµ‹è¯•&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token string">&quot;æ¨¡ç³ŠåŒ¹é…antTest&quot;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token comment">//http://localhost:8080/SpringMVC_01_war_exploded/a/das/antTest0321312</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="pathvariable" tabindex="-1"><a class="header-anchor" href="#pathvariable" aria-hidden="true">#</a> @PathVariable</h3><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token comment">// å ä½ç¬¦åªèƒ½å ä¸€å±‚è·¯å¾„</span>
<span class="token annotation punctuation">@ResponseBody</span>
<span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">&quot;/login/{username}&quot;</span><span class="token punctuation">,</span> method <span class="token operator">=</span> <span class="token class-name">RequestMethod</span><span class="token punctuation">.</span><span class="token constant">GET</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">login</span><span class="token punctuation">(</span><span class="token annotation punctuation">@PathVariable</span><span class="token punctuation">(</span><span class="token string">&quot;username&quot;</span><span class="token punctuation">)</span> <span class="token class-name">String</span> username<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>username<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// zhiyu</span>
    <span class="token keyword">return</span> <span class="token string">&quot;login successful!&quot;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token comment">//http://localhost:8080/SpringMVC_01_war_exploded/login/zhiyu</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>RESTçš„è§£é‡Šï¼š</p><ul><li>Reï¼ˆResourceï¼‰èµ„æº</li><li>Reï¼ˆRepresentationï¼‰ è¡¨ç°å±‚</li><li>STï¼ˆState Transferï¼‰çŠ¶æ€è½¬åŒ–</li></ul><h2 id="è·å–è¯·æ±‚ä¿¡æ¯" tabindex="-1"><a class="header-anchor" href="#è·å–è¯·æ±‚ä¿¡æ¯" aria-hidden="true">#</a> è·å–è¯·æ±‚ä¿¡æ¯</h2><h3 id="requestmapping-è·å–å‚æ•°-path-xxx-xxx" tabindex="-1"><a class="header-anchor" href="#requestmapping-è·å–å‚æ•°-path-xxx-xxx" aria-hidden="true">#</a> @RequestMapping è·å–å‚æ•° path?xxx= xxx</h3><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token comment">// @RequestParamå‚æ•°</span>
    <span class="token comment">// required è¿™ä¸ªå‚æ•°æ˜¯å¦å¿…é¡»</span>
    <span class="token comment">// defaultValue é»˜è®¤å€¼:æ²¡å¸¦å‚æ•°æ˜¯null</span>
    <span class="token annotation punctuation">@ResponseBody</span>
    <span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">&quot;/login&quot;</span><span class="token punctuation">,</span> method <span class="token operator">=</span> <span class="token class-name">RequestMethod</span><span class="token punctuation">.</span><span class="token constant">GET</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">login</span><span class="token punctuation">(</span><span class="token annotation punctuation">@RequestParam</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">&quot;username&quot;</span><span class="token punctuation">,</span> required <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">,</span> defaultValue <span class="token operator">=</span> <span class="token string">&quot;JOJO&quot;</span><span class="token punctuation">)</span> <span class="token class-name">String</span> username<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>username<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token string">&quot;login successful!&quot;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> 
<span class="token comment">// http://localhost:8080/SpringMVC_01_war_exploded/login?username=zhiyu -- zhiyu</span>
<span class="token comment">// http://localhost:8080/SpringMVC_01_war_exploded/login -- JOJO</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="requestheader-è·å–è¯·æ±‚å¤´" tabindex="-1"><a class="header-anchor" href="#requestheader-è·å–è¯·æ±‚å¤´" aria-hidden="true">#</a> @RequestHeader è·å–è¯·æ±‚å¤´</h3><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token comment">//    ç›¸å½“äº@RequestHeader(&quot;User-Agent&quot;) == userAgent = request.getHeader(&quot;User-Agent&quot;)</span>
<span class="token comment">//    å¦‚æœè¯·æ±‚å¤´æ²¡æœ‰è¿™ä¸ªå‚æ•°ä¼šæŠ¥é”™, å‚æ•°ä¸€æ ·:value required defaultValue</span>
    <span class="token annotation punctuation">@ResponseBody</span>
    <span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/head&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getHeaderFunc</span><span class="token punctuation">(</span><span class="token annotation punctuation">@RequestHeader</span><span class="token punctuation">(</span><span class="token string">&quot;User-Agent&quot;</span><span class="token punctuation">)</span> <span class="token class-name">String</span> userAgent<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;è¯·æ±‚å¤´ä¸­çš„ä¿¡æ¯&quot;</span> <span class="token operator">+</span> userAgent<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token string">&quot;header!!&quot;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="cookievalue-è·å–cookieçš„å€¼" tabindex="-1"><a class="header-anchor" href="#cookievalue-è·å–cookieçš„å€¼" aria-hidden="true">#</a> @CookieValue è·å–Cookieçš„å€¼</h3><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code>    <span class="token comment">// ä»¥å‰è·å–cookie : Cookie[] cookies = request.getCookies();</span>
    <span class="token annotation punctuation">@ResponseBody</span>
    <span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/cookie&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getCookies</span><span class="token punctuation">(</span><span class="token annotation punctuation">@CookieValue</span><span class="token punctuation">(</span><span class="token string">&quot;JSESSIONID&quot;</span><span class="token punctuation">)</span> <span class="token class-name">String</span> jid<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>jid<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token string">&quot;cookie!!&quot;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="ä½¿ç”¨-pojo-å¯¹è±¡ç»‘å®šè¯·æ±‚å‚æ•°å€¼" tabindex="-1"><a class="header-anchor" href="#ä½¿ç”¨-pojo-å¯¹è±¡ç»‘å®šè¯·æ±‚å‚æ•°å€¼" aria-hidden="true">#</a> ä½¿ç”¨ POJO å¯¹è±¡ç»‘å®šè¯·æ±‚å‚æ•°å€¼</h2><p>å‰ç«¯ï¼š</p><div class="language-html line-numbers-mode" data-ext="html"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>form</span> <span class="token attr-name">method</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>post<span class="token punctuation">&quot;</span></span> <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>hello<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>label</span><span class="token punctuation">&gt;</span></span>ä¹¦å<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>label</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>bookName<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>label</span><span class="token punctuation">&gt;</span></span>ä½œè€…<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>label</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>author<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>label</span><span class="token punctuation">&gt;</span></span>ä»·æ ¼<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>label</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>price<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>submit<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>æäº¤<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>form</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å®ä½“ç±»ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Book</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> bookName<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> author<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">Integer</span> price<span class="token punctuation">;</span>
    <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
    <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æ§åˆ¶å±‚ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code>    <span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">&quot;/hello&quot;</span><span class="token punctuation">,</span> method <span class="token operator">=</span> <span class="token class-name">RequestMethod</span><span class="token punctuation">.</span><span class="token constant">POST</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">hello</span><span class="token punctuation">(</span><span class="token class-name">Book</span> book<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>book<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token string">&quot;success&quot;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è§£å†³ä¸­æ–‡ä¹±ç çš„æ–¹æ¡ˆï¼š</p><p>åœ¨web.xmlé…ç½®ï¼š</p><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>filter</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>filter-name</span><span class="token punctuation">&gt;</span></span>characterEncodingFilter<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>filter-name</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>filter-class</span><span class="token punctuation">&gt;</span></span>org.springframework.web.filter.CharacterEncodingFilter<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>filter-class</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>init-param</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>param-name</span><span class="token punctuation">&gt;</span></span>encoding<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>param-name</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>param-value</span><span class="token punctuation">&gt;</span></span>utf-8<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>param-value</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>init-param</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>init-param</span><span class="token punctuation">&gt;</span></span>
        <span class="token comment">&lt;!--      è§£å†³å“åº”ä¹±ç :response.setCharacter()--&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>param-name</span><span class="token punctuation">&gt;</span></span>foreceEncoding<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>param-name</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>param-value</span><span class="token punctuation">&gt;</span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>param-value</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>init-param</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>filter</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>filter-mapping</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>filter-name</span><span class="token punctuation">&gt;</span></span>characterEncodingFilter<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>filter-name</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>url-pattern</span><span class="token punctuation">&gt;</span></span>/*<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>url-pattern</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>filter-mapping</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>**æ³¨æ„ï¼š**è¿™ä¸ªå­—ç¬¦è¿‡æ»¤å™¨çš„é…ç½®å¿…é¡»åœ¨ä¹‹å‰ï¼š</p><figure><img src="/Computer-Science-Learn-Notes/assets/60a719d2-b67c-473a-9250-cdd72fe9ed7f-2aa06566.webp" alt="60a719d2-b67c-473a-9250-cdd72fe9ed7f" tabindex="0" loading="lazy"><figcaption>60a719d2-b67c-473a-9250-cdd72fe9ed7f</figcaption></figure><h2 id="ä½¿ç”¨tomcatåŸç”Ÿapi" tabindex="-1"><a class="header-anchor" href="#ä½¿ç”¨tomcatåŸç”Ÿapi" aria-hidden="true">#</a> ä½¿ç”¨tomcatåŸç”ŸAPI</h2><p>åœ¨Mavenä¸­åŠ å…¥ä¾èµ–ï¼š</p><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>javax.servlet<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>servlet-api<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>2.5<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æ§åˆ¶å±‚ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code>    <span class="token comment">// åŸç”ŸAPI</span>
    <span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/origin&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">originalAPI</span><span class="token punctuation">(</span><span class="token class-name">HttpSession</span> session<span class="token punctuation">,</span>
                              <span class="token class-name">HttpServletRequest</span> req<span class="token punctuation">,</span>
                              <span class="token class-name">HttpServletResponse</span> res<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        req<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;req&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;è¯·æ±‚æµ‹è¯•&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        session<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;session&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;sessionæµ‹è¯•&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token string">&quot;origin&quot;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>JSPé€šè¿‡ELè¡¨è¾¾å¼å¯ä»¥å–åˆ°æ•°æ®ï¼š</p><p>æ³¨æ„ï¼šisELIgnored=&quot;false&quot;</p><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code>&lt;%@ page contentType=&quot;text/html;charset=UTF-8&quot; language=&quot;java&quot; isELIgnored=&quot;false&quot; %&gt;
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>Origin<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">&gt;</span></span>
        ${ requestScope.req }
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">&gt;</span></span>
        ${ sessionScope.session }
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="æ•°æ®è¾“å‡º-modelå’Œmodelmap" tabindex="-1"><a class="header-anchor" href="#æ•°æ®è¾“å‡º-modelå’Œmodelmap" aria-hidden="true">#</a> æ•°æ®è¾“å‡º Modelå’ŒModelMap</h2><h3 id="ä½¿ç”¨model" tabindex="-1"><a class="header-anchor" href="#ä½¿ç”¨model" aria-hidden="true">#</a> ä½¿ç”¨Model</h3><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/handler01&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">handler01</span><span class="token punctuation">(</span><span class="token class-name">Model</span> model<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;handler01&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    model<span class="token punctuation">.</span><span class="token function">addAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;msg&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;ä½ å¥½&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token string">&quot;modelTest&quot;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="ä½¿ç”¨modelmap" tabindex="-1"><a class="header-anchor" href="#ä½¿ç”¨modelmap" aria-hidden="true">#</a> ä½¿ç”¨ModelMap</h3><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/handler01&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">handler01</span><span class="token punctuation">(</span><span class="token class-name">ModelMap</span> model<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;handler01&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    model<span class="token punctuation">.</span><span class="token function">addAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;msg&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;ä½ å¥½&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
    <span class="token keyword">return</span> <span class="token string">&quot;modelTest&quot;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Mapã€Modelã€ModelMapæœ€ç»ˆéƒ½æ˜¯ç»‘å®šåœ¨ç±»<strong>BindingAwareModelMap</strong>å·¥ä½œ</p><p>BindingAwareModelMapä¿å­˜çš„æ•°æ®éƒ½ä¼šæ”¾åœ¨<strong>è¯·æ±‚åŸŸ</strong>ä¸­</p><figure><img src="data:image/webp;base64,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" alt="dcaf2c6b-62e3-4ad3-aea9-023b5fa4e2f9" tabindex="0" loading="lazy"><figcaption>dcaf2c6b-62e3-4ad3-aea9-023b5fa4e2f9</figcaption></figure><figure><img src="/Computer-Science-Learn-Notes/assets/c7d7120d-838d-407a-bbdd-b8bd10f973e1-92a1542e.webp" alt="c7d7120d-838d-407a-bbdd-b8bd10f973e1" tabindex="0" loading="lazy"><figcaption>c7d7120d-838d-407a-bbdd-b8bd10f973e1</figcaption></figure><h2 id="æ•°æ®è¾“å‡º-modelandviewä½¿ç”¨" tabindex="-1"><a class="header-anchor" href="#æ•°æ®è¾“å‡º-modelandviewä½¿ç”¨" aria-hidden="true">#</a> æ•°æ®è¾“å‡º ModelAndViewä½¿ç”¨</h2><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code> <span class="token doc-comment comment">/**
     * æ—¢åŒ…å«è§†å›¾ä¿¡æ¯ï¼ˆé¡µé¢åœ°å€ï¼‰ä¹ŸåŒ…æ‹¬æ¨¡å‹æ•°æ®ï¼ˆç»™é¡µé¢çš„æ•°æ®ï¼‰
     * è€Œä¸”æ•°æ®æ”¾åœ¨è¯·æ±‚åŸŸä¸­
     * <span class="token keyword">@return</span>
     */</span>
    <span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/handler03&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">ModelAndView</span> <span class="token function">hadnler03</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="token comment">//        ModelAndViewçš„æ„é€ å™¨å‚æ•°æ˜¯è§†å›¾åï¼Œè§†å›¾è§£æå™¨ä¼šå¸®åŠ©æ‹¼ä¸²</span>
        <span class="token class-name">ModelAndView</span> mv <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ModelAndView</span><span class="token punctuation">(</span><span class="token string">&quot;modelTest&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// æˆ–è€… mv.setViewName(&quot;modelTest&quot;);</span>
        mv<span class="token punctuation">.</span><span class="token function">addObject</span><span class="token punctuation">(</span><span class="token string">&quot;msg&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;ä½ å¥½ä¼šå•Š&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> mv<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="æ•°æ®è¾“å‡º-sessionattributes" tabindex="-1"><a class="header-anchor" href="#æ•°æ®è¾“å‡º-sessionattributes" aria-hidden="true">#</a> æ•°æ®è¾“å‡º @SessionAttributes</h2><p>@SessionAttributes æœ‰ä¸‰ä¸ªå±æ€§ï¼š</p><p>namesï¼šå£°æ˜éœ€è¦å­˜å‚¨åˆ°sessionä¸­æ•°æ®çš„åç§°</p><p>typesï¼šå£°æ˜å­˜å‚¨åˆ°sessionä¸­å‚æ•°ç±»å‹ï¼Œå°†æ¨¡å‹ä¸­å¯¹åº”ç±»å‹çš„å‚æ•°å­˜å‚¨åˆ°sessionä¸­</p><p>valueï¼šå…¶å®å’Œnamesæ˜¯ä¸€æ ·çš„ã€‚names å’Œ value åŒæ—¶ä½¿ç”¨ä¼šæŠ¥é”™</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token doc-comment comment">/**
 * ä½¿ç”¨æ³¨è§£ï¼š
 * åªèƒ½æ”¾åœ¨ç±»ä¸Š
 * ç»™BindingAwareModelMapä¸­ä¿å­˜æ•°æ®ï¼ŒåŒæ—¶ç»™sessionä¸­æ”¾ä¸€ä»½
 */</span>
<span class="token annotation punctuation">@SessionAttributes</span><span class="token punctuation">(</span>names <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">&quot;msg&quot;</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token annotation punctuation">@Controller</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">IndexController</span> <span class="token punctuation">{</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>æ³¨æ„ï¼š</strong>@SessionAttributesçš„å‚æ•° -- nameså¿…é¡»åŒ…å«è¦ä¼ å…¥sessionçš„keyï¼Œå¦‚æœæ²¡æœ‰sesssionåŸŸä¸­å°±æ²¡æœ‰è¿™ä¸ªæ•°æ®</p><h2 id="æ•°æ®è¾“å‡º-modelattribute" tabindex="-1"><a class="header-anchor" href="#æ•°æ®è¾“å‡º-modelattribute" aria-hidden="true">#</a> æ•°æ®è¾“å‡º @ModelAttribute</h2><p>è¢«@ModelAttributeæ³¨é‡Šçš„æ–¹æ³•ä¼šåœ¨æ­¤controlleræ¯ä¸ªæ–¹æ³•æ‰§è¡Œå‰è¢«æ‰§è¡Œï¼Œå› æ­¤å¯¹äºä¸€ä¸ªcontrolleræ˜ å°„å¤šä¸ªURLçš„ç”¨æ³•æ¥è¯´ï¼Œè¦è°¨æ…ä½¿ç”¨</p><p>åº”ç”¨åœºæ™¯ï¼š</p><ul><li>æ–¹æ³•ä¸Š</li><li>æ–¹æ³•çš„å‚æ•°ä¸Š</li></ul><p>Controller</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@Controller</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ModelAttributeTestController</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@ModelAttribute</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">modelTest</span><span class="token punctuation">(</span><span class="token annotation punctuation">@RequestParam</span> <span class="token class-name">String</span> a<span class="token punctuation">,</span> <span class="token class-name">Model</span> model<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        model<span class="token punctuation">.</span><span class="token function">addAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;a&quot;</span><span class="token punctuation">,</span> a<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/He&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span>  <span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token string">&quot;modelTest&quot;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>JSPï¼š</p><div class="language-html line-numbers-mode" data-ext="html"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span>${requestScope.a}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>ç»“æœï¼š</p><figure><img src="/Computer-Science-Learn-Notes/assets/bedf1aaf-1c86-4752-89e6-f34aa9e676a7-9a563a08.webp" alt="bedf1aaf-1c86-4752-89e6-f34aa9e676a7" tabindex="0" loading="lazy"><figcaption>bedf1aaf-1c86-4752-89e6-f34aa9e676a7</figcaption></figure><p>ç¤ºä¾‹åŠå¤§è‡´æµç¨‹ï¼š</p><figure><img src="/Computer-Science-Learn-Notes/assets/58e5812e-ea1a-4f60-ac50-c32ded039116-e1155bfb.webp" alt="58e5812e-ea1a-4f60-ac50-c32ded039116" tabindex="0" loading="lazy"><figcaption>58e5812e-ea1a-4f60-ac50-c32ded039116</figcaption></figure><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@Controller</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Hello2ModelController</span> <span class="token punctuation">{</span>

    <span class="token annotation punctuation">@ModelAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;book&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">User</span> <span class="token function">populateModel</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
       <span class="token class-name">Book</span> book<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">Book</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
       book<span class="token punctuation">.</span><span class="token function">setName</span><span class="token punctuation">(</span><span class="token string">&quot;è¥¿æ¸¸è®°&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
       <span class="token keyword">return</span> book<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">&quot;/index&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">index</span><span class="token punctuation">(</span><span class="token annotation punctuation">@ModelAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;book&quot;</span><span class="token punctuation">)</span> <span class="token class-name">Book</span> book<span class="token punctuation">)</span> <span class="token punctuation">{</span>
       <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>book<span class="token punctuation">)</span><span class="token punctuation">;</span>
       <span class="token keyword">return</span> <span class="token string">&quot;index&quot;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="æºç åˆ†æ-dispatcherservlet" tabindex="-1"><a class="header-anchor" href="#æºç åˆ†æ-dispatcherservlet" aria-hidden="true">#</a> æºç åˆ†æ DispatcherServlet</h2><h3 id="æ¦‚è§ˆ" tabindex="-1"><a class="header-anchor" href="#æ¦‚è§ˆ" aria-hidden="true">#</a> æ¦‚è§ˆ</h3><hr><ol><li><p>æ‰€æœ‰è¯·æ±‚è¿‡æ¥DispatcherServletæ”¶åˆ°è¯·æ±‚</p></li><li><p>è°ƒç”¨doDispatchæ–¹æ³•è¿›è¡Œå¤„ç†</p></li><li><ol><li><p>getHandler() æ ¹æ®å½“å‰è¯·æ±‚åœ°å€æ‰¾åˆ°èƒ½å¤„ç†è¿™ä¸ªè¯·æ±‚çš„ç›®æ ‡å¤„ç†å™¨</p></li><li><ol><li>æ ¹æ®å½“å‰è¯·æ±‚åœ¨HandlerMappingä¸­æ‰¾åˆ°è¿™ä¸ªè¯·æ±‚çš„æ˜ å°„ä¿¡æ¯ï¼Œè·å–åˆ°ç›®æ ‡å¤„ç†å™¨ç±»</li></ol></li><li><p>getHandlerAdapter() æ ¹æ®å½“å‰å¤„ç†å™¨èƒ½è·å–åˆ°èƒ½æ‰§è¡Œè¿™ä¸ªå¤„ç†å™¨æ–¹æ³•çš„é€‚é…å™¨</p></li><li><ol><li>æ ¹æ®å¤„ç†å™¨ç±»ï¼Œæ‰¾åˆ°å½“å‰ç±»çš„HandlerAdapter é€‚é…å™¨</li></ol></li><li><p>ä½¿ç”¨è·å–åˆ°çš„ï¼ˆRequestMappingHandlerAdapterï¼‰æ‰§è¡Œç›®æ ‡æ–¹æ³•</p></li><li><p>ç›®æ ‡æ–¹æ³•æ‰§è¡Œä¼šè¿”å›ModelAndViewå¯¹è±¡</p></li><li><p>æ ¹æ®ModelAndViewçš„ä¿¡æ¯è½¬å‘åˆ°å…·ä½“é¡µé¢ï¼Œå¹¶å¯ä»¥åœ¨è¯·æ±‚åŸŸä¸­è·å–</p></li></ol></li><li><p>getHandlerAdapter</p></li></ol><h3 id="æ•´ä½“" tabindex="-1"><a class="header-anchor" href="#æ•´ä½“" aria-hidden="true">#</a> æ•´ä½“</h3><hr><p>æ•´ä¸ªDispatcherServletçš„ç»§æ‰¿å…³ç³»</p><figure><img src="/Computer-Science-Learn-Notes/assets/c5dcc2fc-399c-498d-a90a-3b2410e77ad0-f2f453fd.webp" alt="c5dcc2fc-399c-498d-a90a-3b2410e77ad0" tabindex="0" loading="lazy"><figcaption>c5dcc2fc-399c-498d-a90a-3b2410e77ad0</figcaption></figure><p>FrameworkServletæœ‰ä¸¤ä¸ªæ ¸å¿ƒæ–¹æ³•ï¼š</p><figure><img src="/Computer-Science-Learn-Notes/assets/d8cbf0f3-1499-4346-9bc4-785715c6c9bf-f6a9d2f7.webp" alt="d8cbf0f3-1499-4346-9bc4-785715c6c9bf" tabindex="0" loading="lazy"><figcaption>d8cbf0f3-1499-4346-9bc4-785715c6c9bf</figcaption></figure><p>æ ¸å¿ƒä½¿ç”¨äº†åŒä¸€ä¸ªå‡½æ•°ï¼š<strong>processRequest(request, response);</strong></p><p>åœ¨processRequestæ–¹æ³•ä¸­æœ‰ä¸€ä¸ªæ ¸å¿ƒå‡½æ•°ï¼š<strong>doService(request, response);</strong></p><p>å®ƒæ˜¯ä¸€ä¸ªæŠ½è±¡å‡½æ•°ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">protected</span> <span class="token keyword">abstract</span> <span class="token keyword">void</span> <span class="token function">doService</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><figure><img src="data:image/webp;base64,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" alt="2cc5c063-a656-43b5-9010-c6169a701315" tabindex="0" loading="lazy"><figcaption>2cc5c063-a656-43b5-9010-c6169a701315</figcaption></figure><p>ç„¶åå¯ä»¥æ ¹æ®ç»§æ‰¿å…³ç³»æ‰¾åˆ°DispatcherServletçš„doServiceï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@Override</span>
<span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doService</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span> 
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>è¿™ä¸ªæ–¹æ³•æœ‰ä¸€ä¸ªæ ¸å¿ƒå‡½æ•°ï¼š<strong>doDispatch</strong>ï¼Œè¿™ä¸ªå‡½æ•°ä¹Ÿåœ¨è¿™ä¸ªç±»ä¸­ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doDispatch</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>æ•´ç†è·¯çº¿ï¼š</p><figure><img src="/Computer-Science-Learn-Notes/assets/62719fbd-be8a-4cd9-b2e0-214e5ea6713a-f23a43ec.webp" alt="62719fbd-be8a-4cd9-b2e0-214e5ea6713a" tabindex="0" loading="lazy"><figcaption>62719fbd-be8a-4cd9-b2e0-214e5ea6713a</figcaption></figure><h3 id="dodispatchçš„è¯¦ç»†ç»†èŠ‚" tabindex="-1"><a class="header-anchor" href="#dodispatchçš„è¯¦ç»†ç»†èŠ‚" aria-hidden="true">#</a> doDispatchçš„è¯¦ç»†ç»†èŠ‚</h3><p>DispathcerServletç±»ä¸­çš„doDispatchå‡½æ•°ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code>    <span class="token doc-comment comment">/**
     * Process the actual dispatching to the handler.
     * <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>The handler will be obtained by applying the servlet&#39;s HandlerMappings in order.
     * The HandlerAdapter will be obtained by querying the servlet&#39;s installed HandlerAdapters
     * to find the first that supports the handler class.
     * <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>All HTTP methods are handled by this method. It&#39;s up to HandlerAdapters or handlers
     * themselves to decide which methods are acceptable.
     * <span class="token keyword">@param</span> <span class="token parameter">request</span> current HTTP request
     * <span class="token keyword">@param</span> <span class="token parameter">response</span> current HTTP response
     * <span class="token keyword">@throws</span> <span class="token reference"><span class="token class-name">Exception</span></span> in case of any kind of processing failure
     */</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doDispatch</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span> <span class="token punctuation">{</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä¸¤ä¸ªæ ¸å¿ƒå‡½æ•°ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token comment">// Actually invoke the handler. å¤„ç†å™¨çš„æ–¹æ³•è¢«è°ƒç”¨</span>
<span class="token comment">// çœŸæ­£å»æ‰§è¡Œæ–¹æ³•çš„å¤„ç†å™¨ haåœ¨ä¸‹ä¸‹é¢çš„ç¬”è®°</span>
mv <span class="token operator">=</span> ha<span class="token punctuation">.</span><span class="token function">handle</span><span class="token punctuation">(</span>processedRequest<span class="token punctuation">,</span> response<span class="token punctuation">,</span> mappedHandler<span class="token punctuation">.</span><span class="token function">getHandler</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
    <span class="token comment">// è½¬å‘åˆ°ç›®æ ‡é¡µé¢</span>
<span class="token function">processDispatchResult</span><span class="token punctuation">(</span>processedRequest<span class="token punctuation">,</span> response<span class="token punctuation">,</span> mappedHandler<span class="token punctuation">,</span> mv<span class="token punctuation">,</span> dispatchException<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æ£€æŸ¥æ˜¯å¦æ˜¯æ–‡ä»¶ä¸Šä¼ è¯·æ±‚ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code>processedRequest <span class="token operator">=</span> <span class="token function">checkMultipart</span><span class="token punctuation">(</span>request<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token comment">// Determine handler for the current request.</span>
<span class="token comment">// æ ¹æ®å½“å‰è¯·æ±‚å†³å®šï¼ˆå“ªä¸ªç±»æ¥å¤„ç†ï¼‰å¤„ç†å™¨</span>
mappedHandler <span class="token operator">=</span> <span class="token function">getHandler</span><span class="token punctuation">(</span>processedRequest<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å¦‚æœæ²¡æœ‰æ‰¾åˆ°å¤„ç†å™¨èƒ½å¤„ç†è¿™ä¸ªè¯·æ±‚å°±404æŠ›å¼‚å¸¸ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">if</span> <span class="token punctuation">(</span>mappedHandler <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">noHandlerFound</span><span class="token punctuation">(</span>processedRequest<span class="token punctuation">,</span> response<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token comment">// Determine handler adapter for the current request.</span>
<span class="token comment">// æ‹¿åˆ°èƒ½æ‰§è¡Œè¿™ä¸ªç±»æ–¹æ³•çš„é€‚é…å™¨ï¼ˆåå°„å·¥å…·ï¼‰ï¼Œå¦‚æ³¨è§£é€‚é…å™¨ï¼šAnnotationMethodHandlerAdapter</span>
<span class="token class-name">HandlerAdapter</span> ha <span class="token operator">=</span> <span class="token function">getHandlerAdapter</span><span class="token punctuation">(</span>mappedHandler<span class="token punctuation">.</span><span class="token function">getHandler</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>é€‚é…å™¨æ¥æ‰§è¡Œç›®æ ‡æ–¹æ³•ï¼Œæ‰§è¡Œå®Œåè¿”å›çš„è¿”å›å€¼ä½œä¸ºè§†å›¾åï¼Œä¿å­˜åœ¨<strong>ModelAndView</strong></p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code>mv <span class="token operator">=</span> ha<span class="token punctuation">.</span><span class="token function">handle</span><span class="token punctuation">(</span>processedRequest<span class="token punctuation">,</span> response<span class="token punctuation">,</span> mappedHandler<span class="token punctuation">.</span><span class="token function">getHandler</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>å¦‚æœè¿™ä¸ªmodelandviewæ²¡æœ‰åå­—å°±ä½¿ç”¨é»˜è®¤çš„åå­—ï¼ˆè¯·æ±‚çš„åœ°å€åï¼‰ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token function">applyDefaultViewName</span><span class="token punctuation">(</span>processedRequest<span class="token punctuation">,</span> mv<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>æ ¹æ®æ–¹æ³•æ‰§è¡Œå®Œæˆåå°è£…çš„ModelAndViewè½¬å‘åˆ°å¯¹åº”é¡µé¢ï¼Œè€Œä¸”ModelAndViewæ•°æ®å¯ä»¥ä»è¯·æ±‚åŸŸè·å–</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token comment">/*
processedRequest åŒ…è£…åçš„è¯·æ±‚
response å“åº”
mappedHandler ç›®æ ‡å¤„ç†å™¨
mv modelandviewï¼Œè¦è½¬åˆ°çš„åœ°å€
*/</span>
<span class="token function">processDispatchResult</span><span class="token punctuation">(</span>processedRequest<span class="token punctuation">,</span> response<span class="token punctuation">,</span> mappedHandler<span class="token punctuation">,</span> mv<span class="token punctuation">,</span> dispatchException<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="gethandlerçš„è¯¦ç»†" tabindex="-1"><a class="header-anchor" href="#gethandlerçš„è¯¦ç»†" aria-hidden="true">#</a> getHandlerçš„è¯¦ç»†</h3><p>åŸå‡½æ•°ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@Nullable</span>
<span class="token keyword">protected</span> <span class="token class-name">HandlerExecutionChain</span> <span class="token function">getHandler</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>handlerMappings <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">HandlerMapping</span> mapping <span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>handlerMappings<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token class-name">HandlerExecutionChain</span> handler <span class="token operator">=</span> mapping<span class="token punctuation">.</span><span class="token function">getHandler</span><span class="token punctuation">(</span>request<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>handler <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">return</span> handler<span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>handlerMappings</strong>ï¼šå¤„ç†å™¨æ˜ å°„å™¨ï¼Œä¿å­˜äº†æ¯ä¸ªå¤„ç†å™¨èƒ½å¤„ç†çš„æ˜ å°„ï¼ˆæ¯”å¦‚åˆ›å»ºäº†ä¸€ä¸ªç±»HelloControllerï¼‰</p><p><strong>handlerMap</strong>ï¼šIOCå®¹å™¨å¯åŠ¨Controllerå¯¹è±¡çš„æ—¶å€™æ‰«ææ¯ä¸ªå¤„ç†å™¨èƒ½å¤„ç†ä»€ä¹ˆè¯·æ±‚ï¼Œä¿å­˜åœ¨handlerMappingsçš„handlerMapå±æ€§ï¼ˆ<strong>spring5å°è£…åˆ°äº†mappingRegistry -- mappingLookup</strong>ï¼‰</p><figure><img src="/Computer-Science-Learn-Notes/assets/f336e49d-82de-40ff-b436-9c99be23911e-7f139108.webp" alt="f336e49d-82de-40ff-b436-9c99be23911e" tabindex="0" loading="lazy"><figcaption>f336e49d-82de-40ff-b436-9c99be23911e</figcaption></figure><h3 id="gethandleradapter" tabindex="-1"><a class="header-anchor" href="#gethandleradapter" aria-hidden="true">#</a> getHandlerAdapter</h3><hr><p>è¿™æ˜¯é€šè¿‡è°ƒç”¨IndexControlleré‡Œçš„â€œ/successâ€å¾—åˆ°çš„ï¼š</p><figure><img src="/Computer-Science-Learn-Notes/assets/2d3fe640-021a-433f-bfae-e87d80be5282-548ea47c.webp" alt="2d3fe640-021a-433f-bfae-e87d80be5282" tabindex="0" loading="lazy"><figcaption>2d3fe640-021a-433f-bfae-e87d80be5282</figcaption></figure><p>å¯çŸ¥è¿”å›çš„resultHandlerå°±æ˜¯è¿™ä¸ª</p><p>ä¸ºäº†æ‰¾åˆ°ç›®æ ‡å¤„ç†å™¨çš„é€‚é…å™¨ï¼Œè¦å»æ‹¿é€‚é…å™¨æ‰èƒ½æ‰§è¡Œæ–¹æ³•ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">protected</span> <span class="token class-name">HandlerAdapter</span> <span class="token function">getHandlerAdapter</span><span class="token punctuation">(</span><span class="token class-name">Object</span> handler<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>handlerAdapters <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">HandlerAdapter</span> adapter <span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>handlerAdapters<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>adapter<span class="token punctuation">.</span><span class="token function">supports</span><span class="token punctuation">(</span>handler<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">return</span> adapter<span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">ServletException</span><span class="token punctuation">(</span><span class="token string">&quot;No adapter for handler [&quot;</span> <span class="token operator">+</span> handler <span class="token operator">+</span>
                               <span class="token string">&quot;]: The DispatcherServlet configuration needs to include a HandlerAdapter that supports this handler&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è°ƒè¯•æ—¶åªæœ‰RequestMappingHandlerAdapterï¼š</p><figure><img src="/Computer-Science-Learn-Notes/assets/3139a90f-126a-4f1f-8f9e-be791104d915-dad23745.webp" alt="3139a90f-126a-4f1f-8f9e-be791104d915" tabindex="0" loading="lazy"><figcaption>3139a90f-126a-4f1f-8f9e-be791104d915</figcaption></figure><p>åˆ¤æ–­è¯¥é€‚é…å™¨æ˜¯å¦æœ‰æ–¹æ³•ï¼š</p><figure><img src="/Computer-Science-Learn-Notes/assets/e161f130-f694-493d-b88c-d5edd5c60d74-41baf0b3.webp" alt="e161f130-f694-493d-b88c-d5edd5c60d74" tabindex="0" loading="lazy"><figcaption>e161f130-f694-493d-b88c-d5edd5c60d74</figcaption></figure><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token comment">// Process last-modified header, if supported by the handler.</span>
<span class="token class-name">String</span> method <span class="token operator">=</span> request<span class="token punctuation">.</span><span class="token function">getMethod</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>æœ€ç»ˆè¿™ä¸ªmethod åªè¦å¤„ç†å™¨æœ‰æ ‡äº†æ³¨è§£@RequestMappingçš„æ–¹æ³•å°±èƒ½ä½¿ç”¨</p><p>HandlerMappingçš„å®ç°ç±»ï¼š</p><figure><img src="/Computer-Science-Learn-Notes/assets/5c5d0e95-e1e9-4aec-951e-8ee90a9b9ab1-5474bf3f.webp" alt="5c5d0e95-e1e9-4aec-951e-8ee90a9b9ab1" tabindex="0" loading="lazy"><figcaption>5c5d0e95-e1e9-4aec-951e-8ee90a9b9ab1</figcaption></figure><h2 id="æºç åˆ†æ-springmvcçš„ä¹å¤§ç»„ä»¶" tabindex="-1"><a class="header-anchor" href="#æºç åˆ†æ-springmvcçš„ä¹å¤§ç»„ä»¶" aria-hidden="true">#</a> æºç åˆ†æ SpringMVCçš„ä¹å¤§ç»„ä»¶</h2><p>ä»¥ä¸‹ç»„ä»¶éƒ½æ¥è‡ªç±»ï¼š<strong>DispatcherServlet</strong></p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code>    <span class="token doc-comment comment">/** æ–‡ä»¶ä¸Šä¼ è§£æå™¨ */</span>
    <span class="token annotation punctuation">@Nullable</span>
    <span class="token keyword">private</span> <span class="token class-name">MultipartResolver</span> multipartResolver<span class="token punctuation">;</span>
    <span class="token doc-comment comment">/** å›½é™…åŒ–è§£æå™¨ */</span>
    <span class="token annotation punctuation">@Nullable</span>
    <span class="token keyword">private</span> <span class="token class-name">LocaleResolver</span> localeResolver<span class="token punctuation">;</span>
    <span class="token doc-comment comment">/** ä¸»é¢˜è§£æå™¨ */</span>
    <span class="token annotation punctuation">@Nullable</span>
    <span class="token keyword">private</span> <span class="token class-name">ThemeResolver</span> themeResolver<span class="token punctuation">;</span>
    <span class="token doc-comment comment">/** Handleræ˜ å°„ä¿¡æ¯ */</span>
    <span class="token annotation punctuation">@Nullable</span>
    <span class="token keyword">private</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">HandlerMapping</span><span class="token punctuation">&gt;</span></span> handlerMappings<span class="token punctuation">;</span>
    <span class="token doc-comment comment">/**Handleré€‚é…å™¨ */</span>
    <span class="token annotation punctuation">@Nullable</span>
    <span class="token keyword">private</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">HandlerAdapter</span><span class="token punctuation">&gt;</span></span> handlerAdapters<span class="token punctuation">;</span>
    <span class="token doc-comment comment">/** å¼‚å¸¸è§£æèµ· */</span>
    <span class="token annotation punctuation">@Nullable</span>
    <span class="token keyword">private</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">HandlerExceptionResolver</span><span class="token punctuation">&gt;</span></span> handlerExceptionResolvers<span class="token punctuation">;</span>
    <span class="token doc-comment comment">/** è§†å›¾åè½¬æ¢ */</span>
    <span class="token annotation punctuation">@Nullable</span>
    <span class="token keyword">private</span> <span class="token class-name">RequestToViewNameTranslator</span> viewNameTranslator<span class="token punctuation">;</span>
    <span class="token doc-comment comment">/** SpringMVCå…è®¸é‡å®šå‘æºå¸¦æ•°æ® */</span>
    <span class="token annotation punctuation">@Nullable</span>
    <span class="token keyword">private</span> <span class="token class-name">FlashMapManager</span> flashMapManager<span class="token punctuation">;</span>
    <span class="token doc-comment comment">/** è§†å›¾è§£æå™¨ */</span>
    <span class="token annotation punctuation">@Nullable</span>
    <span class="token keyword">private</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">ViewResolver</span><span class="token punctuation">&gt;</span></span> viewResolvers<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å°†ç»„ä»¶è®¾è®¡æˆæ¥å£çš„å¥½å¤„ï¼šæ¥å£å°±æ˜¯è§„èŒƒï¼Œæä¾›æ‰©å±•æ€§</p><h3 id="åˆå§‹åŒ–" tabindex="-1"><a class="header-anchor" href="#åˆå§‹åŒ–" aria-hidden="true">#</a> åˆå§‹åŒ–</h3><p>åˆå§‹åŒ–å‡½æ•°ï¼šå»å®¹å™¨æ‰¾è¿™ä¸ªç»„ä»¶ï¼Œå¦‚æœæ²¡æœ‰æ‰¾åˆ°å°±ç”¨é»˜è®¤é…ç½®</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@Override</span>
<span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">onRefresh</span><span class="token punctuation">(</span><span class="token class-name">ApplicationContext</span> context<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">initStrategies</span><span class="token punctuation">(</span>context<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">initStrategies</span><span class="token punctuation">(</span><span class="token class-name">ApplicationContext</span> context<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">initMultipartResolver</span><span class="token punctuation">(</span>context<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">initLocaleResolver</span><span class="token punctuation">(</span>context<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">initThemeResolver</span><span class="token punctuation">(</span>context<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">initHandlerMappings</span><span class="token punctuation">(</span>context<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">initHandlerAdapters</span><span class="token punctuation">(</span>context<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">initHandlerExceptionResolvers</span><span class="token punctuation">(</span>context<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">initRequestToViewNameTranslator</span><span class="token punctuation">(</span>context<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">initViewResolvers</span><span class="token punctuation">(</span>context<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">initFlashMapManager</span><span class="token punctuation">(</span>context<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><figure><img src="/Computer-Science-Learn-Notes/assets/4d99f2f0-fa40-407e-a576-b964fbd6f2ec-a7356731.webp" alt="4d99f2f0-fa40-407e-a576-b964fbd6f2ec" tabindex="0" loading="lazy"><figcaption>4d99f2f0-fa40-407e-a576-b964fbd6f2ec</figcaption></figure><h2 id="æºç åˆ†æ-modelattribute" tabindex="-1"><a class="header-anchor" href="#æºç åˆ†æ-modelattribute" aria-hidden="true">#</a> æºç åˆ†æ @ModelAttribute</h2><ol><li><p>æœ‰æ³¨è§£ï¼šä¿å­˜æ³¨è§£ä¿¡æ¯äº†ï¼Œæœ€ç»ˆå¾—åˆ°è¿™ä¸ªæ³¨è§£åº”è¯¥å¯¹åº”çš„å€¼</p></li><li><p>æ²¡æ³¨è§£ï¼š</p></li><li><ol><li><p>çœ‹æ˜¯å¦æ˜¯åŸç”ŸAPI</p></li><li><p>çœ‹æ˜¯å¦Modelæˆ–è€…Mapã€XXX</p></li><li><p>éƒ½ä¸æ˜¯ï¼Œçœ‹æ˜¯å¦æ˜¯ç®€å•ç±»å‹ï¼ŒparamName</p></li><li><p>ç»™attrNameèµ‹å€¼ï¼ˆå‚æ•°æ ‡äº†@ModelAttribute(&quot;&quot;)å°±æ˜¯æŒ‡å®šçš„ï¼Œæ²¡æ ‡å°±æ˜¯&quot;&quot;ï¼‰</p></li><li><ol><li><p>ç¡®å®šè‡ªå®šä¹‰å‚æ•°</p></li><li><ol><li>attrNameä½¿ç”¨å‚æ•°ç±»å‹çš„é¦–å­—æ¯å°å†™ï¼Œæˆ–è€…ä¹‹å‰@ModelAttribute(&quot;&quot;)çš„å€¼</li><li>å…ˆçœ‹éšå«æ¨¡å‹ä¸­æ¯ä¸ªattrNameä½œä¸ºkeyå¯¹åº”çš„å€¼ï¼Œå¦‚æœæœ‰å°±ä»éšå«æ¨¡å‹ä¸­è·å–å¹¶èµ‹å€¼</li><li>çœ‹æ˜¯å¦æ˜¯@SessionAttributes(value=&quot;haha&quot;)ï¼›æ ‡æ³¨çš„å±æ€§ï¼Œå¦‚æœæ˜¯ä»sessionï¼Œå¦‚æœä¸æ˜¯å°±æŠ›å‡ºå¼‚å¸¸</li><li>å¦‚æœä¸æ˜¯@SessionAttributesæ ‡æ³¨çš„å±æ€§ï¼Œå°±åˆ©ç”¨åå°„åˆ›å»ºä¸€ä¸ªå¯¹è±¡</li></ol></li></ol></li><li><p>æ‹¿åˆ°ä¹‹å‰åˆ›å»ºå¥½çš„å¯¹è±¡ï¼Œä½¿ç”¨æ•°æ®ç»‘å®šå™¨ï¼ˆWebDataBinderï¼‰å°†è¯·æ±‚ä¸­æ¯ä¸€ä¸ªæ•°æ®ç»‘å®šåˆ°è¿™ä¸ªå¯¹è±¡ä¸­</p></li></ol></li><li></li><li></li></ol><h2 id="è§†å›¾è§£æ-è½¬å‘å’Œé‡å®šå‘" tabindex="-1"><a class="header-anchor" href="#è§†å›¾è§£æ-è½¬å‘å’Œé‡å®šå‘" aria-hidden="true">#</a> è§†å›¾è§£æ è½¬å‘å’Œé‡å®šå‘</h2><p><strong>forward</strong>ï¼šå‰ç¼€çš„è½¬å‘ï¼Œä¸ä¼šæœ‰é…ç½®çš„è§†å›¾è§£æå™¨æ‹¼ä¸²</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code>    <span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/success&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">success</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token string">&quot;forward:/success.jsp&quot;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>é‡å®šå‘redirect</strong>ï¼šä½¿ç”¨redirect<strong>ä¸ä¼šæºå¸¦æ•°æ®</strong></p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code>    <span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/success&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">success</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token string">&quot;forward:/success.jsp&quot;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="æºç åˆ†æ-è§†å›¾è§£æ" tabindex="-1"><a class="header-anchor" href="#æºç åˆ†æ-è§†å›¾è§£æ" aria-hidden="true">#</a> æºç åˆ†æ è§†å›¾è§£æ</h2><p><strong>ã€æºç è°ƒè¯•æç¤ºã€‘<strong>IDEAä¸­å¯ä»¥ä½¿ç”¨</strong>Ctrl+Alt+æ–¹å‘é”®å·¦/å³</strong>æ§åˆ¶ä¸Šä¸€æ¬¡/ä¸‹ä¸€æ¬¡ä»£ç <strong>è·³è½¬çš„ä½ç½®</strong></p><p>è°ƒè¯•doDispatcherçš„</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code>mv <span class="token operator">=</span> ha<span class="token punctuation">.</span><span class="token function">handle</span><span class="token punctuation">(</span>processedRequest<span class="token punctuation">,</span> response<span class="token punctuation">,</span> mappedHandler<span class="token punctuation">.</span><span class="token function">getHandler</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>ä¼šè¿›å…¥åˆ°ï¼šRequestMappingHandlerAdapterç±»ä¸­çš„<strong>handleInternal</strong></p><p>ç„¶åå°è£…æˆï¼šModelAndView</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token class-name">ModelAndView</span> mav<span class="token punctuation">;</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
mav <span class="token operator">=</span> <span class="token function">invokeHandlerMethod</span><span class="token punctuation">(</span>request<span class="token punctuation">,</span> response<span class="token punctuation">,</span> handlerMethod<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>â€‹ ä»»ä½•æ–¹æ³•çš„è¿”å›å€¼ï¼Œæœ€ç»ˆéƒ½ä¼šè¢«åŒ…è£…æˆModelAndViewå¯¹è±¡</p><p>è§†å›¾æ¸²æŸ“å‡½æ•°ï¼šï¼ˆé¡µé¢å°±æ˜¯æ¸²æŸ“æ•°æ®æ¨¡å‹ï¼‰</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token function">processDispatchResult</span><span class="token punctuation">(</span>processedRequest<span class="token punctuation">,</span> response<span class="token punctuation">,</span> mappedHandler<span class="token punctuation">,</span> mv<span class="token punctuation">,</span> dispatchException<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>åœ¨processDispatchResultä¸­è°ƒç”¨render(mv, request, response);æ¸²æŸ“å‡½æ•°</p><p>åœ¨renderä¸­ï¼šview</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token class-name">View</span> view<span class="token punctuation">;</span>
        <span class="token class-name">String</span> viewName <span class="token operator">=</span> mv<span class="token punctuation">.</span><span class="token function">getViewName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>viewName <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment">// We need to resolve the view name.</span>
            view <span class="token operator">=</span> <span class="token function">resolveViewName</span><span class="token punctuation">(</span>viewName<span class="token punctuation">,</span> mv<span class="token punctuation">.</span><span class="token function">getModelInternal</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> locale<span class="token punctuation">,</span> request<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>resolveViewNameå®ç°çš„æ˜¯ViewResolverçš„æ¥å£ï¼šå¾—åˆ°Viewå¯¹è±¡</p><figure><img src="/Computer-Science-Learn-Notes/assets/470324c1-604a-451e-90d8-a3a85e3cb924-992fd89c.webp" alt="470324c1-604a-451e-90d8-a3a85e3cb924" tabindex="0" loading="lazy"><figcaption>470324c1-604a-451e-90d8-a3a85e3cb924</figcaption></figure><p>è§†å›¾è§£æåå­—ï¼šViewResolverå±äºSpringMVCä¹å¤§ç»„ä»¶</p><p>ViewResolveræ ¹æ®æ–¹æ³•çš„è¿”å›å€¼ï¼Œå¾—åˆ°ä¸€ä¸ªviewå¯¹è±¡</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">ViewResolver</span> viewResolver <span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>viewResolvers<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">View</span> view <span class="token operator">=</span> viewResolver<span class="token punctuation">.</span><span class="token function">resolveViewName</span><span class="token punctuation">(</span>viewName<span class="token punctuation">,</span> locale<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>view <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> view<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>é€šè¿‡è°ƒè¯•åœ¨resolveViewNameé‡Œï¼š</p><p>å¦‚æœæ²¡æœ‰ç¼“å†²åŒºï¼Œå°±åˆ›å»ºä¸€ä¸ªview</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token function">isCache</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token function">createView</span><span class="token punctuation">(</span>viewName<span class="token punctuation">,</span> locale<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æºç ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@Override</span>
<span class="token keyword">protected</span> <span class="token class-name">View</span> <span class="token function">createView</span><span class="token punctuation">(</span><span class="token class-name">String</span> viewName<span class="token punctuation">,</span> <span class="token class-name">Locale</span> locale<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span> <span class="token punctuation">{</span>
    <span class="token comment">// If this resolver is not supposed to handle the given view,</span>
    <span class="token comment">// return null to pass on to the next resolver in the chain.</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token function">canHandle</span><span class="token punctuation">(</span>viewName<span class="token punctuation">,</span> locale<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// Check for special &quot;redirect:&quot; prefix.</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>viewName<span class="token punctuation">.</span><span class="token function">startsWith</span><span class="token punctuation">(</span><span class="token constant">REDIRECT_URL_PREFIX</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">String</span> redirectUrl <span class="token operator">=</span> viewName<span class="token punctuation">.</span><span class="token function">substring</span><span class="token punctuation">(</span><span class="token constant">REDIRECT_URL_PREFIX</span><span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">RedirectView</span> view <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">RedirectView</span><span class="token punctuation">(</span>redirectUrl<span class="token punctuation">,</span>
                                             <span class="token function">isRedirectContextRelative</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">isRedirectHttp10Compatible</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> hosts <span class="token operator">=</span> <span class="token function">getRedirectHosts</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>hosts <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            view<span class="token punctuation">.</span><span class="token function">setHosts</span><span class="token punctuation">(</span>hosts<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> <span class="token function">applyLifecycleMethods</span><span class="token punctuation">(</span><span class="token constant">REDIRECT_URL_PREFIX</span><span class="token punctuation">,</span> view<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// Check for special &quot;forward:&quot; prefix.</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>viewName<span class="token punctuation">.</span><span class="token function">startsWith</span><span class="token punctuation">(</span><span class="token constant">FORWARD_URL_PREFIX</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">String</span> forwardUrl <span class="token operator">=</span> viewName<span class="token punctuation">.</span><span class="token function">substring</span><span class="token punctuation">(</span><span class="token constant">FORWARD_URL_PREFIX</span><span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">InternalResourceView</span> view <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">InternalResourceView</span><span class="token punctuation">(</span>forwardUrl<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token function">applyLifecycleMethods</span><span class="token punctuation">(</span><span class="token constant">FORWARD_URL_PREFIX</span><span class="token punctuation">,</span> view<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// Else fall back to superclass implementation: calling loadView.</span>
    <span class="token keyword">return</span> <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">createView</span><span class="token punctuation">(</span>viewName<span class="token punctuation">,</span> locale<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>åˆ†æï¼š</strong></p><p>å¦‚æœæ˜¯ä»¥redirectä¸ºå‰ç¼€ï¼Œä¸‹é¢çš„forwardåŒç†</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token comment">// Check for special &quot;redirect:&quot; prefix.</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>viewName<span class="token punctuation">.</span><span class="token function">startsWith</span><span class="token punctuation">(</span><span class="token constant">REDIRECT_URL_PREFIX</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
    <span class="token class-name">RedirectView</span> view <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">RedirectView</span><span class="token punctuation">(</span>redirectUrl<span class="token punctuation">,</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å¦‚æœæ²¡æœ‰å‰ç¼€å°±è°ƒç”¨çˆ¶ç±»é»˜è®¤åˆ›å»ºå¯¹è±¡</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">return</span> <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">createView</span><span class="token punctuation">(</span>viewName<span class="token punctuation">,</span> locale<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ol><li><p>è§†å›¾è§£æå™¨å¾—åˆ°viewå¯¹è±¡çš„æµç¨‹ï¼šæ‰€æœ‰é…ç½®çš„è§†å›¾è§£æå™¨æ¥é•¿æ²™æ ¹æ®è§†å›¾åï¼ˆè¿”å›å€¼ï¼‰å¾—åˆ°Viewï¼ˆè§†å›¾ï¼‰å¯¹è±¡ï¼Œå¦‚æœèƒ½å¾—åˆ°å°±è¿”å›ï¼Œå¾—ä¸åˆ°å°±æ¢ä¸‹ä¸€ä¸ªè§†å›¾è§£æå™¨</p></li><li><p>è°ƒç”¨viewå¯¹è±¡çš„render</p></li></ol><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@Override</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">render</span><span class="token punctuation">(</span><span class="token annotation punctuation">@Nullable</span> <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token operator">?</span><span class="token punctuation">&gt;</span></span> model<span class="token punctuation">,</span> <span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span>
                   <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>logger<span class="token punctuation">.</span><span class="token function">isDebugEnabled</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        logger<span class="token punctuation">.</span><span class="token function">debug</span><span class="token punctuation">(</span><span class="token string">&quot;View &quot;</span> <span class="token operator">+</span> <span class="token function">formatViewName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span>
                     <span class="token string">&quot;, model &quot;</span> <span class="token operator">+</span> <span class="token punctuation">(</span>model <span class="token operator">!=</span> <span class="token keyword">null</span> <span class="token operator">?</span> model <span class="token operator">:</span> <span class="token class-name">Collections</span><span class="token punctuation">.</span><span class="token function">emptyMap</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">+</span>
                     <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>staticAttributes<span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token string">&quot;&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;, static attributes &quot;</span> <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>staticAttributes<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">Object</span><span class="token punctuation">&gt;</span></span> mergedModel <span class="token operator">=</span> <span class="token function">createMergedOutputModel</span><span class="token punctuation">(</span>model<span class="token punctuation">,</span> request<span class="token punctuation">,</span> response<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">prepareResponse</span><span class="token punctuation">(</span>request<span class="token punctuation">,</span> response<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// æ¸²æŸ“è¦ç»™é¡µé¢è¾“å‡ºçš„æ‰€æœ‰æ•°æ®</span>
    <span class="token function">renderMergedOutputModel</span><span class="token punctuation">(</span>mergedModel<span class="token punctuation">,</span> <span class="token function">getRequestToExpose</span><span class="token punctuation">(</span>request<span class="token punctuation">)</span><span class="token punctuation">,</span> response<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>InternalResourceViewä¸­çš„renderMergedOutputModelï¼ˆä¼ é€’æ•°æ®çš„æ–¹æ³•ï¼‰</p><p>å°†æ¨¡å‹ä¸­çš„æ•°æ®å–å‡ºæ¥æ”¾åˆ°è¯·æ±‚åŸŸrequestä¸­</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@Override</span>
<span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">renderMergedOutputModel</span><span class="token punctuation">(</span>
    <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">Object</span><span class="token punctuation">&gt;</span></span> model<span class="token punctuation">,</span> <span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span> <span class="token punctuation">{</span>
    <span class="token comment">// Expose the model object as request attributes.</span>
    <span class="token comment">// å°†æ¨¡å‹çš„æ•°æ®æ”¾åœ¨è¯·æ±‚åŸŸä¸­</span>
    <span class="token function">exposeModelAsRequestAttributes</span><span class="token punctuation">(</span>model<span class="token punctuation">,</span> request<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// Expose helpers as request attributes, if any.</span>
    <span class="token function">exposeHelpers</span><span class="token punctuation">(</span>request<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// Determine the path for the request dispatcher.</span>
    <span class="token class-name">String</span> dispatcherPath <span class="token operator">=</span> <span class="token function">prepareForRendering</span><span class="token punctuation">(</span>request<span class="token punctuation">,</span> response<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// Obtain a RequestDispatcher for the target resource (typically a JSP).</span>
    <span class="token class-name">RequestDispatcher</span> rd <span class="token operator">=</span> <span class="token function">getRequestDispatcher</span><span class="token punctuation">(</span>request<span class="token punctuation">,</span> dispatcherPath<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>rd <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">ServletException</span><span class="token punctuation">(</span><span class="token string">&quot;Could not get RequestDispatcher for [&quot;</span> <span class="token operator">+</span> <span class="token function">getUrl</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span>
                                   <span class="token string">&quot;]: Check that the corresponding file exists within your web application archive!&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// If already included or response already committed, perform include, else forward.</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">useInclude</span><span class="token punctuation">(</span>request<span class="token punctuation">,</span> response<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        response<span class="token punctuation">.</span><span class="token function">setContentType</span><span class="token punctuation">(</span><span class="token function">getContentType</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>logger<span class="token punctuation">.</span><span class="token function">isDebugEnabled</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            logger<span class="token punctuation">.</span><span class="token function">debug</span><span class="token punctuation">(</span><span class="token string">&quot;Including [&quot;</span> <span class="token operator">+</span> <span class="token function">getUrl</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;]&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        rd<span class="token punctuation">.</span><span class="token function">include</span><span class="token punctuation">(</span>request<span class="token punctuation">,</span> response<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">else</span> <span class="token punctuation">{</span>
        <span class="token comment">// Note: The forwarded resource is supposed to determine the content type itself.</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>logger<span class="token punctuation">.</span><span class="token function">isDebugEnabled</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            logger<span class="token punctuation">.</span><span class="token function">debug</span><span class="token punctuation">(</span><span class="token string">&quot;Forwarding to [&quot;</span> <span class="token operator">+</span> <span class="token function">getUrl</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;]&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        rd<span class="token punctuation">.</span><span class="token function">forward</span><span class="token punctuation">(</span>request<span class="token punctuation">,</span> response<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>æ€»ç»“ï¼š</strong></p><p>è§†å›¾è§£æå™¨åªæ˜¯ä¸ºäº†å¾—åˆ°è§†å›¾å¯¹è±¡ï¼Œè§†å›¾å¯¹è±¡æ‰èƒ½çœŸæ­£çš„è½¬å‘ï¼ˆå°†æ¨¡å‹æ•°æ®æ”¾åœ¨è¯·æ±‚åŸŸä¸­ï¼‰æˆ–è€…é‡å®šå‘åˆ°é¡µé¢ï¼Œè§†å›¾å¯¹è±¡æ‰èƒ½çœŸæ­£çš„æ¸²æŸ“è§†å›¾</p><figure><img src="/Computer-Science-Learn-Notes/assets/84be0a06-b3b9-4f4c-9a18-d8b07a1cd1fd-c91cf07d.webp" alt="84be0a06-b3b9-4f4c-9a18-d8b07a1cd1fd" tabindex="0" loading="lazy"><figcaption>84be0a06-b3b9-4f4c-9a18-d8b07a1cd1fd</figcaption></figure><h2 id="è§†å›¾è§£æ-jstl-å›½é™…åŒ–" tabindex="-1"><a class="header-anchor" href="#è§†å›¾è§£æ-jstl-å›½é™…åŒ–" aria-hidden="true">#</a> è§†å›¾è§£æ JSTL å›½é™…åŒ–</h2><p>å¯¼å…¥Maven -- taglib</p><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.apache.taglibs<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>taglibs-standard-impl<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>1.2.1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.apache.taglibs<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>taglibs-standard-spec<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>1.2.1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å†™å…¥å›½é™…åŒ–çš„é…ç½®ï¼š</p><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token comment">&lt;!--    å›½é™…åŒ–èµ„æºæ–‡ä»¶é…ç½®--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>org.springframework.context.support.ResourceBundleMessageSource<span class="token punctuation">&quot;</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>messageSource<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!--        åˆ¶å®šåŸºç¡€å--&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>basename<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>cn.zhiyucs.conf.i18n<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>åˆ›å»ºå›½é™…åŒ–çš„é…ç½®æ–‡ä»¶</p><figure><img src="data:image/webp;base64,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" alt="527be244-1b29-431e-b444-27acbd4662aa" tabindex="0" loading="lazy"><figcaption>527be244-1b29-431e-b444-27acbd4662aa</figcaption></figure><figure><img src="/Computer-Science-Learn-Notes/assets/4b8d1354-0a77-4cfe-b783-74e2100c9557-23cce626.webp" alt="4b8d1354-0a77-4cfe-b783-74e2100c9557" tabindex="0" loading="lazy"><figcaption>4b8d1354-0a77-4cfe-b783-74e2100c9557</figcaption></figure><p>ä½¿ç”¨JSPçš„jstlçš„fmtç¼–å†™å›½é™…åŒ–ï¼š</p><div class="language-html line-numbers-mode" data-ext="html"><pre class="language-html"><code>&lt;%@ page contentType=&quot;text/html;charset=UTF-8&quot; language=&quot;java&quot; %&gt;
&lt;%@ taglib prefix=&quot;fmt&quot; uri=&quot;http://java.sun.com/jsp/jstl/fmt&quot; %&gt;
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>ç™»å½•<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">fmt:</span>message</span> <span class="token attr-name">key</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>welcomeinfo<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>form</span> <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">fmt:</span>message</span> <span class="token attr-name">key</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>loginBtn<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span> ï¼š<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">fmt:</span>message</span> <span class="token attr-name">key</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>password<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span> ï¼š<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>form</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">fmt:</span>message</span> <span class="token attr-name">key</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>loginBtn<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="æ•°æ®ç»‘å®š-mvc-annotation-driver" tabindex="-1"><a class="header-anchor" href="#æ•°æ®ç»‘å®š-mvc-annotation-driver" aria-hidden="true">#</a> æ•°æ®ç»‘å®š mvc:annotation-driver</h2><h3 id="åºè¨€-jspä¸¤ç§è·å–é¡¹ç›®è·¯å¾„çš„æ–¹å¼" tabindex="-1"><a class="header-anchor" href="#åºè¨€-jspä¸¤ç§è·å–é¡¹ç›®è·¯å¾„çš„æ–¹å¼" aria-hidden="true">#</a> åºè¨€ï¼šJSPä¸¤ç§è·å–é¡¹ç›®è·¯å¾„çš„æ–¹å¼</h3><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code>&lt;%@ taglib uri=&quot;http://java.sun.com/jsp/jstl/core&quot; prefix=&quot;c&quot; %&gt;
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">c:</span>set</span> <span class="token attr-name">var</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ctx<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>${pageContext.request.contextPath}<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
&lt;%=request.getContextPath()%&gt;
${pageContext.request.contextPath }
&lt;%
    String contextPath = request.getServletPath();
%&gt;
    &lt;%
        String contextPath = request.getRequestURI();
    %&gt;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="è‡ªå®šä¹‰æ•°æ®ç»‘å®šç±»å‹å’Œé™æ€èµ„æºçš„æ‹¦æˆª" tabindex="-1"><a class="header-anchor" href="#è‡ªå®šä¹‰æ•°æ®ç»‘å®šç±»å‹å’Œé™æ€èµ„æºçš„æ‹¦æˆª" aria-hidden="true">#</a> è‡ªå®šä¹‰æ•°æ®ç»‘å®šç±»å‹å’Œé™æ€èµ„æºçš„æ‹¦æˆª</h3><p>è‡ªå®šä¹‰ä¸€ä¸ªè½¬æ¢ç±»ï¼š</p><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">mvc:</span>annotation-driven</span> <span class="token attr-name">conversion-service</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>conversionService<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>org.springframework.context.support.ConversionServiceFactoryBean<span class="token punctuation">&quot;</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>conversionService<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>converters<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>set</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>è‡ªå®šä¹‰çš„è½¬æ¢ç±»<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>set</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>é™æ€èµ„æºæ‹¦æˆªï¼š</p><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token comment">&lt;!--    é™æ€èµ„æºå¯ä»¥è®¿é—®ï¼ŒåŠ¨æ€èµ„æºçš„è¯·æ±‚ä¸èƒ½
            é™æ€èµ„æºèƒ½è®¿é—®çš„åŸå› ï¼šæ‰€æœ‰è¯·æ±‚éƒ½æ˜ å°„ç»™tomcat
--&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">mvc:</span>default-servlet-handler</span> <span class="token punctuation">/&gt;</span></span>
    <span class="token comment">&lt;!--ä½¿ç”¨è‡ªå·±å®šä¹‰çš„è½¬æ¢ç»„ä»¶--&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">mvc:</span>annotation-driven</span> <span class="token punctuation">/&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="æ—¥æœŸæ ¼å¼åŒ–" tabindex="-1"><a class="header-anchor" href="#æ—¥æœŸæ ¼å¼åŒ–" aria-hidden="true">#</a> æ—¥æœŸæ ¼å¼åŒ–</h3><p>åœ¨ Date ç±»å‹çš„å±æ€§ä¸ŠåŠ å…¥ @DateTimeFormat æ³¨è§£</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@Repository</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token class-name">Integer</span> id<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> name<span class="token punctuation">;</span>
    <span class="token annotation punctuation">@DateTimeFormat</span><span class="token punctuation">(</span>pattern<span class="token operator">=</span><span class="token string">&quot;yyyy-MM-dd&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">private</span> <span class="token class-name">Date</span> birthday<span class="token punctuation">;</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>åŠ å…¥ joda ç›¸å…³çš„åŒ…</p><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>joda-time<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>joda-time<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>2.9.9<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>åœ¨ SpringMVC é…ç½®æ–‡ä»¶ä¸­åŠ å…¥ &lt;mvc:annotation-driven /&gt;</p><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">mvc:</span>annotation-driven</span> <span class="token punctuation">/&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>æ³¨å†Œä¸€ä¸ªè‡ªå®šä¹‰æ—¢å…·æœ‰è½¬æ¢å™¨ä¹Ÿæœ‰æ ¼å¼åŒ–åŠŸèƒ½ï¼š</p><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">mvc:</span>annotation-driven</span> <span class="token attr-name">conversion-service</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>formattingConversionService<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>org.springframework.format.support.FormattingConversionServiceFactoryBean<span class="token punctuation">&quot;</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>formattingConversionService<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="æ•°æ®æ ¡éªŒ-æ ¡éªŒæ³¨è§£-å»é”™è¯¯é¡µé¢" tabindex="-1"><a class="header-anchor" href="#æ•°æ®æ ¡éªŒ-æ ¡éªŒæ³¨è§£-å»é”™è¯¯é¡µé¢" aria-hidden="true">#</a> æ•°æ®æ ¡éªŒ æ ¡éªŒæ³¨è§£&amp;å»é”™è¯¯é¡µé¢</h2><h3 id="æç¤º-ideaä½¿ç”¨-alt-shift-insert-è¿›å…¥å¤šè¡Œç¼–è¾‘æ¨¡å¼" tabindex="-1"><a class="header-anchor" href="#æç¤º-ideaä½¿ç”¨-alt-shift-insert-è¿›å…¥å¤šè¡Œç¼–è¾‘æ¨¡å¼" aria-hidden="true">#</a> æç¤ºï¼šIDEAä½¿ç”¨ alt + shift + insert è¿›å…¥å¤šè¡Œç¼–è¾‘æ¨¡å¼</h3><h3 id="æ•°æ®æ ¡éªŒ" tabindex="-1"><a class="header-anchor" href="#æ•°æ®æ ¡éªŒ" aria-hidden="true">#</a> æ•°æ®æ ¡éªŒ</h3><hr><p>\1. å¯¼åŒ…</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>&lt;dependency&gt;
    &lt;groupId&gt;org.hibernate&lt;/groupId&gt;
    &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;
    &lt;version&gt;5.4.1.Final&lt;/version&gt;
&lt;/dependency&gt;
&lt;dependency&gt;
    &lt;groupId&gt;javax.validation&lt;/groupId&gt;
    &lt;artifactId&gt;validation-api&lt;/artifactId&gt;
    &lt;version&gt;2.0.1.Final&lt;/version&gt;
&lt;/dependency&gt;
&lt;dependency&gt;
    &lt;groupId&gt;org.jboss.logging&lt;/groupId&gt;
    &lt;artifactId&gt;jboss-logging&lt;/artifactId&gt;
    &lt;version&gt;3.4.1.Final&lt;/version&gt;
&lt;/dependency&gt;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\2. ç»™å®ä½“ç±»åŠ ä¸Šéœ€è¦çš„æ ¡éªŒæ³¨è§£</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>@NotEmpty
private Integer id;
@Length(min = 6, max = 18)
private String name;
//    @Pastæ˜¯ä¸€ä¸ªè¿‡å»çš„æ—¶é—´
@Past
@DateTimeFormat(pattern=&quot;yyyy-MM-dd&quot;)
private Date birthday;
private String gender;
@Email
private String email;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\3. å‘Šè¯‰SpringMVCè¿™ä¸ªå®ä½“ç±»éœ€è¦æ ¡éªŒ <strong>@Valid</strong></p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>@RequestMapping(value = &quot;/birth&quot;, method = RequestMethod.POST)
public String birth(@Valid Person person, Model model) {
...
}
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\4. è·å–æ ¡éªŒç»“æœï¼šBindingResultï¼Œç´§è·Ÿ@Validåé¢</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>@RequestMapping(value = &quot;/birth&quot;, method = RequestMethod.POST)
public String birth(@Valid Person person, BindingResult result, Model model) {
    System.out.println(person);
    //        è·å–æ˜¯å¦æœ‰æ ¡éªŒé”™è¯¯
    boolean errors = result.hasErrors();
    if (!errors)
        model.addAttribute(&quot;person&quot;, person);
    return &quot;success&quot;;
}
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æºå¸¦é”™è¯¯æ¶ˆæ¯åˆ°é¡µé¢ï¼šBindingResultçš„<strong>getFieldErrors</strong>æ–¹æ³•</p><p>è·å–é”™è¯¯æ¶ˆæ¯ï¼š<strong>getDefaultMessage</strong></p><p>è·å–é”™è¯¯å­—æ®µï¼š<strong>getField</strong></p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>@RequestMapping(value = &quot;/birth&quot;, method = RequestMethod.POST)
public String birth(@Valid Person person, BindingResult result, Model model) {
    System.out.println(person);
    //        è·å–æ˜¯å¦æœ‰æ ¡éªŒé”™è¯¯
    boolean errors = result.hasErrors();
    if (!errors) {
        model.addAttribute(&quot;person&quot;, person);
    }
    else {
        // è·å–é”™è¯¯
        List&lt;FieldError&gt; fErrors = result.getFieldErrors();
        Map&lt;String, Object&gt; map = new HashMap&lt;&gt;();
        for (FieldError fError : fErrors) {
            map.put(fError.getField(), fError.getDefaultMessage());
        }
        // æ¸²æŸ“åˆ°è§†å›¾
        model.addAttribute(&quot;errorInfo&quot;, map);
        return &quot;forward:/index.jsp&quot;;
    }
    return &quot;success&quot;;
}
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="å›½é™…åŒ–å®šåˆ¶é”™è¯¯æ¶ˆæ¯" tabindex="-1"><a class="header-anchor" href="#å›½é™…åŒ–å®šåˆ¶é”™è¯¯æ¶ˆæ¯" aria-hidden="true">#</a> å›½é™…åŒ–å®šåˆ¶é”™è¯¯æ¶ˆæ¯</h3><hr><p>Email.ç±»å.email æ ¡éªŒè§„åˆ™.éšå«æ¨¡å‹ä¸­è¿™ä¸ªå¯¹è±¡çš„key.å¯¹è±¡çš„å±æ€§</p><p>Email.email æ ¡éªŒè§„åˆ™.å±æ€§å</p><p>Email.java.lang.String æ ¡éªŒè§„åˆ™.å±æ€§ç±»å‹</p><p>Email</p><ul><li>å¦‚æœæ˜¯éšå«æ¨¡å‹ä¸­Personå¯¹è±¡çš„emailå±æ€§å­—æ®µå‘ç”Ÿäº†@Emailæ ¡éªŒé”™è¯¯ï¼Œå°±ä¼šç”Ÿå‡ºEmail.Person.email</li><li>Email.emailï¼šæ‰€æœ‰çš„emailå±æ€§åªè¦å‘ç”Ÿäº†@Emailé”™è¯¯</li><li>Email.java.lang.Stringï¼šåªè¦æ˜¯Stringç±»å‹å‘ç”Ÿäº†@Emailé”™è¯¯</li><li>Emailï¼šåªè¦å‘ç”Ÿäº†@Emailæ ¡éªŒé”™è¯¯</li></ul><p>æ–°å»ºå›½é™…åŒ–æ–‡ä»¶ï¼š</p><figure><img src="data:image/webp;base64,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" alt="758ff831-10ad-4957-82bb-ff5e366b12a0" tabindex="0" loading="lazy"><figcaption>758ff831-10ad-4957-82bb-ff5e366b12a0</figcaption></figure><p>å†™å…¥é…ç½®ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token class-name">Email</span><span class="token punctuation">.</span>email <span class="token operator">=</span> <span class="token class-name">Email</span> invalidate
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>é…ç½®SpringMVC</p><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token comment">&lt;!--    ç®¡ç†å›½é™…åŒ–èµ„æºæ–‡ä»¶--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>org.springframework.context.support.ResourceBundleMessageSource<span class="token punctuation">&quot;</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>messageSource<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>basename<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>cn.zhiyucs.conf.errors<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä½¿ç”¨å¸¦å‚æ•°çš„å›½é™…åŒ–ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code># å›½é™…åŒ–é…ç½®
<span class="token class-name">Length</span><span class="token punctuation">.</span>java<span class="token punctuation">.</span>lang<span class="token punctuation">.</span>String<span class="token operator">=</span>length must be between <span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">}</span> and <span class="token punctuation">{</span><span class="token number">2</span><span class="token punctuation">}</span><span class="token punctuation">.</span>
<span class="token comment">// å®ä½“ç±»    </span>
    <span class="token annotation punctuation">@Length</span><span class="token punctuation">(</span>min <span class="token operator">=</span> <span class="token number">6</span><span class="token punctuation">,</span> max <span class="token operator">=</span> <span class="token number">18</span><span class="token punctuation">)</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> name<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä¹Ÿå¯ä»¥è‡ªå®šä¹‰é”™è¯¯æ¶ˆæ¯ç±»å‹çš„æ³¨è§£ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@NotEmpty</span><span class="token punctuation">(</span>message <span class="token operator">=</span> <span class="token string">&quot;ä¸èƒ½ä¸ºç©º&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">private</span> <span class="token class-name">Integer</span> id<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="springmvcå¯¹ajaxçš„æ”¯æŒ" tabindex="-1"><a class="header-anchor" href="#springmvcå¯¹ajaxçš„æ”¯æŒ" aria-hidden="true">#</a> SpringMVCå¯¹AJAXçš„æ”¯æŒ</h2><p>å¯¼åŒ…ï¼š</p><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>com.fasterxml.jackson.core<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>jackson-core<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>2.10.2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>com.fasterxml.jackson.core<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>jackson-annotations<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>2.10.2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>com.fasterxml.jackson.core<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>jackson-databind<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>2.10.2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Jacksonçš„ä½¿ç”¨ï¼š</p><p>@JsonIgnore å¿½ç•¥è¾“å‡ºJSON</p><p>@JsonFormat(pattern=&quot;yyyy-MM-dd&quot;) æ ¼å¼åŒ–è¾“å‡ºçš„JSONæ•°æ®</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token comment">//    @Pastæ˜¯ä¸€ä¸ªè¿‡å»çš„æ—¶é—´</span>
<span class="token annotation punctuation">@JsonIgnore</span>
<span class="token annotation punctuation">@Past</span>
<span class="token annotation punctuation">@DateTimeFormat</span><span class="token punctuation">(</span>pattern<span class="token operator">=</span><span class="token string">&quot;yyyy-MM-dd&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">private</span> <span class="token class-name">Date</span> birthday<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è¿”å›jsonåˆ°å‰å°ï¼š@ResponseBody</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@ResponseBody</span>
<span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/getallajax&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token class-name">Collection</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Person</span><span class="token punctuation">&gt;</span></span> <span class="token function">ajaxGetAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">Person</span> zhiyu <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">&quot;zhiyu&quot;</span><span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token string">&quot;ç”·&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;123546@qq.com&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">Person</span> zs <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token string">&quot;ZHANGSAN&quot;</span><span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token string">&quot;ç”·&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;zhangsan@qq.com&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">Person</span> ls <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token string">&quot;lisi&quot;</span><span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token string">&quot;ç”·&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;lisi@qq.com&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">Collection</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Person</span><span class="token punctuation">&gt;</span></span> people <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    people<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>zs<span class="token punctuation">)</span><span class="token punctuation">;</span>
    people<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>ls<span class="token punctuation">)</span><span class="token punctuation">;</span>
    people<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>zhiyu<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> people<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å‰ç«¯ä½¿ç”¨jQueryæ¥æ”¶æ•°æ®ï¼š</p><div class="language-html line-numbers-mode" data-ext="html"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>è·å–æ‰€æœ‰ä¿¡æ¯<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>https://cdn.bootcdn.net/ajax/libs/jquery/3.5.1/jquery.min.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
    <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">&quot;a:first&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">click</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        $<span class="token punctuation">.</span><span class="token function">ajax</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
            <span class="token literal-property property">url</span><span class="token operator">:</span><span class="token string">&#39;${ctp}/getallajax&#39;</span><span class="token punctuation">,</span>
            <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">&quot;GET&quot;</span><span class="token punctuation">,</span>
            <span class="token function">success</span><span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span>
                $<span class="token punctuation">.</span><span class="token function">each</span><span class="token punctuation">(</span>data<span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    <span class="token keyword">let</span> personInfo <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>id <span class="token operator">+</span> <span class="token string">&quot;--&gt;&quot;</span> <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">+</span> <span class="token string">&quot;--&gt;&quot;</span> <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>gender<span class="token punctuation">;</span>
                    <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">&quot;div&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>personInfo <span class="token operator">+</span> <span class="token string">&#39;&lt;br/&gt;&#39;</span><span class="token punctuation">)</span>
                <span class="token punctuation">}</span><span class="token punctuation">)</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="è¯·æ±‚ä½“-responsebody" tabindex="-1"><a class="header-anchor" href="#è¯·æ±‚ä½“-responsebody" aria-hidden="true">#</a> è¯·æ±‚ä½“ @ResponseBody</h2><p>ä½¿ç”¨çš„è¦æ±‚ï¼š</p><ul><li>methodä¸ºPOST</li><li>enctype=&quot;multipart/form-data&quot;æ—¶ï¼Œæ–‡ä»¶å†…å®¹è®¾ç½®ä¸ºUTF-8</li></ul><p>å‰ç«¯ï¼šè®°å¾—<strong>å†™nameå±æ€§</strong></p><div class="language-html line-numbers-mode" data-ext="html"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>form</span> <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>testRequestBody<span class="token punctuation">&quot;</span></span> <span class="token attr-name">method</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>post<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    ç”¨æˆ·å <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text<span class="token punctuation">&quot;</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>username<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    å¯† ç  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text<span class="token punctuation">&quot;</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>password<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>submit<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>æäº¤<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>form</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>åå°</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@ResponseBody</span>
<span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">&quot;/testRequestBody&quot;</span><span class="token punctuation">,</span> method <span class="token operator">=</span> <span class="token class-name">RequestMethod</span><span class="token punctuation">.</span><span class="token constant">POST</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">testRequestBody</span><span class="token punctuation">(</span><span class="token annotation punctuation">@RequestBody</span><span class="token punctuation">(</span>required <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token class-name">String</span> content<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;content:&quot;</span> <span class="token operator">+</span> content<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token string">&quot;success&quot;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>@ResponseBodyä¹Ÿå¯ä»¥æ¥æ”¶JSONæ•°æ®</strong>ï¼Œæ‰€ä»¥å¯ä»¥POJO</p><p>å‰ç«¯ï¼š</p><figure><img src="/Computer-Science-Learn-Notes/assets/043ddbf5-3646-479d-9ee8-cd393241a2b5-d08e67f8.webp" alt="043ddbf5-3646-479d-9ee8-cd393241a2b5" tabindex="0" loading="lazy"><figcaption>043ddbf5-3646-479d-9ee8-cd393241a2b5</figcaption></figure><p>æ§åˆ¶å±‚ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@ResponseBody</span>
<span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">&quot;/recRequestBody&quot;</span><span class="token punctuation">,</span> method <span class="token operator">=</span> <span class="token class-name">RequestMethod</span><span class="token punctuation">.</span><span class="token constant">POST</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">recRequestBody</span><span class="token punctuation">(</span><span class="token annotation punctuation">@RequestBody</span><span class="token punctuation">(</span>required <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token class-name">Person</span> person<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>person<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token string">&quot;success&quot;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ç»“æœï¼š</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>Person{id=2, name=&#39;ZHANGSAN&#39;, birthday=null, gender=&#39;ç”·&#39;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="è·å–è¯·æ±‚å¤´-httpentity" tabindex="-1"><a class="header-anchor" href="#è·å–è¯·æ±‚å¤´-httpentity" aria-hidden="true">#</a> è·å–è¯·æ±‚å¤´ @HttpEntity</h2><p><strong>@HttpEntity</strong>æ¯”**@RequestBody**æ›´å¼ºï¼Œå¯ä»¥ç›´æ¥æ‹¿åˆ°è¯·æ±‚å¤´çš„æ‰€æœ‰ï¼Œ</p><p><strong>@RequestHeader</strong>åªèƒ½æ‹¿åˆ°æŸä¸ªè¯·æ±‚å¤´</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code>    <span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/httpEntityTest&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">httpEntityTest</span><span class="token punctuation">(</span><span class="token class-name">HttpEntity</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> httpEntity<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>httpEntity<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token string">&quot;forward:/index.jsp&quot;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ç»“æœï¼š</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>&lt;{host=[localhost:8080], user-agent=[Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:78.0) Gecko/20100101 Firefox/78.0], accept=[text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8], accept-language=[zh-CN,zh;q=0.8,zh-TW;q=0.7,zh-HK;q=0.5,en-US;q=0.3,en;q=0.2], accept-encoding=[gzip, deflate], connection=[keep-alive], referer=[http://localhost:8080/SpringMVC_04_war_exploded/], cookie=[JSESSIONID=3944762874A51FC04663B252095F6AB7; Idea-c46feb8f=7b368810-f802-4784-8798-e6c8a43ae387], upgrade-insecure-requests=[1]}&gt;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="responseentity-è¿”å›å“åº”å¼æ•°æ®" tabindex="-1"><a class="header-anchor" href="#responseentity-è¿”å›å“åº”å¼æ•°æ®" aria-hidden="true">#</a> @ResponseEntity è¿”å›å“åº”å¼æ•°æ®</h2><p>åŸºæœ¬ç”¨æ³•ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/hello&quot;</span><span class="token punctuation">)</span>
<span class="token class-name">ResponseEntity</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> <span class="token function">hello</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">ResponseEntity</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token string">&quot;Hello World!&quot;</span><span class="token punctuation">,</span> <span class="token class-name">HttpStatus</span><span class="token punctuation">.</span><span class="token constant">OK</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>é€šè¿‡ç¼–ç¨‹æ–¹å¼æŒ‡æ˜å“åº”çŠ¶æ€ï¼Œæ‰€ä»¥æ ¹æ®ä¸åŒåœºæ™¯è¿”å›ä¸åŒçŠ¶æ€ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/age&quot;</span><span class="token punctuation">)</span>
<span class="token class-name">ResponseEntity</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> <span class="token function">age</span><span class="token punctuation">(</span>
  <span class="token annotation punctuation">@RequestParam</span><span class="token punctuation">(</span><span class="token string">&quot;yearOfBirth&quot;</span><span class="token punctuation">)</span> <span class="token keyword">int</span> yearOfBirth<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">isInFuture</span><span class="token punctuation">(</span>yearOfBirth<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">ResponseEntity</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span>
          <span class="token string">&quot;Year of birth cannot be in the future&quot;</span><span class="token punctuation">,</span> 
          <span class="token class-name">HttpStatus</span><span class="token punctuation">.</span><span class="token constant">BAD_REQUEST</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">ResponseEntity</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span>
      <span class="token string">&quot;Your age is &quot;</span> <span class="token operator">+</span> <span class="token function">calculateAge</span><span class="token punctuation">(</span>yearOfBirth<span class="token punctuation">)</span><span class="token punctuation">,</span> 
      <span class="token class-name">HttpStatus</span><span class="token punctuation">.</span><span class="token constant">OK</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è¿˜å¯ä»¥è®¾ç½®httpå“åº”å¤´</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/customHeader&quot;</span><span class="token punctuation">)</span>
<span class="token class-name">ResponseEntity</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> <span class="token function">customHeader</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">HttpHeaders</span> headers <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HttpHeaders</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    headers<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;Custom-Header&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;foo&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">ResponseEntity</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span>
      <span class="token string">&quot;Custom header set&quot;</span><span class="token punctuation">,</span> headers<span class="token punctuation">,</span> <span class="token class-name">HttpStatus</span><span class="token punctuation">.</span><span class="token constant">OK</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>@ResponseEntity çš„é“¾å¼ç¼–ç¨‹ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/customHeader&quot;</span><span class="token punctuation">)</span>
<span class="token class-name">ResponseEntity</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> <span class="token function">customHeader</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token class-name">ResponseEntity</span><span class="token punctuation">.</span><span class="token function">ok</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">header</span><span class="token punctuation">(</span><span class="token string">&quot;Custom-Header&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;foo&quot;</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">body</span><span class="token punctuation">(</span><span class="token string">&quot;Custom header set&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="æ–‡ä»¶ä¸‹è½½åŠæ–‡ä»¶ä¸Šä¼ " tabindex="-1"><a class="header-anchor" href="#æ–‡ä»¶ä¸‹è½½åŠæ–‡ä»¶ä¸Šä¼ " aria-hidden="true">#</a> æ–‡ä»¶ä¸‹è½½åŠæ–‡ä»¶ä¸Šä¼ </h2><h3 id="æ–‡ä»¶ä¸‹è½½" tabindex="-1"><a class="header-anchor" href="#æ–‡ä»¶ä¸‹è½½" aria-hidden="true">#</a> æ–‡ä»¶ä¸‹è½½</h3><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/download&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token class-name">ResponseEntity</span><span class="token operator">&lt;</span><span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">&gt;</span> <span class="token function">download</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> req<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span> <span class="token punctuation">{</span>
    <span class="token comment">//        å¾—åˆ°è¦ä¸‹è½½çš„æ–‡ä»¶çš„æµ</span>
    <span class="token class-name">String</span> location <span class="token operator">=</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">;</span>
    <span class="token comment">//        æ‰¾åˆ°è¦ä¸‹è½½çš„æ–‡ä»¶çš„çœŸå®è·¯å¾„</span>
    <span class="token class-name">String</span> path <span class="token operator">=</span> req<span class="token punctuation">.</span><span class="token function">getSession</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getServletContext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getRealPath</span><span class="token punctuation">(</span><span class="token string">&quot;/jqeruy-2.1.1.js&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>path<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">FileInputStream</span> is <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FileInputStream</span><span class="token punctuation">(</span>path<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span> temp <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">byte</span><span class="token punctuation">[</span>is<span class="token punctuation">.</span><span class="token function">available</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    is<span class="token punctuation">.</span><span class="token function">read</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    is<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//        ä¸‹è½½çš„æ–‡ä»¶æµè¿”å›</span>
    <span class="token class-name">HttpHeaders</span> headers <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HttpHeaders</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    headers<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">&quot;Content-Disposition&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;attachment;filename=&quot;</span><span class="token operator">+</span><span class="token string">&quot;jqeruy-2.1.1.js&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">ResponseEntity</span><span class="token operator">&lt;</span><span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">&gt;</span><span class="token punctuation">(</span>temp<span class="token punctuation">,</span> headers<span class="token punctuation">,</span> <span class="token class-name">HttpStatus</span><span class="token punctuation">.</span><span class="token constant">OK</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="æ–‡ä»¶ä¸Šä¼ " tabindex="-1"><a class="header-anchor" href="#æ–‡ä»¶ä¸Šä¼ " aria-hidden="true">#</a> æ–‡ä»¶ä¸Šä¼ </h3><h4 id="httpmessageconverter" tabindex="-1"><a class="header-anchor" href="#httpmessageconverter" aria-hidden="true">#</a> HttpMessageConverter</h4><figure><img src="/Computer-Science-Learn-Notes/assets/1cae080e-52fc-484d-90a5-00545933d902-0782e369.webp" alt="1cae080e-52fc-484d-90a5-00545933d902" tabindex="0" loading="lazy"><figcaption>1cae080e-52fc-484d-90a5-00545933d902</figcaption></figure><p>ä¸Šä¼ è¡¨å•ï¼š</p><div class="language-html line-numbers-mode" data-ext="html"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>form</span> <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&quot;</span></span> <span class="token attr-name">method</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>post<span class="token punctuation">&quot;</span></span> <span class="token attr-name">enctype</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>multipart/form-data<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    ç”¨æˆ·å¤´åƒï¼š <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>file<span class="token punctuation">&quot;</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>headerimages<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">&gt;</span></span>
    ç”¨æˆ·åï¼š <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text<span class="token punctuation">&quot;</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>username<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>submit<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>æäº¤<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>form</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å¯¼åŒ…ï¼š</p><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.apache.commons<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>commons-io<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>1.3.2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>commons-fileupload<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>commons-fileupload<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>1.3.3<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>é…ç½®SpringMVC</p><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token comment">&lt;!--    é…ç½®æ–‡ä»¶ä¸Šä¼ è§£æå™¨,idå¿…é¡»æ˜¯multipartResolver--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>multipartResolver<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>org.springframework.web.multipart.commons.CommonsMultipartResolver<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!--        æœ€å¤§å…è®¸çš„ä¸Šä¼ å¤§å°--&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>maxInMemorySize<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#{1024*1024*20}<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token comment">&lt;!--        é»˜è®¤çš„å­—ç¬¦ç¼–ç --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>defaultEncoding<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>utf-8<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ç¼–å†™æ–‡ä»¶ä¸Šä¼ ï¼š</p><p>@RequestParam(&quot;headerimages&quot;)<strong>MultipartFile</strong> file å°è£…äº†å½“å‰æ–‡ä»¶çš„ä¿¡æ¯</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/upload&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">upload</span><span class="token punctuation">(</span><span class="token annotation punctuation">@RequestParam</span><span class="token punctuation">(</span><span class="token string">&quot;username&quot;</span><span class="token punctuation">)</span> <span class="token class-name">String</span> username<span class="token punctuation">,</span><span class="token annotation punctuation">@RequestParam</span><span class="token punctuation">(</span><span class="token string">&quot;password&quot;</span><span class="token punctuation">)</span> <span class="token class-name">String</span> password<span class="token punctuation">,</span>
                     <span class="token annotation punctuation">@RequestParam</span><span class="token punctuation">(</span><span class="token string">&quot;headerimages&quot;</span><span class="token punctuation">)</span><span class="token class-name">MultipartFile</span> file<span class="token punctuation">,</span>
                     <span class="token class-name">Model</span> model<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>username<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;æ–‡ä»¶å¤§å°&quot;</span> <span class="token operator">+</span> file<span class="token punctuation">.</span><span class="token function">getSize</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;æ–‡ä»¶åå­—&quot;</span> <span class="token operator">+</span>file<span class="token punctuation">.</span><span class="token function">getOriginalFilename</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">try</span> <span class="token punctuation">{</span>
        file<span class="token punctuation">.</span><span class="token function">transferTo</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">File</span><span class="token punctuation">(</span><span class="token string">&quot;C:\\Users\\54271\\Documents\\Spring_Twice\\SpringMVC_04\\src\\main\\resources\\&quot;</span> <span class="token operator">+</span> file<span class="token punctuation">.</span><span class="token function">getOriginalFilename</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        model<span class="token punctuation">.</span><span class="token function">addAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;msg&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;æ–‡ä»¶ä¸Šä¼ æˆåŠŸ&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">IOException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        model<span class="token punctuation">.</span><span class="token function">addAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;msg&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;æ–‡ä»¶ä¸Šä¼ å¤±è´¥&quot;</span><span class="token operator">+</span>e<span class="token punctuation">.</span><span class="token function">getMessage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> <span class="token string">&quot;forward:/index.jsp&quot;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="å¤šæ–‡ä»¶ä¸Šä¼ " tabindex="-1"><a class="header-anchor" href="#å¤šæ–‡ä»¶ä¸Šä¼ " aria-hidden="true">#</a> å¤šæ–‡ä»¶ä¸Šä¼ </h3><p>å‰ç«¯ï¼š</p><div class="language-html line-numbers-mode" data-ext="html"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>form</span> <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>upload<span class="token punctuation">&quot;</span></span> <span class="token attr-name">method</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>post<span class="token punctuation">&quot;</span></span> <span class="token attr-name">enctype</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>multipart/form-data<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    ç”¨æˆ·å¤´åƒï¼š <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>file<span class="token punctuation">&quot;</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>headerimages<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">&gt;</span></span>
    ç”¨æˆ·å¤´åƒï¼š <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>file<span class="token punctuation">&quot;</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>headerimages<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">&gt;</span></span>
    ç”¨æˆ·å¤´åƒï¼š <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>file<span class="token punctuation">&quot;</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>headerimages<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">&gt;</span></span>
    ç”¨æˆ·å¤´åƒï¼š <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>file<span class="token punctuation">&quot;</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>headerimages<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">&gt;</span></span>
    ç”¨æˆ·åï¼š <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text<span class="token punctuation">&quot;</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>username<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>admin<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">&gt;</span></span>
    å¯†ç ï¼š <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text<span class="token punctuation">&quot;</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>password<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>123<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>submit<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>æäº¤<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>form</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æ§åˆ¶å™¨ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/upload&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">upload</span><span class="token punctuation">(</span><span class="token annotation punctuation">@RequestParam</span><span class="token punctuation">(</span><span class="token string">&quot;username&quot;</span><span class="token punctuation">)</span> <span class="token class-name">String</span> username<span class="token punctuation">,</span><span class="token annotation punctuation">@RequestParam</span><span class="token punctuation">(</span><span class="token string">&quot;password&quot;</span><span class="token punctuation">)</span> <span class="token class-name">String</span> password<span class="token punctuation">,</span>
                     <span class="token annotation punctuation">@RequestParam</span><span class="token punctuation">(</span><span class="token string">&quot;headerimages&quot;</span><span class="token punctuation">)</span><span class="token class-name">MultipartFile</span><span class="token punctuation">[</span><span class="token punctuation">]</span> files<span class="token punctuation">,</span>
                     <span class="token class-name">Model</span> model<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>username<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">try</span> <span class="token punctuation">{</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">MultipartFile</span> file <span class="token operator">:</span> files<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>file<span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
                file<span class="token punctuation">.</span><span class="token function">transferTo</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">File</span><span class="token punctuation">(</span><span class="token string">&quot;C:\\Users\\54271\\Documents\\Spring_Twice\\SpringMVC_04\\src\\main\\resources\\&quot;</span> <span class="token operator">+</span> file<span class="token punctuation">.</span><span class="token function">getOriginalFilename</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
        model<span class="token punctuation">.</span><span class="token function">addAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;msg&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;æ–‡ä»¶ä¸Šä¼ æˆåŠŸ&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">IOException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        model<span class="token punctuation">.</span><span class="token function">addAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;msg&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;æ–‡ä»¶ä¸Šä¼ å¤±è´¥&quot;</span><span class="token operator">+</span>e<span class="token punctuation">.</span><span class="token function">getMessage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> <span class="token string">&quot;forward:/index.jsp&quot;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="æ‹¦æˆªå™¨åŠå¤šæ‹¦æˆªå™¨" tabindex="-1"><a class="header-anchor" href="#æ‹¦æˆªå™¨åŠå¤šæ‹¦æˆªå™¨" aria-hidden="true">#</a> æ‹¦æˆªå™¨åŠå¤šæ‹¦æˆªå™¨</h2><p>æ‹¦æˆªå™¨çš„åŸºæœ¬æ–¹æ³•ï¼š</p><figure><img src="/Computer-Science-Learn-Notes/assets/915c108f-6487-4d72-bf33-9f6fb18d64b3-cb466bf3.webp" alt="915c108f-6487-4d72-bf33-9f6fb18d64b3" tabindex="0" loading="lazy"><figcaption>915c108f-6487-4d72-bf33-9f6fb18d64b3</figcaption></figure><p>preHandleï¼šåœ¨ç›®æ ‡æ–¹æ³•ä¹‹å‰è°ƒç”¨ï¼Œè¿”å›booleanï¼Œreturn trueç›®æ ‡æ–¹æ³•æ”¾è¡Œ</p><p>postHandleï¼šåœ¨ç›®æ ‡æ–¹æ³•è¿è¡Œä¹‹åè°ƒç”¨</p><p>afterCompletionï¼šåœ¨è¯·æ±‚æ•´ä¸ªå®Œæˆï¼ˆæ¥åˆ°ç›®æ ‡é¡µé¢ï¼‰ï¼šchain.dofilter()æ”¾è¡Œï¼ˆèµ„æºå“åº”ä¹‹åï¼‰</p><p>åˆ›å»ºä¸€ä¸ªæ‹¦æˆªå™¨ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">FirstInterceptor</span> <span class="token keyword">implements</span> <span class="token class-name">HandlerInterceptor</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">preHandle</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">,</span> <span class="token class-name">Object</span> handler<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;FirstInterceptor preHandle invoke....&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">postHandle</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">,</span> <span class="token class-name">Object</span> handler<span class="token punctuation">,</span> <span class="token class-name">ModelAndView</span> modelAndView<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;FirstInterceptor postHandle invoke....&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">afterCompletion</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">,</span> <span class="token class-name">Object</span> handler<span class="token punctuation">,</span> <span class="token class-name">Exception</span> ex<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;FirstInterceptor afterCompletion invoke....&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>é…ç½®æ‹¦æˆªå™¨åˆ°SpringMVC</p><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">mvc:</span>interceptors</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!--        é…ç½®æŸä¸ªæ‹¦æˆªå™¨ï¼Œé»˜è®¤æ‹¦æˆªæ‰€æœ‰è¯·æ±‚--&gt;</span>
    <span class="token comment">&lt;!--        &lt;bean class=&quot;cn.zhiyucs.interceptor.FirstInterceptor&quot;&gt;&lt;/bean&gt;--&gt;</span>
    <span class="token comment">&lt;!--        é…ç½®æŸä¸ªæ‹¦æˆªå™¨æ›´è¯¦ç»†çš„ä¿¡æ¯--&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">mvc:</span>interceptor</span><span class="token punctuation">&gt;</span></span>
        <span class="token comment">&lt;!--            åªæ‹¦æˆªsuccess--&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">mvc:</span>mapping</span> <span class="token attr-name">path</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/success<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>cn.zhiyucs.interceptor.FirstInterceptor<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token namespace">mvc:</span>interceptor</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token namespace">mvc:</span>interceptors</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æµ‹è¯•åæ‹¦æˆªå™¨çš„è¿è¡Œæµç¨‹ï¼š</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>FirstInterceptor preHandle invoke....
FirstInterceptor postHandle invoke....
FirstInterceptor afterCompletion invoke....
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æ³¨æ„ï¼š</p><ul><li>åªè¦preHandlerä¸æ”¾è¡Œï¼Œä»¥åçš„æµç¨‹å°±ä¸ä¼šæ‰§è¡Œ</li><li><strong>åªè¦æ”¾è¡Œäº†ï¼ŒafterCompletionéƒ½ä¼šæ‰§è¡Œ</strong></li></ul><h3 id="å¤šæ‹¦æˆªå™¨" tabindex="-1"><a class="header-anchor" href="#å¤šæ‹¦æˆªå™¨" aria-hidden="true">#</a> å¤šæ‹¦æˆªå™¨</h3><p>å¤šæ‹¦æˆªå™¨çš„æ‰§è¡Œæµç¨‹ï¼š</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>FirstInterceptor preHandle invoke....
SecondInterceptor preHandle invoke....
SecondInterceptor postHandle invoke....
FirstInterceptor postHandle invoke....
SecondInterceptor afterCompletion invoke....
FirstInterceptor afterCompletion invoke....
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>åªè¦æœ‰ä¸€ä¸ªæ‹¦æˆªå™¨ä¸æ”¾è¡Œï¼Œä»¥åéƒ½æ²¡æœ‰æ‰§è¡Œ</p><p>å¦‚æœæœ‰ä¸€ä¸ªä¸æ”¾è¡Œï¼Œå¦å¤–ä¸€ä¸ªafterCompletionè¿˜æ˜¯ä¼šæ‰§è¡Œ</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>FirstInterceptor preHandle invoke....
SecondInterceptor preHandle invoke....
FirstInterceptor afterCompletion invoke....
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="å°ç»“" tabindex="-1"><a class="header-anchor" href="#å°ç»“" aria-hidden="true">#</a> å°ç»“</h3><p>æ‹¦æˆªå™¨çš„preHadnleæ˜¯æŒ‰ç…§é¡ºåºæ‰§è¡Œ</p><p>æ‹¦æˆªå™¨çš„postHandleæ˜¯æŒ‰ç…§é€†åºæ‰§è¡Œ</p><p>æ‹¦æˆªå™¨çš„afterCompletionæ˜¯æŒ‰ç…§é€†åºæ‰§è¡Œ</p><h2 id="æºç åˆ†æ-æ‹¦æˆªå™¨" tabindex="-1"><a class="header-anchor" href="#æºç åˆ†æ-æ‹¦æˆªå™¨" aria-hidden="true">#</a> æºç åˆ†æ æ‹¦æˆªå™¨</h2><p>åŒæ ·æ˜¯åœ¨doDispatchæ–¹æ³•ä¸­ï¼Œç¬¬ä¸€æ¬¡æ‰§è¡Œåˆ°çš„ä½ç½®æ˜¯ï¼š</p><p>è¿™é‡Œæ‰§è¡Œæ‹¦æˆªå™¨çš„preHandleï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>mappedHandler<span class="token punctuation">.</span><span class="token function">applyPreHandle</span><span class="token punctuation">(</span>processedRequest<span class="token punctuation">,</span> response<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å› ä¸ºåœ¨å‰é¢çš„getHanderå¯ä»¥è·å–åˆ°ä¸‰ä¸ªæ‹¦æˆªå™¨ï¼ˆè‡ªå·±å†™äº†2ä¸ªï¼‰</p><figure><img src="/Computer-Science-Learn-Notes/assets/b98ad1e2-9da6-4243-abb3-6e85bd945503-bdc02a5b.webp" alt="b98ad1e2-9da6-4243-abb3-6e85bd945503" tabindex="0" loading="lazy"><figcaption>b98ad1e2-9da6-4243-abb3-6e85bd945503</figcaption></figure><p>applyPreHandleåˆ†æï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">boolean</span> <span class="token function">applyPreHandle</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span> <span class="token punctuation">{</span>
    <span class="token class-name">HandlerInterceptor</span><span class="token punctuation">[</span><span class="token punctuation">]</span> interceptors <span class="token operator">=</span> <span class="token function">getInterceptors</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token class-name">ObjectUtils</span><span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span>interceptors<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> interceptors<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token class-name">HandlerInterceptor</span> interceptor <span class="token operator">=</span> interceptors<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
            <span class="token comment">// true=æ”¾è¡Œ</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>interceptor<span class="token punctuation">.</span><span class="token function">preHandle</span><span class="token punctuation">(</span>request<span class="token punctuation">,</span> response<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>handler<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token comment">// æ‰§è¡Œå®ŒafterCompletionï¼ˆï¼‰</span>
                <span class="token function">triggerAfterCompletion</span><span class="token punctuation">(</span>request<span class="token punctuation">,</span> response<span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token comment">// æœ‰ä¸€ä¸ªæ‹¦æˆªå™¨è¿”å›falseç›®æ ‡æ–¹æ³•ä¸ä¼šæ‰§è¡Œï¼Œç›´æ¥è·³åˆ°afterCompletion</span>
                <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            <span class="token comment">// ç´¢å¼•è®°å½•å·²ç»æ‹¦æˆªçš„æ‹¦æˆªå™¨</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>interceptorIndex <span class="token operator">=</span> i<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ç›®æ ‡æ–¹æ³•æ­£å¸¸ä¼šæ‰§è¡ŒpostHadnlerï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code>mappedHandler<span class="token punctuation">.</span><span class="token function">applyPostHandle</span><span class="token punctuation">(</span>processedRequest<span class="token punctuation">,</span> response<span class="token punctuation">,</span> mv<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// åˆ†ææ–¹æ³•</span>
<span class="token keyword">void</span> <span class="token function">applyPostHandle</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">,</span> <span class="token annotation punctuation">@Nullable</span> <span class="token class-name">ModelAndView</span> mv<span class="token punctuation">)</span>
    <span class="token keyword">throws</span> <span class="token class-name">Exception</span> <span class="token punctuation">{</span>
    <span class="token class-name">HandlerInterceptor</span><span class="token punctuation">[</span><span class="token punctuation">]</span> interceptors <span class="token operator">=</span> <span class="token function">getInterceptors</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token class-name">ObjectUtils</span><span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span>interceptors<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// é€†åºæ‰§è¡Œæ¯ä¸ªæ‹¦æˆªå™¨çš„postHandle</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> interceptors<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&gt;=</span> <span class="token number">0</span><span class="token punctuation">;</span> i<span class="token operator">--</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token class-name">HandlerInterceptor</span> interceptor <span class="token operator">=</span> interceptors<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
            interceptor<span class="token punctuation">.</span><span class="token function">postHandle</span><span class="token punctuation">(</span>request<span class="token punctuation">,</span> response<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>handler<span class="token punctuation">,</span> mv<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><figure><img src="/Computer-Science-Learn-Notes/assets/b43f1b9a-5fd6-41ec-8093-1bfc3ae780c2-e59aed29.webp" alt="b43f1b9a-5fd6-41ec-8093-1bfc3ae780c2" tabindex="0" loading="lazy"><figcaption>b43f1b9a-5fd6-41ec-8093-1bfc3ae780c2</figcaption></figure><p>processDispatchResultæ–¹æ³•ï¼šè¿™å°±æ˜¯afterCompletionæ€»ä¼šæ‰§è¡Œçš„åŸå› </p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">if</span> <span class="token punctuation">(</span>mappedHandler <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// Exception (if any) is already handled..</span>
    mappedHandler<span class="token punctuation">.</span><span class="token function">triggerAfterCompletion</span><span class="token punctuation">(</span>request<span class="token punctuation">,</span> response<span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è¿™ä¸ªæ‹¦æˆªå™¨çš„å…·ä½“æ‰§è¡Œæµç¨‹æ˜¯ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">void</span> <span class="token function">triggerAfterCompletion</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">,</span> <span class="token annotation punctuation">@Nullable</span> <span class="token class-name">Exception</span> ex<span class="token punctuation">)</span>
    <span class="token keyword">throws</span> <span class="token class-name">Exception</span> <span class="token punctuation">{</span>
    <span class="token class-name">HandlerInterceptor</span><span class="token punctuation">[</span><span class="token punctuation">]</span> interceptors <span class="token operator">=</span> <span class="token function">getInterceptors</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token class-name">ObjectUtils</span><span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span>interceptors<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// æœ‰è®°å½•æœ€åä¸€ä¸ªæ‹¦æˆªå™¨çš„ç´¢å¼•ï¼ŒæŠŠå®ƒä¹‹å‰æ‰€æœ‰æ”¾è¡Œçš„æ‹¦æˆªå™¨çš„afterCompletionéƒ½æ‰§è¡Œ</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>interceptorIndex<span class="token punctuation">;</span> i <span class="token operator">&gt;=</span> <span class="token number">0</span><span class="token punctuation">;</span> i<span class="token operator">--</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token class-name">HandlerInterceptor</span> interceptor <span class="token operator">=</span> interceptors<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
            <span class="token keyword">try</span> <span class="token punctuation">{</span>
                interceptor<span class="token punctuation">.</span><span class="token function">afterCompletion</span><span class="token punctuation">(</span>request<span class="token punctuation">,</span> response<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>handler<span class="token punctuation">,</span> ex<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Throwable</span> ex2<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                logger<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string">&quot;HandlerInterceptor.afterCompletion threw exception&quot;</span><span class="token punctuation">,</span> ex2<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="å…·ä½“è°ƒè¯•" tabindex="-1"><a class="header-anchor" href="#å…·ä½“è°ƒè¯•" aria-hidden="true">#</a> å…·ä½“è°ƒè¯•</h3><p>ç¬¬ä¸€æ¬¡æ‰§è¡Œçš„æ‹¦æˆªå™¨æ˜¯ï¼šconversionService interceptorIndex=0</p><figure><img src="/Computer-Science-Learn-Notes/assets/fc95161b-76f7-4362-aa71-9226b89dba95-59f4e644.webp" alt="fc95161b-76f7-4362-aa71-9226b89dba95" tabindex="0" loading="lazy"><figcaption>fc95161b-76f7-4362-aa71-9226b89dba95</figcaption></figure><p>ç¬¬äºŒæ¬¡æ‰§è¡Œ FirstInterceptor interceptorIndex =1</p><figure><img src="data:image/webp;base64,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" alt="25a77df8-1bbf-43d4-9cf7-8ee646074596" tabindex="0" loading="lazy"><figcaption>25a77df8-1bbf-43d4-9cf7-8ee646074596</figcaption></figure><p>ç¬¬ä¸‰æ¬¡æ‰§è¡Œï¼šSecondInterceptor interceptorIndex = 2</p><figure><img src="/Computer-Science-Learn-Notes/assets/fd7b87a8-5706-4a29-bbb0-b44fccd84901-c4547503.webp" alt="fd7b87a8-5706-4a29-bbb0-b44fccd84901" tabindex="0" loading="lazy"><figcaption>fd7b87a8-5706-4a29-bbb0-b44fccd84901</figcaption></figure><p>å…¨éƒ¨æ‰§è¡Œå®Œï¼Œä¼šè¿”å›trueï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>mappedHandler<span class="token punctuation">.</span><span class="token function">applyPreHandle</span><span class="token punctuation">(</span>processedRequest<span class="token punctuation">,</span> response<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="å›½é™…åŒ–" tabindex="-1"><a class="header-anchor" href="#å›½é™…åŒ–" aria-hidden="true">#</a> å›½é™…åŒ–</h2><p>ä¸€èˆ¬å›½é™…åŒ–çš„æ­¥éª¤ï¼šSpringMVCå›½é™…åŒ–æ ¸å¿ƒ -- ResourceBundleMessageSource</p><p><a href="wiz://open_document?guid=f3227501-5a15-48bf-ae86-9936e13306cf&amp;kbguid=&amp;private_kbguid=51ed7a20-5f58-11ea-ac04-65f1a2b61811">è§†å›¾è§£æ JSTL å›½é™…åŒ–</a></p><p>è·å–åŒºåŸŸä¿¡æ¯ï¼š Locale locale = request.getLocale();</p><p>è·å–å›½é™…åŒ–çš„ä¿¡æ¯ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@Autowired</span>
<span class="token keyword">private</span> <span class="token class-name">MessageSource</span> messageSource<span class="token punctuation">;</span>
<span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/login&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">login</span><span class="token punctuation">(</span><span class="token class-name">Locale</span> locale<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>locale<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">String</span> welcomeinfo <span class="token operator">=</span> messageSource<span class="token punctuation">.</span><span class="token function">getMessage</span><span class="token punctuation">(</span><span class="token string">&quot;welcomeinfo&quot;</span><span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span> locale<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>welcomeinfo<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token string">&quot;login&quot;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="è‡ªå®šä¹‰å›½é™…åŒ–æ–‡ä»¶" tabindex="-1"><a class="header-anchor" href="#è‡ªå®šä¹‰å›½é™…åŒ–æ–‡ä»¶" aria-hidden="true">#</a> è‡ªå®šä¹‰å›½é™…åŒ–æ–‡ä»¶</h3><figure><img src="/Computer-Science-Learn-Notes/assets/af10972e-aa23-4eae-aaec-40d8de0bd9cb-37cee1ad.webp" alt="af10972e-aa23-4eae-aaec-40d8de0bd9cb" tabindex="0" loading="lazy"><figcaption>af10972e-aa23-4eae-aaec-40d8de0bd9cb</figcaption></figure><ol><li>å®ç°LocaleResolveræ¥å£</li></ol><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MyLocaleResolver</span> <span class="token keyword">implements</span> <span class="token class-name">LocaleResolver</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">Locale</span> <span class="token function">resolveLocale</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setLocale</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">,</span> <span class="token class-name">Locale</span> locale<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>åœ¨å‰ç«¯é…ç½®è®¿é—®è·¯å¾„ï¼š</p><div class="language-html line-numbers-mode" data-ext="html"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>login?locale=zh_CN<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>åˆ‡æ¢ä¸­æ–‡<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>login?locale=en_US<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>åˆ‡æ¢è‹±æ–‡<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>è‡ªå·±å†™å›½é™…åŒ–ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@Override</span>
<span class="token keyword">public</span> <span class="token class-name">Locale</span> <span class="token function">resolveLocale</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">Locale</span> l <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
    <span class="token comment">// è·å–åœ°å€æ çš„localeåçš„ä¿¡æ¯ å¦‚ï¼šzh_CN</span>
    <span class="token class-name">String</span> localeSt <span class="token operator">=</span> request<span class="token punctuation">.</span><span class="token function">getParameter</span><span class="token punctuation">(</span><span class="token string">&quot;locale&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//        å¦‚æœå¸¦äº†Localeå‚æ•°æŒ‡å®šçš„åŒºåŸŸä¿¡æ¯ï¼Œæ²¡æœ‰å¸¦å°±ç”¨æµè§ˆå™¨</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>localeSt <span class="token operator">!=</span> <span class="token keyword">null</span> <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span><span class="token string">&quot;&quot;</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>localeSt<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        l <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Locale</span><span class="token punctuation">(</span>localeSt<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">&quot;_&quot;</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> localeSt<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">&quot;_&quot;</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        l <span class="token operator">=</span> request<span class="token punctuation">.</span><span class="token function">getLocale</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> l<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>é…ç½®MVCï¼š</p><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token comment">&lt;!--    è‡ªå®šä¹‰å›½é™…åŒ–--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>localeResolver<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>cn.zhiyucs.component.MyLocaleResolver<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="ä½¿ç”¨sessionlocaleresolverè¿›è¡Œå›½é™…åŒ–" tabindex="-1"><a class="header-anchor" href="#ä½¿ç”¨sessionlocaleresolverè¿›è¡Œå›½é™…åŒ–" aria-hidden="true">#</a> ä½¿ç”¨SessionLocaleResolverè¿›è¡Œå›½é™…åŒ–</h3><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/login&quot;</span><span class="token punctuation">)</span>
<span class="token comment">// localeæ˜¯ä¼ å…¥çš„zh_CN/en_US è¿™é‡Œçš„å‚æ•°éœ€è¦ä¼ å…¥session</span>
<span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">login</span><span class="token punctuation">(</span><span class="token annotation punctuation">@RequestParam</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">&quot;locale&quot;</span><span class="token punctuation">,</span> defaultValue <span class="token operator">=</span> <span class="token string">&quot;zh_CN&quot;</span><span class="token punctuation">)</span> <span class="token class-name">String</span> localeSt<span class="token punctuation">,</span> <span class="token class-name">Locale</span> locale<span class="token punctuation">,</span> <span class="token class-name">HttpSession</span> session<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">Locale</span> l <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>localeSt <span class="token operator">!=</span> <span class="token keyword">null</span> <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span><span class="token string">&quot;&quot;</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>localeSt<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        l <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Locale</span><span class="token punctuation">(</span>localeSt<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">&quot;_&quot;</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> localeSt<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">&quot;_&quot;</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        l <span class="token operator">=</span> locale<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// å…³é”®ç‚¹ï¼šè¿™é‡ŒSessionLocaleResolver.class.getName() + &quot;.LOCALE&quot;å›ºå®šå†™æ³•</span>
    session<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token class-name">SessionLocaleResolver</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;.LOCALE&quot;</span><span class="token punctuation">,</span> l<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token string">&quot;login&quot;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>é…ç½®åˆ°MVC</p><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token comment">&lt;!--    åŒºåŸŸä¿¡æ¯ä»sessionä¸­æ‹¿--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>org.springframework.web.servlet.i18n.SessionLocaleResolver<span class="token punctuation">&quot;</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>localeResolver<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="æ‹¦æˆªå™¨é…åˆå›½é™…åŒ–" tabindex="-1"><a class="header-anchor" href="#æ‹¦æˆªå™¨é…åˆå›½é™…åŒ–" aria-hidden="true">#</a> æ‹¦æˆªå™¨é…åˆå›½é™…åŒ–</h3><p>ç›´æ¥åœ¨MVCä¸­é…ç½®æ‹¦æˆªå™¨ï¼š</p><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">mvc:</span>interceptors</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>org.springframework.web.servlet.i18n.LocaleChangeInterceptor<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token namespace">mvc:</span>interceptors</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>åªè¦æƒ³å›½é™…åŒ–åœ¨é¡µé¢æ·»åŠ localeå‚æ•°å³å¯ï¼š</p><div class="language-html line-numbers-mode" data-ext="html"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>login?locale=zh_CN<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>åˆ‡æ¢ä¸­æ–‡<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>login?locale=en_US<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>åˆ‡æ¢è‹±æ–‡<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>SessionLocaleResolver &amp; LocaleChangeInterceptor å·¥ä½œåŸç†</p><figure><img src="/Computer-Science-Learn-Notes/assets/f135df2d-8df3-4660-8b18-e6918bd9af36-7e79d93b.webp" alt="f135df2d-8df3-4660-8b18-e6918bd9af36" tabindex="0" loading="lazy"><figcaption>f135df2d-8df3-4660-8b18-e6918bd9af36</figcaption></figure><h2 id="å¼‚å¸¸å¤„ç†-exceptionhandler" tabindex="-1"><a class="header-anchor" href="#å¼‚å¸¸å¤„ç†-exceptionhandler" aria-hidden="true">#</a> å¼‚å¸¸å¤„ç† @ExceptionHandler</h2><h3 id="å¤„ç†å¼‚å¸¸çš„ä¸€èˆ¬æ­¥éª¤" tabindex="-1"><a class="header-anchor" href="#å¤„ç†å¼‚å¸¸çš„ä¸€èˆ¬æ­¥éª¤" aria-hidden="true">#</a> å¤„ç†å¼‚å¸¸çš„ä¸€èˆ¬æ­¥éª¤</h3><p>é¦–å…ˆå‡è®¾ä¸€ä¸ªå¼‚å¸¸çš„å­˜åœ¨ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/handler01&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">handler01</span><span class="token punctuation">(</span><span class="token annotation punctuation">@RequestParam</span><span class="token punctuation">(</span><span class="token string">&quot;i&quot;</span><span class="token punctuation">)</span><span class="token keyword">int</span> i<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token number">10</span> <span class="token operator">/</span> i<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token string">&quot;success&quot;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è®¾ç½®ä¸€ä¸ªå¼‚å¸¸æ•è·/å¤„ç†ï¼š</p><p>@ExceptionHandler çš„ value æ ‡è¯†å¤„ç†çš„å¼‚å¸¸ï¼Œæ¯”å¦‚æ¡ˆä¾‹ä¸­åªèƒ½å¤„ç†æ•°å­¦å¼‚å¸¸</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token doc-comment comment">/**
     * å‘Šè¯‰SpringMVCè¿™ä¸ªæ–¹æ³•ä¸“é—¨å¤„ç†è¿™ä¸ªç±»çš„å‘ç”Ÿçš„å¼‚å¸¸
     * 1ã€‚ ç»™æ–¹æ³•éšä¾¿å†™ä¸€ä¸ªExceptionï¼Œç”¨æ¥æ¥å—å‘ç”Ÿçš„å¼‚å¸¸
     * 2. è¦æºå¸¦å¼‚å¸¸ä¿¡æ¯ä¸èƒ½ç»™å‚æ•°ä½ç½®å†™Model
     * 3. è¿”å›ModelAndViewå°±å¯ä»¥
     * <span class="token keyword">@param</span> <span class="token parameter">e</span>
     * <span class="token keyword">@return</span>
     */</span>
<span class="token annotation punctuation">@ExceptionHandler</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token class-name">ArithmeticException</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token class-name">ModelAndView</span> <span class="token function">handleException01</span><span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;handleException01&quot;</span><span class="token operator">+</span> e<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">ModelAndView</span> mv <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ModelAndView</span><span class="token punctuation">(</span><span class="token string">&quot;myerror&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    mv<span class="token punctuation">.</span><span class="token function">addObject</span><span class="token punctuation">(</span><span class="token string">&quot;ex&quot;</span><span class="token punctuation">,</span> e<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> mv<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å‰ç«¯JSPæ¥æ”¶</p><div class="language-html line-numbers-mode" data-ext="html"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">&gt;</span></span>${ex}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>å½“è®¿é—®å‚æ•°i = 0æ—¶ï¼Œå°±ä¼šå¤„ç†è¿™ä¸ªå¼‚å¸¸</p><figure><img src="/Computer-Science-Learn-Notes/assets/15acf3ed-c8e8-4cc4-82d6-d45e8026af63-7d986b5d.webp" alt="15acf3ed-c8e8-4cc4-82d6-d45e8026af63" tabindex="0" loading="lazy"><figcaption>15acf3ed-c8e8-4cc4-82d6-d45e8026af63</figcaption></figure><h2 id="å¼‚å¸¸å¤„ç†-responsestatus" tabindex="-1"><a class="header-anchor" href="#å¼‚å¸¸å¤„ç†-responsestatus" aria-hidden="true">#</a> å¼‚å¸¸å¤„ç† @ResponseStatus</h2><h3 id="responsestatusçš„åŸºæœ¬ä½¿ç”¨" tabindex="-1"><a class="header-anchor" href="#responsestatusçš„åŸºæœ¬ä½¿ç”¨" aria-hidden="true">#</a> @ResponseStatusçš„åŸºæœ¬ä½¿ç”¨</h3><p>åˆ›å»ºä¸€ä¸ªå¼‚å¸¸ç±»</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@ResponseStatus</span><span class="token punctuation">(</span>reason <span class="token operator">=</span> <span class="token string">&quot;ç”¨æˆ·è¢«æ‹’ç»ç™»å½•&quot;</span><span class="token punctuation">,</span> value <span class="token operator">=</span> <span class="token class-name">HttpStatus</span><span class="token punctuation">.</span><span class="token constant">NOT_EXTENDED</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">UsernameNotFoundException</span> <span class="token keyword">extends</span> <span class="token class-name">RuntimeException</span><span class="token punctuation">{</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>åˆ›å»ºä¸€ä¸ªè¯·æ±‚æ§åˆ¶å™¨ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/handler02&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">handler02</span><span class="token punctuation">(</span><span class="token annotation punctuation">@RequestParam</span><span class="token punctuation">(</span><span class="token string">&quot;username&quot;</span><span class="token punctuation">)</span><span class="token class-name">String</span> username<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token string">&quot;admin&quot;</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>username<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;ç™»å½•å¤±è´¥&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">UsernameNotFoundException</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;ç™»å½•æˆåŠŸ&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token string">&quot;success&quot;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å½“å‘é€ä¸€ä¸ªé”™è¯¯å‚æ•°å°±ä¼šæŠ¥å‡ºé”™è¯¯ï¼š</p><figure><img src="/Computer-Science-Learn-Notes/assets/615f5bf6-23b0-4bcb-8f58-025bb4064b70-df434809.webp" alt="615f5bf6-23b0-4bcb-8f58-025bb4064b70" tabindex="0" loading="lazy"><figcaption>615f5bf6-23b0-4bcb-8f58-025bb4064b70</figcaption></figure><h4 id="é”™è¯¯çš„è¯·æ±‚æ–¹å¼" tabindex="-1"><a class="header-anchor" href="#é”™è¯¯çš„è¯·æ±‚æ–¹å¼" aria-hidden="true">#</a> é”™è¯¯çš„è¯·æ±‚æ–¹å¼</h4><p>å¦‚æœä½¿ç”¨GETæ–¹å¼æ¥è¯·æ±‚POSTï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">&quot;/handler03&quot;</span><span class="token punctuation">,</span> method <span class="token operator">=</span> <span class="token class-name">RequestMethod</span><span class="token punctuation">.</span><span class="token constant">POST</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">handler03</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>[org.springframework.web.HttpRequestMethodNotSupportedException: Request method &#39;GET&#39; not supported]
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="æºç åˆ†æ-å¼‚å¸¸å¤„ç†" tabindex="-1"><a class="header-anchor" href="#æºç åˆ†æ-å¼‚å¸¸å¤„ç†" aria-hidden="true">#</a> æºç åˆ†æ å¼‚å¸¸å¤„ç†</h2><p>åŒæ ·å‡ºå‘ç‚¹æ—¶doDispatch</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token function">processDispatchResult</span><span class="token punctuation">(</span>processedRequest<span class="token punctuation">,</span> response<span class="token punctuation">,</span> mappedHandler<span class="token punctuation">,</span> mv<span class="token punctuation">,</span> dispatchException<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>åœ¨è¿™ä¸ªæ–¹æ³•æ¥åˆ°ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code>mv <span class="token operator">=</span> <span class="token function">processHandlerException</span><span class="token punctuation">(</span>request<span class="token punctuation">,</span> response<span class="token punctuation">,</span> handler<span class="token punctuation">,</span> exception<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>åœ¨processHandlerExceptionä¸­è½®æµè§£æå¼‚å¸¸ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>handlerExceptionResolvers <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">HandlerExceptionResolver</span> resolver <span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>handlerExceptionResolvers<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        exMv <span class="token operator">=</span> resolver<span class="token punctuation">.</span><span class="token function">resolveException</span><span class="token punctuation">(</span>request<span class="token punctuation">,</span> response<span class="token punctuation">,</span> handler<span class="token punctuation">,</span> ex<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>exMv <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ç»è¿‡è°ƒè¯•ï¼šå‡ºç°ä¸‰ä¸ªå¼‚å¸¸å¤„ç†ç±»ï¼š</p><ul><li><strong>ExceptionHandlerExceptionResolver</strong></li><li><strong>ResponseStatusExceptionResolver</strong></li><li><strong>DefaultHandlerExceptionResolver</strong></li></ul><figure><img src="/Computer-Science-Learn-Notes/assets/0ed22c29-9bc2-4ee5-99e8-be9492fc9686-8a1299b9.webp" alt="0ed22c29-9bc2-4ee5-99e8-be9492fc9686" tabindex="0" loading="lazy"><figcaption>0ed22c29-9bc2-4ee5-99e8-be9492fc9686</figcaption></figure><p>åœ¨DefaultHandlerExceptionResolverä¸­å°±æœ‰ä¸€äº›é»˜è®¤çš„å¤„ç†æœºåˆ¶</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">if</span> <span class="token punctuation">(</span>ex <span class="token keyword">instanceof</span> <span class="token class-name">HttpRequestMethodNotSupportedException</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token function">handleHttpRequestMethodNotSupported</span><span class="token punctuation">(</span>
        <span class="token punctuation">(</span><span class="token class-name">HttpRequestMethodNotSupportedException</span><span class="token punctuation">)</span> ex<span class="token punctuation">,</span> request<span class="token punctuation">,</span> response<span class="token punctuation">,</span> handler<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>ex <span class="token keyword">instanceof</span> <span class="token class-name">HttpMediaTypeNotSupportedException</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token function">handleHttpMediaTypeNotSupported</span><span class="token punctuation">(</span>
        <span class="token punctuation">(</span><span class="token class-name">HttpMediaTypeNotSupportedException</span><span class="token punctuation">)</span> ex<span class="token punctuation">,</span> request<span class="token punctuation">,</span> response<span class="token punctuation">,</span> handler<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>ex <span class="token keyword">instanceof</span> <span class="token class-name">HttpMediaTypeNotAcceptableException</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token function">handleHttpMediaTypeNotAcceptable</span><span class="token punctuation">(</span>
        <span class="token punctuation">(</span><span class="token class-name">HttpMediaTypeNotAcceptableException</span><span class="token punctuation">)</span> ex<span class="token punctuation">,</span> request<span class="token punctuation">,</span> response<span class="token punctuation">,</span> handler<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>ex <span class="token keyword">instanceof</span> <span class="token class-name">MissingPathVariableException</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token function">handleMissingPathVariable</span><span class="token punctuation">(</span>
        <span class="token punctuation">(</span><span class="token class-name">MissingPathVariableException</span><span class="token punctuation">)</span> ex<span class="token punctuation">,</span> request<span class="token punctuation">,</span> response<span class="token punctuation">,</span> handler<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>ex <span class="token keyword">instanceof</span> <span class="token class-name">MissingServletRequestParameterException</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token function">handleMissingServletRequestParameter</span><span class="token punctuation">(</span>
        <span class="token punctuation">(</span><span class="token class-name">MissingServletRequestParameterException</span><span class="token punctuation">)</span> ex<span class="token punctuation">,</span> request<span class="token punctuation">,</span> response<span class="token punctuation">,</span> handler<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>ex <span class="token keyword">instanceof</span> <span class="token class-name">ServletRequestBindingException</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token function">handleServletRequestBindingException</span><span class="token punctuation">(</span>
        <span class="token punctuation">(</span><span class="token class-name">ServletRequestBindingException</span><span class="token punctuation">)</span> ex<span class="token punctuation">,</span> request<span class="token punctuation">,</span> response<span class="token punctuation">,</span> handler<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>ex <span class="token keyword">instanceof</span> <span class="token class-name">ConversionNotSupportedException</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token function">handleConversionNotSupported</span><span class="token punctuation">(</span>
        <span class="token punctuation">(</span><span class="token class-name">ConversionNotSupportedException</span><span class="token punctuation">)</span> ex<span class="token punctuation">,</span> request<span class="token punctuation">,</span> response<span class="token punctuation">,</span> handler<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>ex <span class="token keyword">instanceof</span> <span class="token class-name">TypeMismatchException</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token function">handleTypeMismatch</span><span class="token punctuation">(</span>
        <span class="token punctuation">(</span><span class="token class-name">TypeMismatchException</span><span class="token punctuation">)</span> ex<span class="token punctuation">,</span> request<span class="token punctuation">,</span> response<span class="token punctuation">,</span> handler<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>ex <span class="token keyword">instanceof</span> <span class="token class-name">HttpMessageNotReadableException</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token function">handleHttpMessageNotReadable</span><span class="token punctuation">(</span>
        <span class="token punctuation">(</span><span class="token class-name">HttpMessageNotReadableException</span><span class="token punctuation">)</span> ex<span class="token punctuation">,</span> request<span class="token punctuation">,</span> response<span class="token punctuation">,</span> handler<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>ex <span class="token keyword">instanceof</span> <span class="token class-name">HttpMessageNotWritableException</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token function">handleHttpMessageNotWritable</span><span class="token punctuation">(</span>
        <span class="token punctuation">(</span><span class="token class-name">HttpMessageNotWritableException</span><span class="token punctuation">)</span> ex<span class="token punctuation">,</span> request<span class="token punctuation">,</span> response<span class="token punctuation">,</span> handler<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>ex <span class="token keyword">instanceof</span> <span class="token class-name">MethodArgumentNotValidException</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token function">handleMethodArgumentNotValidException</span><span class="token punctuation">(</span>
        <span class="token punctuation">(</span><span class="token class-name">MethodArgumentNotValidException</span><span class="token punctuation">)</span> ex<span class="token punctuation">,</span> request<span class="token punctuation">,</span> response<span class="token punctuation">,</span> handler<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>ex <span class="token keyword">instanceof</span> <span class="token class-name">MissingServletRequestPartException</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token function">handleMissingServletRequestPartException</span><span class="token punctuation">(</span>
        <span class="token punctuation">(</span><span class="token class-name">MissingServletRequestPartException</span><span class="token punctuation">)</span> ex<span class="token punctuation">,</span> request<span class="token punctuation">,</span> response<span class="token punctuation">,</span> handler<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>ex <span class="token keyword">instanceof</span> <span class="token class-name">BindException</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token function">handleBindException</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token class-name">BindException</span><span class="token punctuation">)</span> ex<span class="token punctuation">,</span> request<span class="token punctuation">,</span> response<span class="token punctuation">,</span> handler<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>ex <span class="token keyword">instanceof</span> <span class="token class-name">NoHandlerFoundException</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token function">handleNoHandlerFoundException</span><span class="token punctuation">(</span>
        <span class="token punctuation">(</span><span class="token class-name">NoHandlerFoundException</span><span class="token punctuation">)</span> ex<span class="token punctuation">,</span> request<span class="token punctuation">,</span> response<span class="token punctuation">,</span> handler<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>ex <span class="token keyword">instanceof</span> <span class="token class-name">AsyncRequestTimeoutException</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token function">handleAsyncRequestTimeoutException</span><span class="token punctuation">(</span>
        <span class="token punctuation">(</span><span class="token class-name">AsyncRequestTimeoutException</span><span class="token punctuation">)</span> ex<span class="token punctuation">,</span> request<span class="token punctuation">,</span> response<span class="token punctuation">,</span> handler<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="handlerexceptionresolverçš„å®ç°ç±»" tabindex="-1"><a class="header-anchor" href="#handlerexceptionresolverçš„å®ç°ç±»" aria-hidden="true">#</a> HandlerExceptionResolverçš„å®ç°ç±»</h3><figure><img src="/Computer-Science-Learn-Notes/assets/e7578ded-3cdb-4d6c-94d8-788e39ab6845-cd4bae42.webp" alt="e7578ded-3cdb-4d6c-94d8-788e39ab6845" tabindex="0" loading="lazy"><figcaption>e7578ded-3cdb-4d6c-94d8-788e39ab6845</figcaption></figure><p>ä½¿ç”¨SimpleMappingExceptionResolverè¿›è¡Œé…ç½®å¼‚å¸¸</p><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token comment">&lt;!--    åŒºåŸŸä¿¡æ¯ä»sessionä¸­æ‹¿--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>org.springframework.web.servlet.i18n.SessionLocaleResolver<span class="token punctuation">&quot;</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>localeResolver<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>org.springframework.web.servlet.handler.SimpleMappingExceptionResolver<span class="token punctuation">&quot;</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>exceptionResolver<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>exceptionMappings<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>props</span><span class="token punctuation">&gt;</span></span>
            <span class="token comment">&lt;!--                key å¼‚å¸¸çš„å…¨ç±»å value è¦å»é¡µé¢çš„è§†å›¾å--&gt;</span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>prop</span> <span class="token attr-name">key</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>java.lang.NullPointerException<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>myerror<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>prop</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>props</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!--        æŒ‡å®šé”™è¯¯ä¿¡æ¯å–å‡ºæ—¶çš„å€¼--&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>exceptionAttribute<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ex<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p exception="">å‰ç«¯ï¼šå¦‚æœæŒ‡å®šäº†exceptionAttributeï¼Œå°±å¯ä»¥ç”¨exï¼Œå¦‚æœä¸æŒ‡å®šå°±ç”¨$</p><div class="language-html line-numbers-mode" data-ext="html"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span>Error<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">&gt;</span></span>${ex}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h3</span><span class="token punctuation">&gt;</span></span>${exception}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h3</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æ³¨æ„ï¼šå¦‚æœå…¨å±€æŒ‡å®šäº†Exceptionï¼Œå°±ä¸ä¼šæ‰§è¡ŒSimpleMappingExceptionResolver</p><p>åŒæ ·çš„è°ƒè¯•ä½ç½®ï¼Œæœ€åå¤„ç†çš„æ˜¯SimpleMappingExceptionResolver</p><figure><img src="/Computer-Science-Learn-Notes/assets/d897564b-ad6a-40ec-95d1-91d1fabe74ac-bdd7b0e6.webp" alt="d897564b-ad6a-40ec-95d1-91d1fabe74ac" tabindex="0" loading="lazy"><figcaption>d897564b-ad6a-40ec-95d1-91d1fabe74ac</figcaption></figure><h2 id="ã€å°ç»“ã€‘springmvcçš„è¿è¡Œæµç¨‹" tabindex="-1"><a class="header-anchor" href="#ã€å°ç»“ã€‘springmvcçš„è¿è¡Œæµç¨‹" aria-hidden="true">#</a> ã€å°ç»“ã€‘SpringMVCçš„è¿è¡Œæµç¨‹</h2><h4 id="_1-æ‰€æœ‰è¯·æ±‚-å‰ç«¯æ§åˆ¶å™¨-dispatcherservlet-è°ƒç”¨dodispatchè¿›è¡Œå¤„ç†" tabindex="-1"><a class="header-anchor" href="#_1-æ‰€æœ‰è¯·æ±‚-å‰ç«¯æ§åˆ¶å™¨-dispatcherservlet-è°ƒç”¨dodispatchè¿›è¡Œå¤„ç†" aria-hidden="true">#</a> 1. æ‰€æœ‰è¯·æ±‚ï¼Œå‰ç«¯æ§åˆ¶å™¨ï¼ˆDispatcherServletï¼‰è°ƒç”¨doDispatchè¿›è¡Œå¤„ç†</h4><h4 id="_2-æ ¹æ®handlermappingçš„è¯·æ±‚åº”è‰²å·ä¿¡æ¯æ‰¾åˆ°-å¤„ç†å½“å‰çš„è¯·æ±‚-å¤„ç†æ‰§è¡Œé“¾" tabindex="-1"><a class="header-anchor" href="#_2-æ ¹æ®handlermappingçš„è¯·æ±‚åº”è‰²å·ä¿¡æ¯æ‰¾åˆ°-å¤„ç†å½“å‰çš„è¯·æ±‚-å¤„ç†æ‰§è¡Œé“¾" aria-hidden="true">#</a> 2. æ ¹æ®HandlerMappingçš„è¯·æ±‚åº”è‰²å·ä¿¡æ¯æ‰¾åˆ°ï¼Œå¤„ç†å½“å‰çš„è¯·æ±‚ï¼Œå¤„ç†æ‰§è¡Œé“¾</h4><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code>mappedHandler <span class="token operator">=</span> <span class="token function">getHandler</span><span class="token punctuation">(</span>processedRequest<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h4 id="_3-æ ¹æ®å½“å‰å¤„ç†å™¨æ‰¾åˆ°å®ƒçš„é€‚é…å™¨" tabindex="-1"><a class="header-anchor" href="#_3-æ ¹æ®å½“å‰å¤„ç†å™¨æ‰¾åˆ°å®ƒçš„é€‚é…å™¨" aria-hidden="true">#</a> 3. æ ¹æ®å½“å‰å¤„ç†å™¨æ‰¾åˆ°å®ƒçš„é€‚é…å™¨</h4><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token class-name">HandlerAdapter</span> ha <span class="token operator">=</span> <span class="token function">getHandlerAdapter</span><span class="token punctuation">(</span>mappedHandler<span class="token punctuation">.</span><span class="token function">getHandler</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h4 id="_4-æ‹¦æˆªå™¨çš„prehandlerå…ˆæ‰§è¡Œ" tabindex="-1"><a class="header-anchor" href="#_4-æ‹¦æˆªå™¨çš„prehandlerå…ˆæ‰§è¡Œ" aria-hidden="true">#</a> 4. æ‹¦æˆªå™¨çš„preHandlerå…ˆæ‰§è¡Œ</h4><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>mappedHandler<span class="token punctuation">.</span><span class="token function">applyPreHandle</span><span class="token punctuation">(</span>processedRequest<span class="token punctuation">,</span> response<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_5-é€‚é…å™¨æ‰§è¡Œç›®æ ‡æ–¹æ³•-è¿”å›modelandview" tabindex="-1"><a class="header-anchor" href="#_5-é€‚é…å™¨æ‰§è¡Œç›®æ ‡æ–¹æ³•-è¿”å›modelandview" aria-hidden="true">#</a> 5. é€‚é…å™¨æ‰§è¡Œç›®æ ‡æ–¹æ³•ï¼Œè¿”å›ModelAndView</h4><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code>mv <span class="token operator">=</span> ha<span class="token punctuation">.</span><span class="token function">handle</span><span class="token punctuation">(</span>processedRequest<span class="token punctuation">,</span> response<span class="token punctuation">,</span> mappedHandler<span class="token punctuation">.</span><span class="token function">getHandler</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h4 id="_6-æ‹¦æˆªå™¨çš„posthandleræ‰§è¡Œ" tabindex="-1"><a class="header-anchor" href="#_6-æ‹¦æˆªå™¨çš„posthandleræ‰§è¡Œ" aria-hidden="true">#</a> 6. æ‹¦æˆªå™¨çš„postHandleræ‰§è¡Œ</h4><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code>mappedHandler<span class="token punctuation">.</span><span class="token function">applyPostHandle</span><span class="token punctuation">(</span>processedRequest<span class="token punctuation">,</span> response<span class="token punctuation">,</span> mv<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h4 id="_7-æ¸²æŸ“é¡µé¢-å¤„ç†ç»“æœ" tabindex="-1"><a class="header-anchor" href="#_7-æ¸²æŸ“é¡µé¢-å¤„ç†ç»“æœ" aria-hidden="true">#</a> 7. æ¸²æŸ“é¡µé¢ï¼Œå¤„ç†ç»“æœ</h4><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token function">processDispatchResult</span><span class="token punctuation">(</span>processedRequest<span class="token punctuation">,</span> response<span class="token punctuation">,</span> mappedHandler<span class="token punctuation">,</span> mv<span class="token punctuation">,</span> dispatchException<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>ï¼ˆ1ï¼‰processDispatchResultå¦‚æœæœ‰å¼‚å¸¸ï¼Œå…ˆå¤„ç†å¼‚å¸¸</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token class-name">Object</span> handler <span class="token operator">=</span> <span class="token punctuation">(</span>mappedHandler <span class="token operator">!=</span> <span class="token keyword">null</span> <span class="token operator">?</span> mappedHandler<span class="token punctuation">.</span><span class="token function">getHandler</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>ï¼ˆ2ï¼‰å¤„ç†å®Œæˆåæ¥ç€è¿”å›ModelAndView</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code>mv <span class="token operator">=</span> <span class="token function">processHandlerException</span><span class="token punctuation">(</span>request<span class="token punctuation">,</span> response<span class="token punctuation">,</span> handler<span class="token punctuation">,</span> exception<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>ï¼ˆ3ï¼‰æ¸²æŸ“è§†å›¾</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token function">render</span><span class="token punctuation">(</span>mv<span class="token punctuation">,</span> request<span class="token punctuation">,</span> response<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><figure><img src="/Computer-Science-Learn-Notes/assets/43de9505-cdc5-4593-9f65-94086766ed1a-d1c85791.webp" alt="43de9505-cdc5-4593-9f65-94086766ed1a" tabindex="0" loading="lazy"><figcaption>43de9505-cdc5-4593-9f65-94086766ed1a</figcaption></figure><h2 id="springmvcå’Œspringçš„æ•´åˆ-åˆ†å·¥æ˜ç¡®" tabindex="-1"><a class="header-anchor" href="#springmvcå’Œspringçš„æ•´åˆ-åˆ†å·¥æ˜ç¡®" aria-hidden="true">#</a> SpringMVCå’ŒSpringçš„æ•´åˆï¼ˆåˆ†å·¥æ˜ç¡®ï¼‰</h2><p>Springé…ç½®ä¸šåŠ¡æœ‰å…³ï¼ˆäº‹åŠ¡æ§åˆ¶ã€æ•°æ®æº...ï¼‰</p><p>SpringMVCé…ç½®ç½‘ç«™é€»è¾‘å’ŒåŠŸèƒ½ï¼ˆè§†å›¾è§£æå™¨ï¼Œæ–‡ä»¶ä¸Šä¼ è§£æå™¨ï¼Œæ”¯æŒAJAX...ï¼‰</p><h3 id="åˆå¹¶" tabindex="-1"><a class="header-anchor" href="#åˆå¹¶" aria-hidden="true">#</a> åˆå¹¶</h3><p>åœ¨SpringMVCä¸­å¯¼å…¥Springé…ç½®æ–‡ä»¶</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>&lt;import resource=&quot;spring.xml&quot; /&gt;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="åˆ†å®¹å™¨" tabindex="-1"><a class="header-anchor" href="#åˆ†å®¹å™¨" aria-hidden="true">#</a> åˆ†å®¹å™¨</h3></div><!----><footer class="page-meta"><div class="meta-item edit-link"><a href="https://github.com/zhiyu1998/Computer-Science-Learn-Notes/edit/main/demo/theme-docs/src/Java/fm/SpringMVC.md" rel="noopener noreferrer" target="_blank" aria-label="åœ¨ GitHub ä¸Šç¼–è¾‘æ­¤é¡µ" class="nav-link label"><!--[--><svg xmlns="http://www.w3.org/2000/svg" class="icon edit-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="edit icon"><path d="M430.818 653.65a60.46 60.46 0 0 1-50.96-93.281l71.69-114.012 7.773-10.365L816.038 80.138A60.46 60.46 0 0 1 859.225 62a60.46 60.46 0 0 1 43.186 18.138l43.186 43.186a60.46 60.46 0 0 1 0 86.373L588.879 565.55l-8.637 8.637-117.466 68.234a60.46 60.46 0 0 1-31.958 11.229z"></path><path d="M728.802 962H252.891A190.883 190.883 0 0 1 62.008 771.98V296.934a190.883 190.883 0 0 1 190.883-192.61h267.754a60.46 60.46 0 0 1 0 120.92H252.891a69.962 69.962 0 0 0-69.098 69.099V771.98a69.962 69.962 0 0 0 69.098 69.098h475.911A69.962 69.962 0 0 0 797.9 771.98V503.363a60.46 60.46 0 1 1 120.922 0V771.98A190.883 190.883 0 0 1 728.802 962z"></path></svg><!--]-->åœ¨ GitHub ä¸Šç¼–è¾‘æ­¤é¡µ<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!----></a></div><div class="meta-item git-info"><div class="update-time"><span class="label">ä¸Šæ¬¡ç¼–è¾‘äº: </span><!----></div><div class="contributors"><span class="label">è´¡çŒ®è€…: </span><!--[--><!--[--><span class="contributor" title="email: 542716863@qq.com">RrOrange</span><!--]--><!--]--></div></div></footer><nav class="page-nav"><a href="/Computer-Science-Learn-Notes/Java/fm/Spring.html" class="nav-link prev" aria-label="Spring"><div class="hint"><span class="arrow start"></span>ä¸Šä¸€é¡µ</div><div class="link"><!---->Spring</div></a><a href="/Computer-Science-Learn-Notes/Java/fm/Mybatis.html" class="nav-link next" aria-label="Mybatis"><div class="hint">ä¸‹ä¸€é¡µ<span class="arrow end"></span></div><div class="link">Mybatis<!----></div></a></nav><!----><!----><!--]--></main><!--]--><footer class="footer-wrapper"><div class="footer">é»˜è®¤é¡µè„š</div><div class="copyright">Copyright Â© 2023 zhiyu1998</div></footer></div><!--]--><!----><!----><!----><!--]--></div>
    <script type="module" src="/Computer-Science-Learn-Notes/assets/app-43b96cf9.js" defer></script>
  </body>
</html>
