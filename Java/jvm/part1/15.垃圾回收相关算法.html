<!DOCTYPE html>
<html lang="zh-CN" data-theme="light">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-beta.61" />
    <meta name="theme" content="VuePress Theme Hope" />
    <meta property="og:url" content="https://zhiyu1998.github.io/Computer-Science-Learn-Notes/Computer-Science-Learn-Notes/Java/jvm/part1/15.%E5%9E%83%E5%9C%BE%E5%9B%9E%E6%94%B6%E7%9B%B8%E5%85%B3%E7%AE%97%E6%B3%95.html"><meta property="og:site_name" content="CSLN"><meta property="og:title" content="åƒåœ¾å›æ”¶ç›¸å…³ç®—æ³•"><meta property="og:description" content="[TOC] åƒåœ¾æ ‡è®°é˜¶æ®µï¼šå¯¹è±¡å­˜æ´»åˆ¤æ–­ åœ¨å †é‡Œå­˜æ”¾ç€å‡ ä¹æ‰€æœ‰çš„ Java å¯¹è±¡å®ä¾‹ï¼Œåœ¨ GC æ‰§è¡Œåƒåœ¾å›æ”¶ä¹‹å‰ï¼Œé¦–å…ˆéœ€è¦åŒºåˆ†å‡ºå†…å­˜ä¸­å“ªäº›æ˜¯å­˜æ´»å¯¹è±¡ï¼Œå“ªäº›æ˜¯å·²ç»æ­»äº¡çš„å¯¹è±¡ã€‚åªæœ‰è¢«æ ‡è®°ä¸ºå·±ç»æ­»äº¡çš„å¯¹è±¡ï¼ŒGC æ‰ä¼šåœ¨æ‰§è¡Œåƒåœ¾å›æ”¶æ—¶ï¼Œé‡Šæ”¾æ‰å…¶æ‰€å ç”¨çš„å†…å­˜ç©ºé—´ï¼Œå› æ­¤è¿™ä¸ªè¿‡ç¨‹æˆ‘ä»¬å¯ä»¥ç§°ä¸ºåƒåœ¾æ ‡è®°é˜¶æ®µã€‚; é‚£ä¹ˆåœ¨ JVM ä¸­ç©¶ç«Ÿæ˜¯å¦‚ä½•æ ‡è®°ä¸€ä¸ªæ­»äº¡å¯¹è±¡å‘¢ï¼Ÿç®€å•æ¥è¯´ï¼Œå½“..."><meta property="og:type" content="article"><meta property="og:image" content="https://zhiyu1998.github.io/Computer-Science-Learn-Notes/Computer-Science-Learn-Notes/"><meta property="og:locale" content="zh-CN"><meta property="og:updated_time" content="2023-04-04T15:12:04.000Z"><meta name="twitter:card" content="summary_large_image"><meta name="twitter:image:alt" content="åƒåœ¾å›æ”¶ç›¸å…³ç®—æ³•"><meta property="article:author" content="zhiyu1998"><meta property="article:tag" content="JVMä¸Šç¯‡"><meta property="article:modified_time" content="2023-04-04T15:12:04.000Z"><script type="application/ld+json">{"@context":"https://schema.org","@type":"Article","headline":"åƒåœ¾å›æ”¶ç›¸å…³ç®—æ³•","image":["https://zhiyu1998.github.io/Computer-Science-Learn-Notes/Computer-Science-Learn-Notes/"],"dateModified":"2023-04-04T15:12:04.000Z","author":[{"@type":"Person","name":"zhiyu1998","url":"https://github.com/zhiyu1998"}]}</script><link rel="manifest" href="/Computer-Science-Learn-Notes/manifest.webmanifest" crossorigin="use-credentials"><meta name="theme-color" content="#46bd87"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover"><title>åƒåœ¾å›æ”¶ç›¸å…³ç®—æ³• | CSLN</title><meta name="description" content="[TOC] åƒåœ¾æ ‡è®°é˜¶æ®µï¼šå¯¹è±¡å­˜æ´»åˆ¤æ–­ åœ¨å †é‡Œå­˜æ”¾ç€å‡ ä¹æ‰€æœ‰çš„ Java å¯¹è±¡å®ä¾‹ï¼Œåœ¨ GC æ‰§è¡Œåƒåœ¾å›æ”¶ä¹‹å‰ï¼Œé¦–å…ˆéœ€è¦åŒºåˆ†å‡ºå†…å­˜ä¸­å“ªäº›æ˜¯å­˜æ´»å¯¹è±¡ï¼Œå“ªäº›æ˜¯å·²ç»æ­»äº¡çš„å¯¹è±¡ã€‚åªæœ‰è¢«æ ‡è®°ä¸ºå·±ç»æ­»äº¡çš„å¯¹è±¡ï¼ŒGC æ‰ä¼šåœ¨æ‰§è¡Œåƒåœ¾å›æ”¶æ—¶ï¼Œé‡Šæ”¾æ‰å…¶æ‰€å ç”¨çš„å†…å­˜ç©ºé—´ï¼Œå› æ­¤è¿™ä¸ªè¿‡ç¨‹æˆ‘ä»¬å¯ä»¥ç§°ä¸ºåƒåœ¾æ ‡è®°é˜¶æ®µã€‚; é‚£ä¹ˆåœ¨ JVM ä¸­ç©¶ç«Ÿæ˜¯å¦‚ä½•æ ‡è®°ä¸€ä¸ªæ­»äº¡å¯¹è±¡å‘¢ï¼Ÿç®€å•æ¥è¯´ï¼Œå½“...">
    <style>
      :root {
        --bg-color: #fff;
      }

      html[data-theme="dark"] {
        --bg-color: #1d1e1f;
      }

      html,
      body {
        background: var(--bg-color);
      }
    </style>
    <script>
      const userMode = localStorage.getItem("vuepress-theme-hope-scheme");
      const systemDarkMode =
        window.matchMedia &&
        window.matchMedia("(prefers-color-scheme: dark)").matches;

      if (userMode === "dark" || (userMode !== "light" && systemDarkMode)) {
        document.documentElement.setAttribute("data-theme", "dark");
      }
    </script>
    <link rel="preload" href="/Computer-Science-Learn-Notes/assets/style-a5be085c.css" as="style"><link rel="stylesheet" href="/Computer-Science-Learn-Notes/assets/style-a5be085c.css">
    <link rel="modulepreload" href="/Computer-Science-Learn-Notes/assets/app-7cb037a5.js"><link rel="modulepreload" href="/Computer-Science-Learn-Notes/assets/framework-c8643d23.js"><link rel="modulepreload" href="/Computer-Science-Learn-Notes/assets/15.åƒåœ¾å›æ”¶ç›¸å…³ç®—æ³•.html-67fc3254.js"><link rel="modulepreload" href="/Computer-Science-Learn-Notes/assets/15.åƒåœ¾å›æ”¶ç›¸å…³ç®—æ³•.html-88002ad5.js">
  </head>
  <body>
    <div id="app"><!--[--><!--[--><!--[--><span tabindex="-1"></span><a href="#main-content" class="skip-link sr-only">è·³è‡³ä¸»è¦å…§å®¹</a><!--]--><div class="theme-container has-toc"><!--[--><header class="navbar" id="navbar"><div class="navbar-start"><button type="button" class="toggle-sidebar-button" title="Toggle Sidebar"><span class="icon"></span></button><!--[--><!----><!--]--><a href="/Computer-Science-Learn-Notes/" class="brand"><img class="logo" src="/Computer-Science-Learn-Notes/logo.svg" alt="CSLN"><!----><span class="site-name hide-in-pad">CSLN</span></a><!--[--><!----><!--]--></div><div class="navbar-center"><!--[--><!----><!--]--><nav class="nav-links"><div class="nav-item hide-in-mobile"><a href="/Computer-Science-Learn-Notes/" class="nav-link" aria-label="ä¸»é¡µ"><span class="font-icon icon iconfont icon-home" style=""></span>ä¸»é¡µ<!----></a></div><div class="nav-item hide-in-mobile"><a href="/Computer-Science-Learn-Notes/intro/" class="nav-link" aria-label="å¯¼è¯»"><span class="font-icon icon iconfont icon-discover" style=""></span>å¯¼è¯»<!----></a></div><div class="nav-item hide-in-mobile"><a href="https://github.com/zhiyu1998/Computer-Science-Learn-Notes/issues" rel="noopener noreferrer" target="_blank" aria-label="é—®é¢˜åé¦ˆ" class="nav-link"><span class="font-icon icon iconfont icon-note" style=""></span>é—®é¢˜åé¦ˆ<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!----></a></div></nav><!--[--><!----><!--]--></div><div class="navbar-end"><!--[--><!----><!--]--><!----><div class="nav-item"><a class="repo-link" href="https://github.com/zhiyu1998/Computer-Science-Learn-Notes" target="_blank" rel="noopener noreferrer" aria-label="GitHub"><svg xmlns="http://www.w3.org/2000/svg" class="icon github-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="github icon" style="width:1.25rem;height:1.25rem;vertical-align:middle;"><path d="M511.957 21.333C241.024 21.333 21.333 240.981 21.333 512c0 216.832 140.544 400.725 335.574 465.664 24.49 4.395 32.256-10.07 32.256-23.083 0-11.69.256-44.245 0-85.205-136.448 29.61-164.736-64.64-164.736-64.64-22.315-56.704-54.4-71.765-54.4-71.765-44.587-30.464 3.285-29.824 3.285-29.824 49.195 3.413 75.179 50.517 75.179 50.517 43.776 75.008 114.816 53.333 142.762 40.79 4.523-31.66 17.152-53.377 31.19-65.537-108.971-12.458-223.488-54.485-223.488-242.602 0-53.547 19.114-97.323 50.517-131.67-5.035-12.33-21.93-62.293 4.779-129.834 0 0 41.258-13.184 134.912 50.346a469.803 469.803 0 0 1 122.88-16.554c41.642.213 83.626 5.632 122.88 16.554 93.653-63.488 134.784-50.346 134.784-50.346 26.752 67.541 9.898 117.504 4.864 129.834 31.402 34.347 50.474 78.123 50.474 131.67 0 188.586-114.73 230.016-224.042 242.09 17.578 15.232 33.578 44.672 33.578 90.454v135.85c0 13.142 7.936 27.606 32.854 22.87C862.25 912.597 1002.667 728.747 1002.667 512c0-271.019-219.648-490.667-490.71-490.667z"></path></svg></a></div><div class="nav-item hide-in-mobile"><button type="button" id="appearance-switch"><svg xmlns="http://www.w3.org/2000/svg" class="icon auto-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="auto icon" style="display:block;"><path d="M512 992C246.92 992 32 777.08 32 512S246.92 32 512 32s480 214.92 480 480-214.92 480-480 480zm0-840c-198.78 0-360 161.22-360 360 0 198.84 161.22 360 360 360s360-161.16 360-360c0-198.78-161.22-360-360-360zm0 660V212c165.72 0 300 134.34 300 300 0 165.72-134.28 300-300 300z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon dark-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="dark icon" style="display:none;"><path d="M524.8 938.667h-4.267a439.893 439.893 0 0 1-313.173-134.4 446.293 446.293 0 0 1-11.093-597.334A432.213 432.213 0 0 1 366.933 90.027a42.667 42.667 0 0 1 45.227 9.386 42.667 42.667 0 0 1 10.24 42.667 358.4 358.4 0 0 0 82.773 375.893 361.387 361.387 0 0 0 376.747 82.774 42.667 42.667 0 0 1 54.187 55.04 433.493 433.493 0 0 1-99.84 154.88 438.613 438.613 0 0 1-311.467 128z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon light-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="light icon" style="display:none;"><path d="M952 552h-80a40 40 0 0 1 0-80h80a40 40 0 0 1 0 80zM801.88 280.08a41 41 0 0 1-57.96-57.96l57.96-58a41.04 41.04 0 0 1 58 58l-58 57.96zM512 752a240 240 0 1 1 0-480 240 240 0 0 1 0 480zm0-560a40 40 0 0 1-40-40V72a40 40 0 0 1 80 0v80a40 40 0 0 1-40 40zm-289.88 88.08-58-57.96a41.04 41.04 0 0 1 58-58l57.96 58a41 41 0 0 1-57.96 57.96zM192 512a40 40 0 0 1-40 40H72a40 40 0 0 1 0-80h80a40 40 0 0 1 40 40zm30.12 231.92a41 41 0 0 1 57.96 57.96l-57.96 58a41.04 41.04 0 0 1-58-58l58-57.96zM512 832a40 40 0 0 1 40 40v80a40 40 0 0 1-80 0v-80a40 40 0 0 1 40-40zm289.88-88.08 58 57.96a41.04 41.04 0 0 1-58 58l-57.96-58a41 41 0 0 1 57.96-57.96z"></path></svg></button></div><!--[--><button type="button" class="search-pro-button" role="search" aria-label="æœç´¢"><svg xmlns="http://www.w3.org/2000/svg" class="icon search-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="search icon"><path d="M192 480a256 256 0 1 1 512 0 256 256 0 0 1-512 0m631.776 362.496-143.2-143.168A318.464 318.464 0 0 0 768 480c0-176.736-143.264-320-320-320S128 303.264 128 480s143.264 320 320 320a318.016 318.016 0 0 0 184.16-58.592l146.336 146.368c12.512 12.48 32.768 12.48 45.28 0 12.48-12.512 12.48-32.768 0-45.28"></path></svg><div class="placeholder">æœç´¢</div><div class="key-hints"><kbd class="key">Ctrl</kbd><kbd class="key">K</kbd></div></button><!--]--><!--[--><!----><!--]--><button type="button" class="toggle-navbar-button" aria-label="Toggle Navbar" aria-expanded="false" aria-controls="nav-screen"><span class="button-container"><span class="button-top"></span><span class="button-middle"></span><span class="button-bottom"></span></span></button></div></header><!----><!--]--><!----><div class="toggle-sidebar-wrapper"><span class="arrow start"></span></div><aside class="sidebar" id="sidebar"><!--[--><!----><!--]--><ul class="sidebar-links"><li><section class="sidebar-group"><button class="sidebar-heading clickable" type="button"><span class="font-icon icon iconfont icon-build" style=""></span><span class="title">è®¡ç®—æœºåŸºç¡€</span><span class="arrow end"></span></button><!----></section></li><li><section class="sidebar-group"><button class="sidebar-heading clickable" type="button"><span class="font-icon icon iconfont icon-vscode" style=""></span><span class="title">å‰ç«¯</span><span class="arrow end"></span></button><!----></section></li><li><section class="sidebar-group"><button class="sidebar-heading clickable" type="button"><span class="font-icon icon iconfont icon-timer" style=""></span><span class="title">Golang</span><span class="arrow end"></span></button><!----></section></li><li><section class="sidebar-group"><button class="sidebar-heading clickable" type="button"><span class="font-icon icon iconfont icon-light" style=""></span><span class="title">Rust</span><span class="arrow end"></span></button><!----></section></li><li><section class="sidebar-group"><button class="sidebar-heading clickable active" type="button"><span class="font-icon icon iconfont icon-java" style=""></span><span class="title">Java</span><span class="arrow down"></span></button><ul class="sidebar-links"><li><section class="sidebar-group"><button class="sidebar-heading clickable" type="button"><span class="font-icon icon iconfont icon-activity" style=""></span><span class="title">åŸºç¡€</span><span class="arrow end"></span></button><!----></section></li><li><section class="sidebar-group"><button class="sidebar-heading clickable" type="button"><span class="font-icon icon iconfont icon-branch" style=""></span><span class="title">å¹¶å‘</span><span class="arrow end"></span></button><!----></section></li><li><section class="sidebar-group"><button class="sidebar-heading clickable" type="button"><span class="font-icon icon iconfont icon-profile" style=""></span><span class="title">é¢è¯•</span><span class="arrow end"></span></button><!----></section></li><li><section class="sidebar-group"><button class="sidebar-heading clickable" type="button"><span class="font-icon icon iconfont icon-leaf" style=""></span><span class="title">æ¡†æ¶</span><span class="arrow end"></span></button><!----></section></li><li><section class="sidebar-group"><button class="sidebar-heading clickable active" type="button"><span class="font-icon icon iconfont icon-async" style=""></span><span class="title">è™šæ‹Ÿæœº</span><span class="arrow down"></span></button><ul class="sidebar-links"><li><!--[--><a href="/Computer-Science-Learn-Notes/Java/jvm/part1/1.%E7%AE%80%E4%BB%8B.html" class="nav-link sidebar-link sidebar-page" aria-label="ç®€ä»‹"><!---->ç®€ä»‹<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/Computer-Science-Learn-Notes/Java/jvm/part1/2.%E7%B1%BB%E5%8A%A0%E8%BD%BD%E5%AD%90%E7%B3%BB%E7%BB%9F.html" class="nav-link sidebar-link sidebar-page" aria-label="ç±»åŠ è½½å­ç³»ç»Ÿ"><!---->ç±»åŠ è½½å­ç³»ç»Ÿ<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/Computer-Science-Learn-Notes/Java/jvm/part1/3.%E8%BF%90%E8%A1%8C%E6%97%B6%E6%95%B0%E6%8D%AE%E5%8C%BA.html" class="nav-link sidebar-link sidebar-page" aria-label="è¿è¡Œæ—¶æ•°æ®åŒº"><!---->è¿è¡Œæ—¶æ•°æ®åŒº<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/Computer-Science-Learn-Notes/Java/jvm/part1/4.%E7%A8%8B%E5%BA%8F%E8%AE%A1%E6%95%B0%E5%99%A8%EF%BC%88PC%E5%AF%84%E5%AD%98%E5%99%A8%EF%BC%89.html" class="nav-link sidebar-link sidebar-page" aria-label="ç¨‹åºè®¡æ•°å™¨"><!---->ç¨‹åºè®¡æ•°å™¨<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/Computer-Science-Learn-Notes/Java/jvm/part1/5.%E8%99%9A%E6%8B%9F%E6%9C%BA%E6%A0%88.html" class="nav-link sidebar-link sidebar-page" aria-label="è™šæ‹Ÿæœºæ ˆ"><!---->è™šæ‹Ÿæœºæ ˆ<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/Computer-Science-Learn-Notes/Java/jvm/part1/6.%E6%9C%AC%E5%9C%B0%E6%96%B9%E6%B3%95%E6%8E%A5%E5%8F%A3.html" class="nav-link sidebar-link sidebar-page" aria-label="æœ¬åœ°æ–¹æ³•æ¥å£"><!---->æœ¬åœ°æ–¹æ³•æ¥å£<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/Computer-Science-Learn-Notes/Java/jvm/part1/7.%E6%9C%AC%E5%9C%B0%E6%96%B9%E6%B3%95%E6%A0%88.html" class="nav-link sidebar-link sidebar-page" aria-label="æœ¬åœ°æ–¹æ³•æ ˆ"><!---->æœ¬åœ°æ–¹æ³•æ ˆ<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/Computer-Science-Learn-Notes/Java/jvm/part1/8.%E5%A0%86.html" class="nav-link sidebar-link sidebar-page" aria-label="å †"><!---->å †<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/Computer-Science-Learn-Notes/Java/jvm/part1/9.%E6%96%B9%E6%B3%95%E5%8C%BA.html" class="nav-link sidebar-link sidebar-page" aria-label="æ–¹æ³•åŒº"><!---->æ–¹æ³•åŒº<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/Computer-Science-Learn-Notes/Java/jvm/part1/10.%E5%AF%B9%E8%B1%A1%E7%9A%84%E5%AE%9E%E4%BE%8B%E5%8C%96%E5%86%85%E5%AD%98%E5%B8%83%E5%B1%80%E4%B8%8E%E8%AE%BF%E9%97%AE%E5%AE%9A%E4%BD%8D.html" class="nav-link sidebar-link sidebar-page" aria-label="å¯¹è±¡çš„å®ä¾‹åŒ–"><!---->å¯¹è±¡çš„å®ä¾‹åŒ–<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/Computer-Science-Learn-Notes/Java/jvm/part1/11.%E7%9B%B4%E6%8E%A5%E5%86%85%E5%AD%98.html" class="nav-link sidebar-link sidebar-page" aria-label="ç›´æ¥å†…å­˜"><!---->ç›´æ¥å†…å­˜<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/Computer-Science-Learn-Notes/Java/jvm/part1/12.%E6%89%A7%E8%A1%8C%E5%BC%95%E6%93%8E.html" class="nav-link sidebar-link sidebar-page" aria-label="æ‰§è¡Œå¼•æ“"><span class="font-icon icon iconfont icon-java" style=""></span>æ‰§è¡Œå¼•æ“<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/Computer-Science-Learn-Notes/Java/jvm/part1/13.StringTable.html" class="nav-link sidebar-link sidebar-page" aria-label="StringTable"><!---->StringTable<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/Computer-Science-Learn-Notes/Java/jvm/part1/14.%E5%9E%83%E5%9C%BE%E5%9B%9E%E6%94%B6%E6%A6%82%E8%BF%B0.html" class="nav-link sidebar-link sidebar-page" aria-label="åƒåœ¾å›æ”¶æ¦‚è¿°"><!---->åƒåœ¾å›æ”¶æ¦‚è¿°<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a aria-current="page" href="/Computer-Science-Learn-Notes/Java/jvm/part1/15.%E5%9E%83%E5%9C%BE%E5%9B%9E%E6%94%B6%E7%9B%B8%E5%85%B3%E7%AE%97%E6%B3%95.html" class="router-link-active router-link-exact-active nav-link active sidebar-link sidebar-page active" aria-label="åƒåœ¾å›æ”¶ç›¸å…³ç®—æ³•"><!---->åƒåœ¾å›æ”¶ç›¸å…³ç®—æ³•<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/Computer-Science-Learn-Notes/Java/jvm/part1/15.%E5%9E%83%E5%9C%BE%E5%9B%9E%E6%94%B6%E7%9B%B8%E5%85%B3%E7%AE%97%E6%B3%95.html#åƒåœ¾æ ‡è®°é˜¶æ®µ-å¯¹è±¡å­˜æ´»åˆ¤æ–­" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="åƒåœ¾æ ‡è®°é˜¶æ®µï¼šå¯¹è±¡å­˜æ´»åˆ¤æ–­"><!---->åƒåœ¾æ ‡è®°é˜¶æ®µï¼šå¯¹è±¡å­˜æ´»åˆ¤æ–­<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/Computer-Science-Learn-Notes/Java/jvm/part1/15.%E5%9E%83%E5%9C%BE%E5%9B%9E%E6%94%B6%E7%9B%B8%E5%85%B3%E7%AE%97%E6%B3%95.html#å¼•ç”¨è®¡æ•°ç®—æ³•" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="å¼•ç”¨è®¡æ•°ç®—æ³•"><!---->å¼•ç”¨è®¡æ•°ç®—æ³•<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/Computer-Science-Learn-Notes/Java/jvm/part1/15.%E5%9E%83%E5%9C%BE%E5%9B%9E%E6%94%B6%E7%9B%B8%E5%85%B3%E7%AE%97%E6%B3%95.html#å°ç»“" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="å°ç»“"><!---->å°ç»“<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/Computer-Science-Learn-Notes/Java/jvm/part1/15.%E5%9E%83%E5%9C%BE%E5%9B%9E%E6%94%B6%E7%9B%B8%E5%85%B3%E7%AE%97%E6%B3%95.html#å¯è¾¾æ€§åˆ†æç®—æ³•-æ ¹æœç´¢ç®—æ³•ã€è¿½è¸ªæ€§åƒåœ¾æ”¶é›†" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="å¯è¾¾æ€§åˆ†æç®—æ³•ï¼ˆæ ¹æœç´¢ç®—æ³•ã€è¿½è¸ªæ€§åƒåœ¾æ”¶é›†ï¼‰"><!---->å¯è¾¾æ€§åˆ†æç®—æ³•ï¼ˆæ ¹æœç´¢ç®—æ³•ã€è¿½è¸ªæ€§åƒåœ¾æ”¶é›†ï¼‰<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/Computer-Science-Learn-Notes/Java/jvm/part1/15.%E5%9E%83%E5%9C%BE%E5%9B%9E%E6%94%B6%E7%9B%B8%E5%85%B3%E7%AE%97%E6%B3%95.html#gc-rootsã€é¢è¯•é«˜é¢‘ã€‘" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="GC Rootsã€é¢è¯•é«˜é¢‘ã€‘"><!---->GC Rootsã€é¢è¯•é«˜é¢‘ã€‘<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/Computer-Science-Learn-Notes/Java/jvm/part1/15.%E5%9E%83%E5%9C%BE%E5%9B%9E%E6%94%B6%E7%9B%B8%E5%85%B3%E7%AE%97%E6%B3%95.html#ä¸‰ç§å¯èƒ½çš„çŠ¶æ€" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="ä¸‰ç§å¯èƒ½çš„çŠ¶æ€"><!---->ä¸‰ç§å¯èƒ½çš„çŠ¶æ€<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/Computer-Science-Learn-Notes/Java/jvm/part1/15.%E5%9E%83%E5%9C%BE%E5%9B%9E%E6%94%B6%E7%9B%B8%E5%85%B3%E7%AE%97%E6%B3%95.html#å…·ä½“è¿‡ç¨‹" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="å…·ä½“è¿‡ç¨‹"><!---->å…·ä½“è¿‡ç¨‹<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/Computer-Science-Learn-Notes/Java/jvm/part1/15.%E5%9E%83%E5%9C%BE%E5%9B%9E%E6%94%B6%E7%9B%B8%E5%85%B3%E7%AE%97%E6%B3%95.html#jprofiler-çš„-gc-roots-æº¯æº" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="JProfiler çš„ GC Roots æº¯æº"><!---->JProfiler çš„ GC Roots æº¯æº<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/Computer-Science-Learn-Notes/Java/jvm/part1/15.%E5%9E%83%E5%9C%BE%E5%9B%9E%E6%94%B6%E7%9B%B8%E5%85%B3%E7%AE%97%E6%B3%95.html#jprofiler-æŸ¥çœ‹oom" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="JProfiler æŸ¥çœ‹OOM"><!---->JProfiler æŸ¥çœ‹OOM<!----></a><ul class="sidebar-sub-headers"></ul></li></ul><!--]--></li><li><!--[--><a href="/Computer-Science-Learn-Notes/Java/jvm/part1/16.%E5%9E%83%E5%9C%BE%E5%9B%9E%E6%94%B6%E7%9B%B8%E5%85%B3%E6%A6%82%E5%BF%B5.html" class="nav-link sidebar-link sidebar-page" aria-label="åƒåœ¾å›æ”¶ç›¸å…³æ¦‚å¿µ"><!---->åƒåœ¾å›æ”¶ç›¸å…³æ¦‚å¿µ<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/Computer-Science-Learn-Notes/Java/jvm/part1/17-%E5%9E%83%E5%9C%BE%E5%9B%9E%E6%94%B6%E5%99%A8.html" class="nav-link sidebar-link sidebar-page" aria-label="åƒåœ¾å›æ”¶å™¨"><!---->åƒåœ¾å›æ”¶å™¨<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li></ul></section></li><li><section class="sidebar-group"><button class="sidebar-heading clickable" type="button"><span class="font-icon icon iconfont icon-launch" style=""></span><span class="title">Kotlinç»“åˆSpring</span><span class="arrow end"></span></button><!----></section></li><li><section class="sidebar-group"><button class="sidebar-heading clickable" type="button"><span class="font-icon icon iconfont icon-object" style=""></span><span class="title">LeetCodeåˆ·é¢˜é¡ºåº</span><span class="arrow end"></span></button><!----></section></li></ul></section></li><li><section class="sidebar-group"><button class="sidebar-heading clickable" type="button"><span class="font-icon icon iconfont icon-repair" style=""></span><span class="title">ç»éªŒæ€»ç»“</span><span class="arrow end"></span></button><!----></section></li></ul><!--[--><!----><!--]--></aside><!--[--><main class="page" id="main-content"><!--[--><!----><nav class="breadcrumb disable"></nav><div class="page-title"><h1><!---->åƒåœ¾å›æ”¶ç›¸å…³ç®—æ³•</h1><div class="page-info"><span class="page-author-info" aria-label="ä½œè€…ğŸ–Š" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon author-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="author icon"><path d="M649.6 633.6c86.4-48 147.2-144 147.2-249.6 0-160-128-288-288-288s-288 128-288 288c0 108.8 57.6 201.6 147.2 249.6-121.6 48-214.4 153.6-240 288-3.2 9.6 0 19.2 6.4 25.6 3.2 9.6 12.8 12.8 22.4 12.8h704c9.6 0 19.2-3.2 25.6-12.8 6.4-6.4 9.6-16 6.4-25.6-25.6-134.4-121.6-240-243.2-288z"></path></svg><span><a class="page-author-item" href="https://github.com/zhiyu1998" target="_blank" rel="noopener noreferrer">zhiyu1998</a></span><span property="author" content="zhiyu1998"></span></span><!----><span class="page-date-info" aria-label="å†™ä½œæ—¥æœŸğŸ“…" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon calendar-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="calendar icon"><path d="M716.4 110.137c0-18.753-14.72-33.473-33.472-33.473-18.753 0-33.473 14.72-33.473 33.473v33.473h66.993v-33.473zm-334.87 0c0-18.753-14.72-33.473-33.473-33.473s-33.52 14.72-33.52 33.473v33.473h66.993v-33.473zm468.81 33.52H716.4v100.465c0 18.753-14.72 33.473-33.472 33.473a33.145 33.145 0 01-33.473-33.473V143.657H381.53v100.465c0 18.753-14.72 33.473-33.473 33.473a33.145 33.145 0 01-33.473-33.473V143.657H180.6A134.314 134.314 0 0046.66 277.595v535.756A134.314 134.314 0 00180.6 947.289h669.74a134.36 134.36 0 00133.94-133.938V277.595a134.314 134.314 0 00-133.94-133.938zm33.473 267.877H147.126a33.145 33.145 0 01-33.473-33.473c0-18.752 14.72-33.473 33.473-33.473h736.687c18.752 0 33.472 14.72 33.472 33.473a33.145 33.145 0 01-33.472 33.473z"></path></svg><span><!----></span><meta property="datePublished" content="2023-04-04T15:12:04.000Z"></span><span class="page-pageview-info" aria-label="è®¿é—®é‡ğŸ”¢" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon eye-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="eye icon"><path d="M992 512.096c0-5.76-.992-10.592-1.28-11.136-.192-2.88-1.152-8.064-2.08-10.816-.256-.672-.544-1.376-.832-2.08-.48-1.568-1.024-3.104-1.6-4.32C897.664 290.112 707.104 160 512 160c-195.072 0-385.632 130.016-473.76 322.592-1.056 2.112-1.792 4.096-2.272 5.856a55.512 55.512 0 00-.64 1.6c-1.76 5.088-1.792 8.64-1.632 7.744-.832 3.744-1.568 11.168-1.568 11.168-.224 2.272-.224 4.032.032 6.304 0 0 .736 6.464 1.088 7.808.128 1.824.576 4.512 1.12 6.976h-.032c.448 2.08 1.12 4.096 1.984 6.08.48 1.536.992 2.976 1.472 4.032C126.432 733.856 316.992 864 512 864c195.136 0 385.696-130.048 473.216-321.696 1.376-2.496 2.24-4.832 2.848-6.912.256-.608.48-1.184.672-1.728 1.536-4.48 1.856-8.32 1.728-8.32l-.032.032c.608-3.104 1.568-7.744 1.568-13.28zM512 672c-88.224 0-160-71.776-160-160s71.776-160 160-160 160 71.776 160 160-71.776 160-160 160z"></path></svg><span class="waline-pageview-count" id="ArtalkPV" data-path="/Computer-Science-Learn-Notes/Java/jvm/part1/15.%E5%9E%83%E5%9C%BE%E5%9B%9E%E6%94%B6%E7%9B%B8%E5%85%B3%E7%AE%97%E6%B3%95.html">...</span></span><span class="page-reading-time-info" aria-label="é˜…è¯»æ—¶é—´âŒ›" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon timer-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="timer icon"><path d="M799.387 122.15c4.402-2.978 7.38-7.897 7.38-13.463v-1.165c0-8.933-7.38-16.312-16.312-16.312H256.33c-8.933 0-16.311 7.38-16.311 16.312v1.165c0 5.825 2.977 10.874 7.637 13.592 4.143 194.44 97.22 354.963 220.201 392.763-122.204 37.542-214.893 196.511-220.2 389.397-4.661 5.049-7.638 11.651-7.638 19.03v5.825h566.49v-5.825c0-7.379-2.849-13.981-7.509-18.9-5.049-193.016-97.867-351.985-220.2-389.527 123.24-37.67 216.446-198.453 220.588-392.892zM531.16 450.445v352.632c117.674 1.553 211.787 40.778 211.787 88.676H304.097c0-48.286 95.149-87.382 213.728-88.676V450.445c-93.077-3.107-167.901-81.297-167.901-177.093 0-8.803 6.99-15.793 15.793-15.793 8.803 0 15.794 6.99 15.794 15.793 0 80.261 63.69 145.635 142.01 145.635s142.011-65.374 142.011-145.635c0-8.803 6.99-15.793 15.794-15.793s15.793 6.99 15.793 15.793c0 95.019-73.789 172.82-165.96 177.093z"></path></svg><span>å¤§çº¦ 26 åˆ†é’Ÿ</span><meta property="timeRequired" content="PT26M"></span><span class="page-category-info" aria-label="åˆ†ç±»ğŸŒˆ" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon category-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="category icon"><path d="M148.41 106.992h282.176c22.263 0 40.31 18.048 40.31 40.31V429.48c0 22.263-18.047 40.31-40.31 40.31H148.41c-22.263 0-40.311-18.047-40.311-40.31V147.302c0-22.263 18.048-40.31 40.311-40.31zM147.556 553.478H429.73c22.263 0 40.311 18.048 40.311 40.31v282.176c0 22.263-18.048 40.312-40.31 40.312H147.555c-22.263 0-40.311-18.049-40.311-40.312V593.79c0-22.263 18.048-40.311 40.31-40.311zM593.927 106.992h282.176c22.263 0 40.31 18.048 40.31 40.31V429.48c0 22.263-18.047 40.31-40.31 40.31H593.927c-22.263 0-40.311-18.047-40.311-40.31V147.302c0-22.263 18.048-40.31 40.31-40.31zM730.22 920.502H623.926c-40.925 0-74.22-33.388-74.22-74.425V623.992c0-41.038 33.387-74.424 74.425-74.424h222.085c41.038 0 74.424 33.226 74.424 74.067v114.233c0 10.244-8.304 18.548-18.547 18.548s-18.548-8.304-18.548-18.548V623.635c0-20.388-16.746-36.974-37.33-36.974H624.13c-20.585 0-37.331 16.747-37.331 37.33v222.086c0 20.585 16.654 37.331 37.126 37.331H730.22c10.243 0 18.547 8.304 18.547 18.547 0 10.244-8.304 18.547-18.547 18.547z"></path></svg><span class="page-category-item category1" role>JVM</span><meta property="articleSection" content="JVM"></span><span class="page-tag-info" aria-label="æ ‡ç­¾ğŸ·" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon tag-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="tag icon"><path d="M939.902 458.563L910.17 144.567c-1.507-16.272-14.465-29.13-30.737-30.737L565.438 84.098h-.402c-3.215 0-5.726 1.005-7.634 2.913l-470.39 470.39a10.004 10.004 0 000 14.164l365.423 365.424c1.909 1.908 4.42 2.913 7.132 2.913s5.223-1.005 7.132-2.913l470.39-470.39c2.01-2.11 3.014-5.023 2.813-8.036zm-240.067-72.121c-35.458 0-64.286-28.828-64.286-64.286s28.828-64.285 64.286-64.285 64.286 28.828 64.286 64.285-28.829 64.286-64.286 64.286z"></path></svg><span class="page-tag-item tag7" role>JVMä¸Šç¯‡</span><meta property="keywords" content="JVMä¸Šç¯‡"></span></div><hr></div><div class="toc-place-holder"><aside id="toc"><!--[--><!----><!--]--><div class="toc-header">æ­¤é¡µå†…å®¹<button type="button" class="print-button" title="æ‰“å°"><svg xmlns="http://www.w3.org/2000/svg" class="icon print-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="print icon"><path d="M819.2 364.8h-44.8V128c0-17.067-14.933-32-32-32H281.6c-17.067 0-32 14.933-32 32v236.8h-44.8C145.067 364.8 96 413.867 96 473.6v192c0 59.733 49.067 108.8 108.8 108.8h44.8V896c0 17.067 14.933 32 32 32h460.8c17.067 0 32-14.933 32-32V774.4h44.8c59.733 0 108.8-49.067 108.8-108.8v-192c0-59.733-49.067-108.8-108.8-108.8zM313.6 160h396.8v204.8H313.6V160zm396.8 704H313.6V620.8h396.8V864zM864 665.6c0 25.6-19.2 44.8-44.8 44.8h-44.8V588.8c0-17.067-14.933-32-32-32H281.6c-17.067 0-32 14.933-32 32v121.6h-44.8c-25.6 0-44.8-19.2-44.8-44.8v-192c0-25.6 19.2-44.8 44.8-44.8h614.4c25.6 0 44.8 19.2 44.8 44.8v192z"></path></svg></button></div><div class="toc-wrapper"><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/Computer-Science-Learn-Notes/Java/jvm/part1/15.%E5%9E%83%E5%9C%BE%E5%9B%9E%E6%94%B6%E7%9B%B8%E5%85%B3%E7%AE%97%E6%B3%95.html#åƒåœ¾æ ‡è®°é˜¶æ®µ-å¯¹è±¡å­˜æ´»åˆ¤æ–­" class="router-link-active router-link-exact-active toc-link level2">åƒåœ¾æ ‡è®°é˜¶æ®µï¼šå¯¹è±¡å­˜æ´»åˆ¤æ–­</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/Computer-Science-Learn-Notes/Java/jvm/part1/15.%E5%9E%83%E5%9C%BE%E5%9B%9E%E6%94%B6%E7%9B%B8%E5%85%B3%E7%AE%97%E6%B3%95.html#å¼•ç”¨è®¡æ•°ç®—æ³•" class="router-link-active router-link-exact-active toc-link level2">å¼•ç”¨è®¡æ•°ç®—æ³•</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/Computer-Science-Learn-Notes/Java/jvm/part1/15.%E5%9E%83%E5%9C%BE%E5%9B%9E%E6%94%B6%E7%9B%B8%E5%85%B3%E7%AE%97%E6%B3%95.html#å°ç»“" class="router-link-active router-link-exact-active toc-link level2">å°ç»“</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/Computer-Science-Learn-Notes/Java/jvm/part1/15.%E5%9E%83%E5%9C%BE%E5%9B%9E%E6%94%B6%E7%9B%B8%E5%85%B3%E7%AE%97%E6%B3%95.html#å¯è¾¾æ€§åˆ†æç®—æ³•-æ ¹æœç´¢ç®—æ³•ã€è¿½è¸ªæ€§åƒåœ¾æ”¶é›†" class="router-link-active router-link-exact-active toc-link level2">å¯è¾¾æ€§åˆ†æç®—æ³•ï¼ˆæ ¹æœç´¢ç®—æ³•ã€è¿½è¸ªæ€§åƒåœ¾æ”¶é›†ï¼‰</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/Computer-Science-Learn-Notes/Java/jvm/part1/15.%E5%9E%83%E5%9C%BE%E5%9B%9E%E6%94%B6%E7%9B%B8%E5%85%B3%E7%AE%97%E6%B3%95.html#gc-rootsã€é¢è¯•é«˜é¢‘ã€‘" class="router-link-active router-link-exact-active toc-link level2">GC Rootsã€é¢è¯•é«˜é¢‘ã€‘</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/Computer-Science-Learn-Notes/Java/jvm/part1/15.%E5%9E%83%E5%9C%BE%E5%9B%9E%E6%94%B6%E7%9B%B8%E5%85%B3%E7%AE%97%E6%B3%95.html#ä¸‰ç§å¯èƒ½çš„çŠ¶æ€" class="router-link-active router-link-exact-active toc-link level2">ä¸‰ç§å¯èƒ½çš„çŠ¶æ€</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/Computer-Science-Learn-Notes/Java/jvm/part1/15.%E5%9E%83%E5%9C%BE%E5%9B%9E%E6%94%B6%E7%9B%B8%E5%85%B3%E7%AE%97%E6%B3%95.html#å…·ä½“è¿‡ç¨‹" class="router-link-active router-link-exact-active toc-link level2">å…·ä½“è¿‡ç¨‹</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/Computer-Science-Learn-Notes/Java/jvm/part1/15.%E5%9E%83%E5%9C%BE%E5%9B%9E%E6%94%B6%E7%9B%B8%E5%85%B3%E7%AE%97%E6%B3%95.html#jprofiler-çš„-gc-roots-æº¯æº" class="router-link-active router-link-exact-active toc-link level2">JProfiler çš„ GC Roots æº¯æº</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/Computer-Science-Learn-Notes/Java/jvm/part1/15.%E5%9E%83%E5%9C%BE%E5%9B%9E%E6%94%B6%E7%9B%B8%E5%85%B3%E7%AE%97%E6%B3%95.html#jprofiler-æŸ¥çœ‹oom" class="router-link-active router-link-exact-active toc-link level2">JProfiler æŸ¥çœ‹OOM</a></li><!----><!--]--></ul></div><!--[--><!----><!--]--></aside></div><!----><div class="theme-hope-content"><p>[TOC]</p><h1 id="æ ‡è®°é˜¶æ®µ-å¼•ç”¨è®¡æ•°ç®—æ³•" tabindex="-1"><a class="header-anchor" href="#æ ‡è®°é˜¶æ®µ-å¼•ç”¨è®¡æ•°ç®—æ³•" aria-hidden="true">#</a> æ ‡è®°é˜¶æ®µï¼šå¼•ç”¨è®¡æ•°ç®—æ³•</h1><h2 id="åƒåœ¾æ ‡è®°é˜¶æ®µ-å¯¹è±¡å­˜æ´»åˆ¤æ–­" tabindex="-1"><a class="header-anchor" href="#åƒåœ¾æ ‡è®°é˜¶æ®µ-å¯¹è±¡å­˜æ´»åˆ¤æ–­" aria-hidden="true">#</a> åƒåœ¾æ ‡è®°é˜¶æ®µï¼šå¯¹è±¡å­˜æ´»åˆ¤æ–­</h2><ul><li>åœ¨å †é‡Œå­˜æ”¾ç€å‡ ä¹æ‰€æœ‰çš„ Java å¯¹è±¡å®ä¾‹ï¼Œåœ¨ GC æ‰§è¡Œåƒåœ¾å›æ”¶ä¹‹å‰ï¼Œé¦–å…ˆéœ€è¦åŒºåˆ†å‡ºå†…å­˜ä¸­å“ªäº›æ˜¯å­˜æ´»å¯¹è±¡ï¼Œå“ªäº›æ˜¯å·²ç»æ­»äº¡çš„å¯¹è±¡ã€‚åªæœ‰è¢«æ ‡è®°ä¸ºå·±ç»æ­»äº¡çš„å¯¹è±¡ï¼ŒGC æ‰ä¼šåœ¨æ‰§è¡Œåƒåœ¾å›æ”¶æ—¶ï¼Œé‡Šæ”¾æ‰å…¶æ‰€å ç”¨çš„å†…å­˜ç©ºé—´ï¼Œå› æ­¤è¿™ä¸ªè¿‡ç¨‹æˆ‘ä»¬å¯ä»¥ç§°ä¸ºåƒåœ¾æ ‡è®°é˜¶æ®µã€‚</li><li>é‚£ä¹ˆåœ¨ JVM ä¸­ç©¶ç«Ÿæ˜¯å¦‚ä½•æ ‡è®°ä¸€ä¸ªæ­»äº¡å¯¹è±¡å‘¢ï¼Ÿç®€å•æ¥è¯´ï¼Œå½“ä¸€ä¸ªå¯¹è±¡å·²ç»ä¸å†è¢«ä»»ä½•çš„å­˜æ´»å¯¹è±¡ç»§ç»­å¼•ç”¨æ—¶ï¼Œå°±å¯ä»¥å®£åˆ¤ä¸ºå·²ç»æ­»äº¡ã€‚</li><li>åˆ¤æ–­å¯¹è±¡å­˜æ´»ä¸€èˆ¬æœ‰ä¸¤ç§æ–¹å¼ï¼šå¼•ç”¨è®¡æ•°ç®—æ³•å’Œå¯è¾¾æ€§åˆ†æç®—æ³•ã€‚</li></ul><h2 id="å¼•ç”¨è®¡æ•°ç®—æ³•" tabindex="-1"><a class="header-anchor" href="#å¼•ç”¨è®¡æ•°ç®—æ³•" aria-hidden="true">#</a> å¼•ç”¨è®¡æ•°ç®—æ³•</h2><ul><li>å¼•ç”¨è®¡æ•°ç®—æ³•ï¼ˆReference Countingï¼‰æ¯”è¾ƒç®€å•ï¼Œå¯¹æ¯ä¸ªå¯¹è±¡ä¿å­˜ä¸€ä¸ªæ•´å‹çš„å¼•ç”¨è®¡æ•°å™¨å±æ€§ã€‚ç”¨äºè®°å½•å¯¹è±¡è¢«å¼•ç”¨çš„æƒ…å†µã€‚</li><li>å¯¹äºä¸€ä¸ªå¯¹è±¡ Aï¼Œåªè¦æœ‰ä»»ä½•ä¸€ä¸ªå¯¹è±¡å¼•ç”¨äº† Aï¼Œåˆ™ A çš„å¼•ç”¨è®¡æ•°å™¨å°±åŠ  1ï¼›å½“å¼•ç”¨å¤±æ•ˆæ—¶ï¼Œå¼•ç”¨è®¡æ•°å™¨å°±å‡ 1ã€‚åªè¦å¯¹è±¡ A çš„å¼•ç”¨è®¡æ•°å™¨çš„å€¼ä¸º 0ï¼Œå³è¡¨ç¤ºå¯¹è±¡ A ä¸å¯èƒ½å†è¢«ä½¿ç”¨ï¼Œå¯è¿›è¡Œå›æ”¶ã€‚</li><li>ä¼˜ç‚¹ï¼šå®ç°ç®€å•ï¼Œåƒåœ¾å¯¹è±¡ä¾¿äºè¾¨è¯†ï¼›åˆ¤å®šæ•ˆç‡é«˜ï¼Œå›æ”¶æ²¡æœ‰å»¶è¿Ÿæ€§ã€‚</li><li>ç¼ºç‚¹ï¼š <ul><li>å®ƒéœ€è¦å•ç‹¬çš„å­—æ®µå­˜å‚¨è®¡æ•°å™¨ï¼Œè¿™æ ·çš„åšæ³•å¢åŠ äº†å­˜å‚¨ç©ºé—´çš„å¼€é”€</li><li>æ¯æ¬¡èµ‹å€¼éƒ½éœ€è¦æ›´æ–°è®¡æ•°å™¨ï¼Œä¼´éšç€åŠ æ³•å’Œå‡æ³•æ“ä½œï¼Œè¿™å¢åŠ äº†æ—¶é—´å¼€é”€</li><li>å¼•ç”¨è®¡æ•°å™¨æœ‰ä¸€ä¸ªä¸¥é‡çš„é—®é¢˜ï¼Œå³æ— æ³•å¤„ç†å¾ªç¯å¼•ç”¨çš„æƒ…å†µã€‚è¿™æ˜¯ä¸€æ¡è‡´å‘½ç¼ºé™·ï¼Œå¯¼è‡´åœ¨ Java çš„åƒåœ¾å›æ”¶å™¨ä¸­æ²¡æœ‰ä½¿ç”¨è¿™ç±»ç®—æ³•ã€‚</li></ul></li></ul><blockquote><p>ä½•ä¸º<strong>å¾ªç¯å¼•ç”¨</strong>ï¼Ÿ</p></blockquote><p>å½“ p çš„æŒ‡é’ˆæ–­å¼€çš„æ—¶å€™ï¼Œå†…éƒ¨çš„å¼•ç”¨å½¢æˆä¸€ä¸ªå¾ªç¯ï¼Œè¿™å°±æ˜¯å¾ªç¯å¼•ç”¨</p><figure><img src="/Computer-Science-Learn-Notes/assets/05420507845893400127893f4ce82e37-834cd41f.png" alt="Untitled" tabindex="0" loading="lazy"><figcaption>Untitled</figcaption></figure><blockquote><p>ä»£ç å®ä¾‹ï¼šæµ‹è¯• Java ä¸­æ˜¯å¦é‡‡ç”¨çš„æ˜¯å¼•ç”¨è®¡æ•°ç®—æ³•</p></blockquote><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token doc-comment comment">/**
 * -XX:+PrintGCDetails
 * è¯æ˜ï¼šjavaä½¿ç”¨çš„ä¸æ˜¯å¼•ç”¨è®¡æ•°ç®—æ³•
 */</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">RefCountGC</span> <span class="token punctuation">{</span>

    <span class="token comment">//è¿™ä¸ªæˆå‘˜å±æ€§å”¯ä¸€çš„ä½œç”¨å°±æ˜¯å ç”¨ä¸€ç‚¹å†…å­˜</span>
    <span class="token keyword">private</span> <span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span> bigSize <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token number">5</span> <span class="token operator">*</span> <span class="token number">1024</span> <span class="token operator">*</span> <span class="token number">1024</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">//5MB</span>

    <span class="token class-name">Object</span> reference <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">RefCountGC</span> obj1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">RefCountGC</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">RefCountGC</span> obj2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">RefCountGC</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        obj1<span class="token punctuation">.</span>reference <span class="token operator">=</span> obj2<span class="token punctuation">;</span>
        obj2<span class="token punctuation">.</span>reference <span class="token operator">=</span> obj1<span class="token punctuation">;</span>

        obj1 <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
        obj2 <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
        <span class="token comment">//æ˜¾å¼çš„æ‰§è¡Œåƒåœ¾å›æ”¶è¡Œä¸º</span>
        <span class="token comment">//è¿™é‡Œå‘ç”ŸGCï¼Œobj1å’Œobj2èƒ½å¦è¢«å›æ”¶ï¼Ÿ</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">gc</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å¦‚æœä¸ä½¿ç”¨æœ€åä¸€è¡Œçš„gc()</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token class-name">Heap</span>
 <span class="token class-name">PSYoungGen</span>      total <span class="token number">75776</span>K<span class="token punctuation">,</span> used <span class="token number">15459</span>K <span class="token punctuation">[</span><span class="token number">0x000000076bd00000</span><span class="token punctuation">,</span> <span class="token number">0x0000000771180000</span><span class="token punctuation">,</span> <span class="token number">0x00000007c0000000</span><span class="token punctuation">)</span>
  eden space <span class="token number">65024</span>K<span class="token punctuation">,</span> <span class="token number">23</span><span class="token operator">%</span> used <span class="token punctuation">[</span><span class="token number">0x000000076bd00000</span><span class="token punctuation">,</span><span class="token number">0x000000076cc18ee8</span><span class="token punctuation">,</span><span class="token number">0x000000076fc80000</span><span class="token punctuation">)</span>
  from space <span class="token number">10752</span>K<span class="token punctuation">,</span> <span class="token number">0</span><span class="token operator">%</span> used <span class="token punctuation">[</span><span class="token number">0x0000000770700000</span><span class="token punctuation">,</span><span class="token number">0x0000000770700000</span><span class="token punctuation">,</span><span class="token number">0x0000000771180000</span><span class="token punctuation">)</span>
  <span class="token keyword">to</span>   <span class="token namespace">space</span> <span class="token number">10752</span>K<span class="token punctuation">,</span> <span class="token number">0</span><span class="token operator">%</span> used <span class="token punctuation">[</span><span class="token number">0x000000076fc80000</span><span class="token punctuation">,</span><span class="token number">0x000000076fc80000</span><span class="token punctuation">,</span><span class="token number">0x0000000770700000</span><span class="token punctuation">)</span>
 <span class="token class-name">ParOldGen</span>       total <span class="token number">173568</span>K<span class="token punctuation">,</span> used <span class="token number">0</span>K <span class="token punctuation">[</span><span class="token number">0x00000006c3600000</span><span class="token punctuation">,</span> <span class="token number">0x00000006cdf80000</span><span class="token punctuation">,</span> <span class="token number">0x000000076bd00000</span><span class="token punctuation">)</span>
  object space <span class="token number">173568</span>K<span class="token punctuation">,</span> <span class="token number">0</span><span class="token operator">%</span> used <span class="token punctuation">[</span><span class="token number">0x00000006c3600000</span><span class="token punctuation">,</span><span class="token number">0x00000006c3600000</span><span class="token punctuation">,</span><span class="token number">0x00000006cdf80000</span><span class="token punctuation">)</span>
 <span class="token class-name">Metaspace</span>       used <span class="token number">3294</span>K<span class="token punctuation">,</span> capacity <span class="token number">4496</span>K<span class="token punctuation">,</span> committed <span class="token number">4864</span>K<span class="token punctuation">,</span> reserved <span class="token number">1056768</span>K
  <span class="token keyword">class</span> space    used <span class="token number">358</span>K<span class="token punctuation">,</span> capacity <span class="token number">388</span>K<span class="token punctuation">,</span> committed <span class="token number">512</span>K<span class="token punctuation">,</span> reserved <span class="token number">1048576</span>K
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æ­¤æ—¶æŠŠGCå¼€èµ·æ¥</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token punctuation">[</span><span class="token constant">GC</span> <span class="token punctuation">(</span><span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">gc</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">[</span><span class="token class-name">PSYoungGen</span><span class="token operator">:</span> <span class="token number">14158</span>K<span class="token operator">-&gt;</span><span class="token function">744K</span><span class="token punctuation">(</span><span class="token number">75776</span>K<span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token number">14158</span>K<span class="token operator">-&gt;</span><span class="token function">752K</span><span class="token punctuation">(</span><span class="token number">249344</span>K<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">0.0015050</span> secs<span class="token punctuation">]</span> <span class="token punctuation">[</span><span class="token class-name">Times</span><span class="token operator">:</span> user<span class="token operator">=</span><span class="token number">0.00</span> sys<span class="token operator">=</span><span class="token number">0.00</span><span class="token punctuation">,</span> real<span class="token operator">=</span><span class="token number">0.00</span> secs<span class="token punctuation">]</span> 
<span class="token punctuation">[</span><span class="token class-name">Full</span> <span class="token constant">GC</span> <span class="token punctuation">(</span><span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">gc</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">[</span><span class="token class-name">PSYoungGen</span><span class="token operator">:</span> <span class="token number">744</span>K<span class="token operator">-&gt;</span><span class="token function">0K</span><span class="token punctuation">(</span><span class="token number">75776</span>K<span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token punctuation">[</span><span class="token class-name">ParOldGen</span><span class="token operator">:</span> <span class="token number">8</span>K<span class="token operator">-&gt;</span><span class="token function">601K</span><span class="token punctuation">(</span><span class="token number">173568</span>K<span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token number">752</span>K<span class="token operator">-&gt;</span><span class="token function">601K</span><span class="token punctuation">(</span><span class="token number">249344</span>K<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token class-name">Metaspace</span><span class="token operator">:</span> <span class="token number">3287</span>K<span class="token operator">-&gt;</span><span class="token function">3287K</span><span class="token punctuation">(</span><span class="token number">1056768</span>K<span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token number">0.0040297</span> secs<span class="token punctuation">]</span> <span class="token punctuation">[</span><span class="token class-name">Times</span><span class="token operator">:</span> user<span class="token operator">=</span><span class="token number">0.00</span> sys<span class="token operator">=</span><span class="token number">0.00</span><span class="token punctuation">,</span> real<span class="token operator">=</span><span class="token number">0.00</span> secs<span class="token punctuation">]</span> 
<span class="token class-name">Heap</span>
 <span class="token class-name">PSYoungGen</span>      total <span class="token number">75776</span>K<span class="token punctuation">,</span> used <span class="token number">3251</span>K <span class="token punctuation">[</span><span class="token number">0x000000076bd00000</span><span class="token punctuation">,</span> <span class="token number">0x0000000771180000</span><span class="token punctuation">,</span> <span class="token number">0x00000007c0000000</span><span class="token punctuation">)</span>
  eden space <span class="token number">65024</span>K<span class="token punctuation">,</span> <span class="token number">5</span><span class="token operator">%</span> used <span class="token punctuation">[</span><span class="token number">0x000000076bd00000</span><span class="token punctuation">,</span><span class="token number">0x000000076c02ce68</span><span class="token punctuation">,</span><span class="token number">0x000000076fc80000</span><span class="token punctuation">)</span>
  from space <span class="token number">10752</span>K<span class="token punctuation">,</span> <span class="token number">0</span><span class="token operator">%</span> used <span class="token punctuation">[</span><span class="token number">0x000000076fc80000</span><span class="token punctuation">,</span><span class="token number">0x000000076fc80000</span><span class="token punctuation">,</span><span class="token number">0x0000000770700000</span><span class="token punctuation">)</span>
  <span class="token keyword">to</span>   <span class="token namespace">space</span> <span class="token number">10752</span>K<span class="token punctuation">,</span> <span class="token number">0</span><span class="token operator">%</span> used <span class="token punctuation">[</span><span class="token number">0x0000000770700000</span><span class="token punctuation">,</span><span class="token number">0x0000000770700000</span><span class="token punctuation">,</span><span class="token number">0x0000000771180000</span><span class="token punctuation">)</span>
 <span class="token class-name">ParOldGen</span>       total <span class="token number">173568</span>K<span class="token punctuation">,</span> used <span class="token number">601</span>K <span class="token punctuation">[</span><span class="token number">0x00000006c3600000</span><span class="token punctuation">,</span> <span class="token number">0x00000006cdf80000</span><span class="token punctuation">,</span> <span class="token number">0x000000076bd00000</span><span class="token punctuation">)</span>
  object space <span class="token number">173568</span>K<span class="token punctuation">,</span> <span class="token number">0</span><span class="token operator">%</span> used <span class="token punctuation">[</span><span class="token number">0x00000006c3600000</span><span class="token punctuation">,</span><span class="token number">0x00000006c36964f0</span><span class="token punctuation">,</span><span class="token number">0x00000006cdf80000</span><span class="token punctuation">)</span>
 <span class="token class-name">Metaspace</span>       used <span class="token number">3307</span>K<span class="token punctuation">,</span> capacity <span class="token number">4496</span>K<span class="token punctuation">,</span> committed <span class="token number">4864</span>K<span class="token punctuation">,</span> reserved <span class="token number">1056768</span>K
  <span class="token keyword">class</span> space    used <span class="token number">360</span>K<span class="token punctuation">,</span> capacity <span class="token number">388</span>K<span class="token punctuation">,</span> committed <span class="token number">512</span>K<span class="token punctuation">,</span> reserved <span class="token number">1048576</span>K
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>é€»è¾‘æ•´ç†ï¼š</p><ol><li>å› ä¸ºå¼•ç”¨è®¡æ•°ç®—æ³•å¦‚æœé‡åˆ°è¿™ç§ç±»å‹ï¼ˆä¸¤ä¸ªç›¸äº’æŒ‡å‘å¾ªç¯ï¼‰å°±ä¸ä¼šå‘ç”Ÿå›æ”¶çš„çŠ¶æ€</li><li>è€Œä¸Šè¿°æ²¡æœ‰ä½¿ç”¨GCçš„çŠ¶æ€ä¸ºï¼š15459Kï¼Œ ä½¿ç”¨äº†GCçš„çŠ¶æ€ä¸º744Kï¼Œè¯´æ˜è¿™ç§å¾ªç¯çŠ¶æ€è¢«å›æ”¶äº†</li><li>ç”±æ­¤å¯ä»¥åˆ¤æ–­Javaæ²¡æœ‰ä½¿ç”¨å¼•ç”¨è®¡æ•°ç®—æ³•</li></ol><figure><img src="/Computer-Science-Learn-Notes/assets/53ca9932c22c3e5cf7915da3bbf03cd9-d2735a91.png" alt="Untitled" tabindex="0" loading="lazy"><figcaption>Untitled</figcaption></figure><h2 id="å°ç»“" tabindex="-1"><a class="header-anchor" href="#å°ç»“" aria-hidden="true">#</a> å°ç»“</h2><p>å¼•ç”¨è®¡æ•°ç®—æ³•ï¼Œæ˜¯å¾ˆå¤šè¯­è¨€çš„èµ„æºå›æ”¶é€‰æ‹©ï¼Œä¾‹å¦‚å› äººå·¥æ™ºèƒ½è€Œæ›´åŠ ç«çƒ­çš„ Pythonï¼Œå®ƒæ›´æ˜¯åŒæ—¶æ”¯æŒå¼•ç”¨è®¡æ•°å’Œåƒåœ¾æ”¶é›†æœºåˆ¶ã€‚</p><p>å…·ä½“å“ªç§æœ€ä¼˜æ˜¯è¦çœ‹åœºæ™¯çš„ï¼Œä¸šç•Œæœ‰å¤§è§„æ¨¡å®è·µä¸­ä»…ä¿ç•™å¼•ç”¨è®¡æ•°æœºåˆ¶ï¼Œä»¥æé«˜ååé‡çš„å°è¯•ã€‚</p><p>Java å¹¶æ²¡æœ‰é€‰æ‹©å¼•ç”¨è®¡æ•°ï¼Œæ˜¯å› ä¸ºå…¶å­˜åœ¨ä¸€ä¸ªåŸºæœ¬çš„éš¾é¢˜ï¼Œä¹Ÿå°±æ˜¯å¾ˆéš¾å¤„ç†å¾ªç¯å¼•ç”¨å…³ç³»ã€‚</p><p>Python å¦‚ä½•è§£å†³å¾ªç¯å¼•ç”¨ï¼Ÿ</p><ul><li>æ‰‹åŠ¨è§£é™¤ï¼šå¾ˆå¥½ç†è§£ï¼Œå°±æ˜¯åœ¨åˆé€‚çš„æ—¶æœºï¼Œè§£é™¤å¼•ç”¨å…³ç³»ã€‚</li><li>ä½¿ç”¨å¼±å¼•ç”¨ weakrefï¼Œweakref æ˜¯ Python æä¾›çš„æ ‡å‡†åº“ï¼Œæ—¨åœ¨è§£å†³å¾ªç¯å¼•ç”¨</li></ul><h1 id="æ ‡è®°é˜¶æ®µ-å¯è¾¾æ€§åˆ†æç®—æ³•" tabindex="-1"><a class="header-anchor" href="#æ ‡è®°é˜¶æ®µ-å¯è¾¾æ€§åˆ†æç®—æ³•" aria-hidden="true">#</a> æ ‡è®°é˜¶æ®µï¼šå¯è¾¾æ€§åˆ†æç®—æ³•</h1><h2 id="å¯è¾¾æ€§åˆ†æç®—æ³•-æ ¹æœç´¢ç®—æ³•ã€è¿½è¸ªæ€§åƒåœ¾æ”¶é›†" tabindex="-1"><a class="header-anchor" href="#å¯è¾¾æ€§åˆ†æç®—æ³•-æ ¹æœç´¢ç®—æ³•ã€è¿½è¸ªæ€§åƒåœ¾æ”¶é›†" aria-hidden="true">#</a> å¯è¾¾æ€§åˆ†æç®—æ³•ï¼ˆæ ¹æœç´¢ç®—æ³•ã€è¿½è¸ªæ€§åƒåœ¾æ”¶é›†ï¼‰</h2><ul><li>ç›¸å¯¹äºå¼•ç”¨è®¡æ•°ç®—æ³•è€Œè¨€ï¼Œå¯è¾¾æ€§åˆ†æç®—æ³•ä¸ä»…åŒæ ·å…·å¤‡å®ç°ç®€å•å’Œæ‰§è¡Œé«˜æ•ˆç­‰ç‰¹ç‚¹ï¼Œæ›´é‡è¦çš„æ˜¯è¯¥ç®—æ³•å¯ä»¥æœ‰æ•ˆåœ°è§£å†³åœ¨å¼•ç”¨è®¡æ•°ç®—æ³•ä¸­å¾ªç¯å¼•ç”¨çš„é—®é¢˜ï¼Œé˜²æ­¢å†…å­˜æ³„æ¼çš„å‘ç”Ÿã€‚</li><li>ç›¸è¾ƒäºå¼•ç”¨è®¡æ•°ç®—æ³•ï¼Œè¿™é‡Œçš„å¯è¾¾æ€§åˆ†æå°±æ˜¯ Javaã€C# é€‰æ‹©çš„ã€‚è¿™ç§ç±»å‹çš„åƒåœ¾æ”¶é›†é€šå¸¸ä¹Ÿå«ä½œè¿½è¸ªæ€§åƒåœ¾æ”¶é›†ï¼ˆTracing Garbage Collectionï¼‰</li><li>æ‰€è°“ &quot;GCRootsâ€ æ ¹é›†åˆå°±æ˜¯ä¸€ç»„å¿…é¡»æ´»è·ƒçš„å¼•ç”¨ã€‚</li></ul><blockquote><p>åŸºæœ¬æ€è·¯</p></blockquote><ul><li>å¯è¾¾æ€§åˆ†æç®—æ³•æ˜¯ä»¥æ ¹å¯¹è±¡é›†åˆï¼ˆGCRootsï¼‰ä¸ºèµ·å§‹ç‚¹ï¼ŒæŒ‰ç…§ä»ä¸Šè‡³ä¸‹çš„æ–¹å¼æœç´¢è¢«æ ¹å¯¹è±¡é›†åˆæ‰€è¿æ¥çš„ç›®æ ‡å¯¹è±¡æ˜¯å¦å¯è¾¾ã€‚</li><li>ä½¿ç”¨å¯è¾¾æ€§åˆ†æç®—æ³•åï¼Œå†…å­˜ä¸­çš„å­˜æ´»å¯¹è±¡éƒ½ä¼šè¢«æ ¹å¯¹è±¡é›†åˆç›´æ¥æˆ–é—´æ¥è¿æ¥ç€ï¼Œæœç´¢æ‰€èµ°è¿‡çš„è·¯å¾„ç§°ä¸ºå¼•ç”¨é“¾ï¼ˆReference Chainï¼‰ã€‚</li><li>å¦‚æœç›®æ ‡å¯¹è±¡æ²¡æœ‰ä»»ä½•å¼•ç”¨é“¾ç›¸è¿ï¼Œåˆ™æ˜¯ä¸å¯è¾¾çš„ï¼Œå°±æ„å‘³ç€è¯¥å¯¹è±¡å·±ç»æ­»äº¡ï¼Œå¯ä»¥æ ‡è®°ä¸ºåƒåœ¾å¯¹è±¡ã€‚</li><li>åœ¨å¯è¾¾æ€§åˆ†æç®—æ³•ä¸­ï¼Œåªæœ‰èƒ½å¤Ÿè¢«æ ¹å¯¹è±¡é›†åˆç›´æ¥æˆ–è€…é—´æ¥è¿æ¥çš„å¯¹è±¡æ‰æ˜¯å­˜æ´»å¯¹è±¡ã€‚</li></ul><figure><img src="/Computer-Science-Learn-Notes/assets/4a6924289ae33fffd29bd121fd6ebda3-26f9d0a6.png" alt="Untitled" tabindex="0" loading="lazy"><figcaption>Untitled</figcaption></figure><h2 id="gc-rootsã€é¢è¯•é«˜é¢‘ã€‘" tabindex="-1"><a class="header-anchor" href="#gc-rootsã€é¢è¯•é«˜é¢‘ã€‘" aria-hidden="true">#</a> GC Rootsã€é¢è¯•é«˜é¢‘ã€‘</h2><blockquote><p><strong>åœ¨ Java è¯­è¨€ä¸­ï¼ŒGC Roots åŒ…æ‹¬ä»¥ä¸‹å‡ ç±»å…ƒç´ ï¼š</strong></p></blockquote><ul><li>è™šæ‹Ÿæœºæ ˆä¸­å¼•ç”¨çš„å¯¹è±¡ <ul><li>æ¯”å¦‚ï¼šå„ä¸ªçº¿ç¨‹è¢«è°ƒç”¨çš„æ–¹æ³•ä¸­ä½¿ç”¨åˆ°çš„å‚æ•°ã€å±€éƒ¨å˜é‡ç­‰ã€‚</li></ul></li><li>æœ¬åœ°æ–¹æ³•æ ˆå†… JNIï¼ˆé€šå¸¸è¯´çš„æœ¬åœ°æ–¹æ³•ï¼‰å¼•ç”¨çš„å¯¹è±¡</li><li>æ–¹æ³•åŒºä¸­ç±»é™æ€å±æ€§å¼•ç”¨çš„å¯¹è±¡ <ul><li>æ¯”å¦‚ï¼šJava ç±»çš„å¼•ç”¨ç±»å‹é™æ€å˜é‡</li></ul></li><li>æ–¹æ³•åŒºä¸­å¸¸é‡å¼•ç”¨çš„å¯¹è±¡ <ul><li>æ¯”å¦‚ï¼šå­—ç¬¦ä¸²å¸¸é‡æ± ï¼ˆString Tableï¼‰é‡Œçš„å¼•ç”¨</li></ul></li><li>æ‰€æœ‰è¢«åŒæ­¥é” synchronized æŒæœ‰çš„å¯¹è±¡</li><li>Java è™šæ‹Ÿæœºå†…éƒ¨çš„å¼•ç”¨ã€‚</li><li>åŸºæœ¬æ•°æ®ç±»å‹å¯¹åº”çš„ Class å¯¹è±¡ï¼Œä¸€äº›å¸¸é©»çš„å¼‚å¸¸å¯¹è±¡ï¼ˆå¦‚ï¼š<code>NullPointerException</code>ã€<code>OutOfMemoryError</code>ï¼‰ï¼Œç³»ç»Ÿç±»åŠ è½½å™¨ã€‚</li><li>åæ˜  java è™šæ‹Ÿæœºå†…éƒ¨æƒ…å†µçš„ JMXBeanã€JVMTI ä¸­æ³¨å†Œçš„å›è°ƒã€æœ¬åœ°ä»£ç ç¼“å­˜ç­‰ã€‚</li><li>é™¤äº†è¿™äº›å›ºå®šçš„ GC Roots é›†åˆä»¥å¤–ï¼Œæ ¹æ®ç”¨æˆ·æ‰€é€‰ç”¨çš„åƒåœ¾æ”¶é›†å™¨ä»¥åŠå½“å‰å›æ”¶çš„å†…å­˜åŒºåŸŸä¸åŒï¼Œ<u>è¿˜å¯ä»¥æœ‰å…¶ä»–å¯¹è±¡ â€œä¸´æ—¶æ€§â€ åœ°åŠ å…¥ï¼Œå…±åŒæ„æˆå®Œæ•´ GC Roots é›†åˆã€‚æ¯”å¦‚ï¼šåˆ†ä»£æ”¶é›†å’Œå±€éƒ¨å›æ”¶</u>ï¼ˆPartialGCï¼‰ã€‚ <ul><li>å¦‚æœåªé’ˆå¯¹ Java å †ä¸­çš„æŸä¸€å—åŒºåŸŸè¿›è¡Œåƒåœ¾å›æ”¶ï¼ˆæ¯”å¦‚ï¼šå…¸å‹çš„åªé’ˆå¯¹æ–°ç”Ÿä»£ï¼‰ï¼Œå¿…é¡»è€ƒè™‘åˆ°å†…å­˜åŒºåŸŸæ˜¯è™šæ‹Ÿæœºè‡ªå·±çš„å®ç°ç»†èŠ‚ï¼Œæ›´ä¸æ˜¯å­¤ç«‹å°é—­çš„ï¼Œè¿™ä¸ªåŒºåŸŸçš„å¯¹è±¡å®Œå…¨æœ‰å¯èƒ½è¢«å…¶ä»–åŒºåŸŸçš„å¯¹è±¡æ‰€å¼•ç”¨ï¼Œè¿™æ—¶å€™å°±éœ€è¦ä¸€å¹¶å°†å…³è”çš„åŒºåŸŸå¯¹è±¡ä¹ŸåŠ å…¥ GCRoots é›†åˆä¸­å»è€ƒè™‘ï¼Œæ‰èƒ½ä¿è¯å¯è¾¾æ€§åˆ†æçš„å‡†ç¡®æ€§ã€‚</li><li>å…¸å‹çš„åªé’ˆå¯¹æ–°ç”Ÿä»£ï¼šå› ä¸ºæ–°ç”Ÿä»£é™¤å¤–ï¼Œè¿˜æœ‰å…³è”çš„è€å¹´ä»£ï¼Œæ‰€ä»¥éœ€è¦å°†è€å¹´ä»£ä¹Ÿä¸€å¹¶åŠ å…¥ GC Roots é›†åˆä¸­</li></ul></li><li>å°æŠ€å·§ <ul><li>ç”±äº Root é‡‡ç”¨æ ˆæ–¹å¼å­˜æ”¾å˜é‡å’ŒæŒ‡é’ˆï¼Œæ‰€ä»¥å¦‚æœä¸€ä¸ªæŒ‡é’ˆï¼Œå®ƒä¿å­˜äº†å †å†…å­˜é‡Œé¢çš„å¯¹è±¡ï¼Œä½†æ˜¯è‡ªå·±åˆä¸å­˜æ”¾åœ¨å †å†…å­˜é‡Œé¢ï¼Œé‚£å®ƒå°±æ˜¯ä¸€ä¸ª Rootã€‚</li></ul></li></ul><p>çº¢è‰²çš„éƒ½æ²¡æœ‰è¢« GC Roots æ‰€å¼•ç”¨ï¼Œæ‰€ä»¥éƒ½æ˜¯åƒåœ¾</p><figure><img src="/Computer-Science-Learn-Notes/assets/b109bc700f66f044281574f3b86b1dfd-a8566cf0.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><blockquote><p><strong>æ³¨æ„</strong></p></blockquote><ul><li>å¦‚æœè¦ä½¿ç”¨å¯è¾¾æ€§åˆ†æç®—æ³•æ¥åˆ¤æ–­å†…å­˜æ˜¯å¦å¯å›æ”¶ï¼Œé‚£ä¹ˆåˆ†æå·¥ä½œå¿…é¡»åœ¨ä¸€ä¸ªèƒ½ä¿éšœ<strong>ä¸€è‡´æ€§</strong> (æŸä¸€åˆ»çš„é™æ­¢çŠ¶æ€) çš„å¿«ç…§ä¸­è¿›è¡Œã€‚è¿™ç‚¹ä¸æ»¡è¶³çš„è¯åˆ†æç»“æœçš„å‡†ç¡®æ€§å°±æ— æ³•ä¿è¯ã€‚</li><li>è¿™ç‚¹ä¹Ÿæ˜¯å¯¼è‡´ GC è¿›è¡Œæ—¶å¿…é¡» â€œstop The Worldâ€ çš„ä¸€ä¸ªé‡è¦åŸå› ã€‚ <ul><li>å³ä½¿æ˜¯å·ç§°ï¼ˆå‡ ä¹ï¼‰ä¸ä¼šå‘ç”Ÿåœé¡¿çš„ CMS æ”¶é›†å™¨ä¸­ï¼Œæšä¸¾æ ¹èŠ‚ç‚¹æ—¶ä¹Ÿæ˜¯å¿…é¡»è¦åœé¡¿çš„ã€‚</li></ul></li></ul><h1 id="å¯¹è±¡çš„-finalization-æœºåˆ¶" tabindex="-1"><a class="header-anchor" href="#å¯¹è±¡çš„-finalization-æœºåˆ¶" aria-hidden="true">#</a> å¯¹è±¡çš„ finalization æœºåˆ¶</h1><blockquote><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>protected void finalize()
                throws Throwable
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>å½“åƒåœ¾æ”¶é›†ç¡®å®šä¸å†æœ‰å¯¹è¯¥å¯¹è±¡çš„å¼•ç”¨æ—¶ï¼Œåƒåœ¾æ”¶é›†å™¨åœ¨å¯¹è±¡ä¸Šè°ƒç”¨è¯¥å¯¹è±¡ã€‚ä¸€ä¸ªå­ç±»è¦†ç›–äº†å¤„ç†ç³»ç»Ÿèµ„æºæˆ–æ‰§è¡Œå…¶ä»–æ¸…ç†çš„<code>finalize</code>æ–¹æ³•ã€‚</p><p><code>finalize</code>çš„ä¸€èˆ¬åˆåŒæ˜¯ï¼Œå¦‚æœJavaÂ¢è™šæ‹Ÿæœºå·²ç»ç¡®å®šä¸å†æœ‰ä»»ä½•æ–¹æ³•å¯ä»¥è¢«ä»»ä½•å°šæœªæ­»äº¡çš„çº¿ç¨‹è®¿é—®çš„æ–¹æ³•è¢«è°ƒç”¨ï¼Œé™¤éæ˜¯ç”±äºæœ€åç¡®å®šçš„å…¶ä»–å¯¹è±¡æˆ–ç±»çš„å‡†å¤‡å·¥ä½œæ‰€é‡‡å–çš„è¡ŒåŠ¨ã€‚ <code>finalize</code>æ–¹æ³•å¯ä»¥é‡‡å–ä»»ä½•è¡ŒåŠ¨ï¼ŒåŒ…æ‹¬ä½¿æ­¤å¯¹è±¡å†æ¬¡å¯ç”¨äºå…¶ä»–çº¿ç¨‹; ç„¶è€Œï¼Œ <code>finalize</code>çš„é€šå¸¸ç›®çš„æ˜¯åœ¨å¯¹è±¡ä¸å¯æ’¤é”€åœ°ä¸¢å¼ƒä¹‹å‰æ‰§è¡Œæ¸…é™¤åŠ¨ä½œã€‚ ä¾‹å¦‚ï¼Œè¡¨ç¤ºè¾“å…¥/è¾“å‡ºè¿æ¥çš„å¯¹è±¡çš„finalizeæ–¹æ³•å¯èƒ½ä¼šåœ¨å¯¹è±¡è¢«æ°¸ä¹…ä¸¢å¼ƒä¹‹å‰æ‰§è¡Œæ˜¾å¼I / Oäº‹åŠ¡æ¥ä¸­æ–­è¿æ¥ã€‚</p><p>æ‰€è¿°<code>finalize</code>ç±»çš„æ–¹æ³•<code>Object</code>æ‰§è¡Œä»»ä½•ç‰¹æ®Šæ“ä½œ; å®ƒåªæ˜¯è¿”å›æ­£å¸¸ã€‚ Objectçš„<code>Object</code>å¯ä»¥è¦†ç›–æ­¤å®šä¹‰ã€‚</p><p>Javaç¼–ç¨‹è¯­è¨€ä¸èƒ½ä¿è¯å“ªä¸ªçº¿ç¨‹å°†ä¸ºä»»ä½•ç»™å®šçš„å¯¹è±¡è°ƒç”¨<code>finalize</code>æ–¹æ³•ã€‚ ä½†æ˜¯ï¼Œç¡®ä¿è°ƒç”¨finalizeçš„çº¿ç¨‹åœ¨è°ƒç”¨finalizeæ—¶ä¸ä¼šæŒæœ‰ä»»ä½•ç”¨æˆ·å¯è§çš„åŒæ­¥é”ã€‚ å¦‚æœfinalizeæ–¹æ³•æŠ›å‡ºæœªæ•è·çš„å¼‚å¸¸ï¼Œåˆ™ä¼šå¿½ç•¥è¯¥å¼‚å¸¸ï¼Œå¹¶ç»ˆæ­¢è¯¥å¯¹è±¡çš„å®šç±»ã€‚</p><p>åœ¨ä¸ºå¯¹è±¡è°ƒç”¨<code>finalize</code>æ–¹æ³•ä¹‹åï¼Œåœ¨Javaè™šæ‹Ÿæœºå†æ¬¡ç¡®å®šä¸å†æœ‰ä»»ä½•æ–¹å¼å¯ä»¥é€šè¿‡ä»»ä½•å°šæœªè¢«æ­»äº¡çš„çº¿ç¨‹è®¿é—®æ­¤å¯¹è±¡çš„ä»»ä½•æ–¹æ³•çš„æƒ…å†µä¸‹ï¼Œå°†é‡‡å–è¿›ä¸€æ­¥çš„æ“ä½œï¼ŒåŒ…æ‹¬å¯èƒ½çš„æ“ä½œç”±å‡†å¤‡å®Œæˆçš„å…¶ä»–å¯¹è±¡æˆ–ç±»åˆ«ï¼Œæ­¤æ—¶å¯ä»¥ä¸¢å¼ƒå¯¹è±¡ã€‚</p><p><code>finalize</code>æ–¹æ³•ä»ä¸è¢«ä»»ä½•ç»™å®šå¯¹è±¡çš„Javaè™šæ‹Ÿæœºè°ƒç”¨å¤šæ¬¡ã€‚</p><p><code>finalize</code>æ–¹æ³•æŠ›å‡ºçš„ä»»ä½•å¼‚å¸¸éƒ½ä¼šå¯¼è‡´è¯¥å¯¹è±¡çš„ç»ˆæ­¢è¢«åœæ­¢ï¼Œå¦åˆ™è¢«å¿½ç•¥ã€‚</p><ul><li><strong>å¼‚å¸¸</strong></li></ul><p><code>Throwable</code> - è¿™ä¸ªæ–¹æ³•æå‡ºçš„ <code>å¼‚å¸¸</code></p><ul><li><strong>å¦è¯·å‚è§ï¼š</strong></li></ul><p><code>WeakReference</code> ï¼Œ <code>PhantomReference</code></p><ul><li><strong>See The Javaâ„¢ Language Specification:</strong></li></ul><p>12.6ç±»å®ä¾‹çš„å®šç¨¿</p></blockquote><ul><li>Java è¯­è¨€æä¾›äº†å¯¹è±¡ç»ˆæ­¢ï¼ˆfinalizationï¼‰æœºåˆ¶æ¥å…è®¸å¼€å‘äººå‘˜æä¾›å¯¹è±¡è¢«é”€æ¯ä¹‹å‰çš„è‡ªå®šä¹‰å¤„ç†é€»è¾‘ã€‚</li><li>å½“åƒåœ¾å›æ”¶å™¨å‘ç°æ²¡æœ‰å¼•ç”¨æŒ‡å‘ä¸€ä¸ªå¯¹è±¡ï¼Œå³ï¼šåƒåœ¾å›æ”¶æ­¤å¯¹è±¡ä¹‹å‰ï¼Œæ€»ä¼šå…ˆè°ƒç”¨è¿™ä¸ªå¯¹è±¡çš„ <code>finalize( )</code> æ–¹æ³•ã€‚</li><li><code>finalize( )</code> æ–¹æ³•å…è®¸åœ¨å­ç±»ä¸­è¢«é‡å†™ï¼Œç”¨äºåœ¨å¯¹è±¡è¢«å›æ”¶æ—¶è¿›è¡Œèµ„æºé‡Šæ”¾ã€‚é€šå¸¸åœ¨è¿™ä¸ªæ–¹æ³•ä¸­è¿›è¡Œä¸€äº›èµ„æºé‡Šæ”¾å’Œæ¸…ç†çš„å·¥ä½œï¼Œæ¯”å¦‚å…³é—­æ–‡ä»¶ã€å¥—æ¥å­—å’Œæ•°æ®åº“è¿æ¥ç­‰ã€‚</li><li>æ°¸è¿œä¸è¦ä¸»åŠ¨è°ƒç”¨æŸä¸ªå¯¹è±¡çš„ finalize ( ) æ–¹æ³•ï¼Œåº”è¯¥äº¤ç»™åƒåœ¾å›æ”¶æœºåˆ¶è°ƒç”¨ã€‚ç†ç”±åŒ…æ‹¬ä¸‹é¢ä¸‰ç‚¹ï¼š <ul><li>åœ¨ <code>finalize( )</code> æ‰§è¡Œæ—¶å¯èƒ½ä¼šå¯¼è‡´å¯¹è±¡å¤æ´»ã€‚</li><li><code>finalize( )</code> æ–¹æ³•çš„æ‰§è¡Œæ—¶é—´æ˜¯æ²¡æœ‰ä¿éšœçš„ï¼Œå®ƒå®Œå…¨ç”± GC çº¿ç¨‹å†³å®šï¼Œæç«¯æƒ…å†µä¸‹ï¼Œè‹¥ä¸å‘ç”Ÿ GCï¼Œåˆ™ <code>finalize( )</code> æ–¹æ³•å°†æ²¡æœ‰æ‰§è¡Œæœºä¼šã€‚</li><li>ä¸€ä¸ªç³Ÿç³•çš„ <code>finalize( )</code> ä¼šä¸¥é‡å½±å“ GC çš„æ€§èƒ½ã€‚</li></ul></li><li>ä»åŠŸèƒ½ä¸Šæ¥è¯´ï¼Œ<code>finalize( )</code> æ–¹æ³•ä¸ C++ ä¸­çš„ææ„å‡½æ•°æ¯”è¾ƒç›¸ä¼¼ï¼Œä½†æ˜¯ Java é‡‡ç”¨çš„æ˜¯åŸºäºåƒåœ¾å›æ”¶å™¨çš„è‡ªåŠ¨å†…å­˜ç®¡ç†æœºåˆ¶ï¼Œæ‰€ä»¥ <code>finalize( )</code> æ–¹æ³•åœ¨æœ¬è´¨ä¸Šä¸åŒäº C++ ä¸­çš„ææ„å‡½æ•°ã€‚</li><li>ç”±äº <code>finalize( )</code> æ–¹æ³•çš„å­˜åœ¨ï¼Œè™šæ‹Ÿæœºä¸­çš„å¯¹è±¡ä¸€èˆ¬å¤„äºä¸‰ç§å¯èƒ½çš„çŠ¶æ€ã€‚</li></ul><h2 id="ä¸‰ç§å¯èƒ½çš„çŠ¶æ€" tabindex="-1"><a class="header-anchor" href="#ä¸‰ç§å¯èƒ½çš„çŠ¶æ€" aria-hidden="true">#</a> ä¸‰ç§å¯èƒ½çš„çŠ¶æ€</h2><ul><li>å¦‚æœä»æ‰€æœ‰çš„æ ¹èŠ‚ç‚¹éƒ½æ— æ³•è®¿é—®åˆ°æŸä¸ªå¯¹è±¡ï¼Œè¯´æ˜å¯¹è±¡å·±ç»ä¸å†ä½¿ç”¨äº†ã€‚ä¸€èˆ¬æ¥è¯´ï¼Œæ­¤å¯¹è±¡éœ€è¦è¢«å›æ”¶ã€‚ä½†äº‹å®ä¸Šï¼Œä¹Ÿå¹¶éæ˜¯ â€œéæ­»ä¸å¯â€ çš„ï¼Œè¿™æ—¶å€™å®ƒä»¬æš‚æ—¶å¤„äº â€œç¼“åˆ‘â€ é˜¶æ®µã€‚ä¸€ä¸ªæ— æ³•è§¦åŠçš„å¯¹è±¡æœ‰å¯èƒ½åœ¨æŸä¸€ä¸ªæ¡ä»¶ä¸‹ â€œå¤æ´»â€ è‡ªå·±ï¼Œå¦‚æœè¿™æ ·ï¼Œé‚£ä¹ˆå¯¹å®ƒçš„å›æ”¶å°±æ˜¯ä¸åˆç†çš„ï¼Œä¸ºæ­¤ï¼Œå®šä¹‰è™šæ‹Ÿæœºä¸­çš„å¯¹è±¡å¯èƒ½çš„ä¸‰ç§çŠ¶æ€ã€‚å¦‚ä¸‹ï¼š <ul><li><strong>å¯è§¦åŠçš„</strong>ï¼šä»æ ¹èŠ‚ç‚¹å¼€å§‹ï¼Œå¯ä»¥åˆ°è¾¾è¿™ä¸ªå¯¹è±¡ã€‚ï¼ˆ===&gt; ä¸æ˜¯åƒåœ¾ï¼‰</li><li><strong>å¯å¤æ´»çš„</strong>ï¼šå¯¹è±¡çš„æ‰€æœ‰å¼•ç”¨éƒ½è¢«é‡Šæ”¾ï¼Œä½†æ˜¯å¯¹è±¡æœ‰<u>å¯èƒ½</u>åœ¨ <code>finalize()</code> ä¸­<u>å¤æ´»</u>ã€‚</li><li><strong>ä¸å¯è§¦åŠçš„</strong>ï¼šå¯¹è±¡çš„ <code>finalize()</code> è¢«è°ƒç”¨ï¼Œå¹¶ä¸”<u>æ²¡æœ‰å¤æ´»</u>ï¼Œé‚£ä¹ˆå°±ä¼šè¿›å…¥ä¸å¯è§¦åŠçŠ¶æ€ã€‚ä¸å¯è§¦åŠçš„å¯¹è±¡ä¸å¯èƒ½è¢«å¤æ´»ï¼Œå› ä¸º <code>finalize()</code> åªä¼šè¢«è°ƒç”¨ä¸€æ¬¡ã€‚</li></ul></li><li>ä»¥ä¸Š 3 ç§çŠ¶æ€ä¸­ï¼Œæ˜¯ç”±äº <code>finalize()</code> æ–¹æ³•çš„å­˜åœ¨ï¼Œè¿›è¡Œçš„åŒºåˆ†ã€‚åªæœ‰åœ¨å¯¹è±¡ä¸å¯è§¦åŠæ—¶æ‰å¯ä»¥è¢«å›æ”¶ã€‚</li></ul><h2 id="å…·ä½“è¿‡ç¨‹" tabindex="-1"><a class="header-anchor" href="#å…·ä½“è¿‡ç¨‹" aria-hidden="true">#</a> å…·ä½“è¿‡ç¨‹</h2><p>åˆ¤å®šä¸€ä¸ªå¯¹è±¡ objA æ˜¯å¦å¯å›æ”¶ï¼Œè‡³å°‘è¦ç»å†ä¸¤æ¬¡æ ‡è®°è¿‡ç¨‹ï¼š</p><ol><li><p>å¦‚æœå¯¹è±¡ objA åˆ° GC Roots æ²¡æœ‰å¼•ç”¨é“¾ï¼Œåˆ™è¿›è¡Œç¬¬ä¸€æ¬¡æ ‡è®°ã€‚</p></li><li><p>è¿›è¡Œç­›é€‰ï¼Œåˆ¤æ–­æ­¤å¯¹è±¡æ˜¯å¦æœ‰å¿…è¦æ‰§è¡Œ</p></li></ol><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>finalize()
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>æ–¹æ³•</p><ol><li><p>å¦‚æœå¯¹è±¡ objA æ²¡æœ‰é‡å†™ <code>finalize()</code> æ–¹æ³•ï¼Œæˆ–è€… <code>finalize()</code> æ–¹æ³•å·²ç»è¢«è™šæ‹Ÿæœºè°ƒç”¨è¿‡ï¼Œåˆ™è™šæ‹Ÿæœºè§†ä¸º â€œæ²¡æœ‰å¿…è¦æ‰§è¡Œâ€ï¼ŒobjA è¢«åˆ¤å®šä¸ºä¸å¯è§¦åŠçš„ã€‚</p></li><li><p>å¦‚æœå¯¹è±¡ objA é‡å†™äº† <code>finalize()</code> æ–¹æ³•ï¼Œä¸”è¿˜æœªæ‰§è¡Œè¿‡ï¼Œé‚£ä¹ˆ objA ä¼šè¢«æ’å…¥åˆ° <code>F-Queue</code> é˜Ÿåˆ—ä¸­ï¼Œç”±ä¸€ä¸ªè™šæ‹Ÿæœºè‡ªåŠ¨åˆ›å»ºçš„ã€ä½ä¼˜å…ˆçº§çš„ <code>Finalizer</code> çº¿ç¨‹è§¦å‘å…¶ <code>finalize()</code> æ–¹æ³•æ‰§è¡Œã€‚</p></li><li><p><code>finalize()</code> æ–¹æ³•æ˜¯å¯¹è±¡é€ƒè„±æ­»äº¡çš„æœ€åæœºä¼šï¼Œç¨å GC ä¼šå¯¹ F-Queue é˜Ÿåˆ—ä¸­çš„å¯¹è±¡è¿›è¡Œç¬¬äºŒæ¬¡æ ‡è®°ã€‚å¦‚æœ objA åœ¨ <code>finalize()</code> æ–¹æ³•ä¸­ä¸å¼•ç”¨é“¾ä¸Šçš„ä»»ä½•ä¸€ä¸ªå¯¹è±¡å»ºç«‹äº†è”ç³»ï¼Œé‚£ä¹ˆåœ¨ç¬¬äºŒæ¬¡æ ‡è®°æ—¶ï¼ŒobjA ä¼šè¢«ç§»å‡º â€œå³å°†å›æ”¶â€ é›†åˆã€‚ä¹‹åï¼Œå¯¹è±¡å¦‚æœå†æ¬¡å‡ºç°æ²¡æœ‰å¼•ç”¨å­˜åœ¨çš„æƒ…å†µã€‚åœ¨è¿™ä¸ªæƒ…å†µä¸‹ï¼Œ <code>finalize()</code> æ–¹æ³•ä¸ä¼šè¢«å†æ¬¡è°ƒç”¨ï¼Œå¯¹è±¡ä¼šç›´æ¥å˜æˆä¸å¯è§¦åŠçš„çŠ¶æ€ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œ<strong>ä¸€ä¸ªå¯¹è±¡çš„ <code>finalize()</code> æ–¹æ³•åªä¼šè¢«è°ƒç”¨ä¸€æ¬¡ã€‚</strong></p></li></ol><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">RefCountGC</span> <span class="token punctuation">{</span>

    <span class="token comment">//è¿™ä¸ªæˆå‘˜å±æ€§å”¯ä¸€çš„ä½œç”¨å°±æ˜¯å ç”¨ä¸€ç‚¹å†…å­˜</span>
    <span class="token keyword">private</span> <span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span> bigSize <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token number">5</span> <span class="token operator">*</span> <span class="token number">1024</span> <span class="token operator">*</span> <span class="token number">1024</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">//5MB</span>

    <span class="token class-name">Object</span> reference <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">RefCountGC</span> obj1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">RefCountGC</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">RefCountGC</span> obj2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">RefCountGC</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        obj1<span class="token punctuation">.</span>reference <span class="token operator">=</span> obj2<span class="token punctuation">;</span>
        obj2<span class="token punctuation">.</span>reference <span class="token operator">=</span> obj1<span class="token punctuation">;</span>

        obj1 <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
        obj2 <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
        <span class="token comment">//æ˜¾å¼çš„æ‰§è¡Œåƒåœ¾å›æ”¶è¡Œä¸º</span>
        <span class="token comment">//è¿™é‡Œå‘ç”ŸGCï¼Œobj1å’Œobj2èƒ½å¦è¢«å›æ”¶ï¼Ÿ</span>
         <span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">gc</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">try</span> <span class="token punctuation">{</span>
            <span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">sleep</span><span class="token punctuation">(</span><span class="token number">1000000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">InterruptedException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><figure><img src="/Computer-Science-Learn-Notes/assets/696cd6a17dca1a1d2f760596caa333c2-81dc17cf.png" alt="Untitled" tabindex="0" loading="lazy"><figcaption>Untitled</figcaption></figure><blockquote><p>ä»£ç ç¤ºä¾‹</p></blockquote><p>é‡å†™ <code>finalize()</code> æ–¹æ³•ï¼Œç„¶ååœ¨æ–¹æ³•çš„å†…éƒ¨ï¼Œé‡å†™å°†å…¶å­˜æ”¾åˆ° GC Roots ä¸­</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token doc-comment comment">/**
 * æµ‹è¯•Objectç±»ä¸­finalize()æ–¹æ³•ï¼Œå³å¯¹è±¡çš„finalizationæœºåˆ¶ã€‚
 */</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">CanReliveObj</span> <span class="token punctuation">{</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">CanReliveObj</span> obj<span class="token punctuation">;</span> <span class="token comment">//ç±»å˜é‡ï¼Œå±äº GC Root</span>

    <span class="token comment">//æ­¤æ–¹æ³•åªèƒ½è¢«è°ƒç”¨ä¸€æ¬¡</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">finalize</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Throwable</span> <span class="token punctuation">{</span>
        <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">finalize</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;è°ƒç”¨å½“å‰ç±»é‡å†™çš„finalize()æ–¹æ³•&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        obj <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">;</span><span class="token comment">//å½“å‰å¾…å›æ”¶çš„å¯¹è±¡åœ¨finalize()æ–¹æ³•ä¸­ä¸å¼•ç”¨é“¾ä¸Šçš„ä¸€ä¸ªå¯¹è±¡objå»ºç«‹äº†è”ç³»</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">try</span> <span class="token punctuation">{</span>
            obj <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">CanReliveObj</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment">// å¯¹è±¡ç¬¬ä¸€æ¬¡æˆåŠŸæ‹¯æ•‘è‡ªå·±</span>
            obj <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">gc</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//è°ƒç”¨åƒåœ¾å›æ”¶å™¨</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;-----------------ç¬¬ä¸€æ¬¡gcæ“ä½œ------------&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment">// å› ä¸ºFinalizerçº¿ç¨‹ä¼˜å…ˆçº§å¾ˆä½ï¼Œæš‚åœ2ç§’ï¼Œä»¥ç­‰å¾…å®ƒ</span>
            <span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">sleep</span><span class="token punctuation">(</span><span class="token number">2000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>obj <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;obj is dead&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
                <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;obj is still alive&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;-----------------ç¬¬äºŒæ¬¡gcæ“ä½œ------------&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment">// ä¸‹é¢è¿™æ®µä»£ç ä¸ä¸Šé¢çš„å®Œå…¨ç›¸åŒï¼Œä½†æ˜¯è¿™æ¬¡è‡ªæ•‘å´å¤±è´¥äº†</span>
            obj <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">gc</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment">// å› ä¸ºFinalizerçº¿ç¨‹ä¼˜å…ˆçº§å¾ˆä½ï¼Œæš‚åœ2ç§’ï¼Œä»¥ç­‰å¾…å®ƒ</span>
            <span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">sleep</span><span class="token punctuation">(</span><span class="token number">2000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>obj <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;obj is dead&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
                <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;obj is still alive&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">InterruptedException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ç¨‹åºè¿è¡Œç»“æœ</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>-----------------ç¬¬ä¸€æ¬¡gcæ“ä½œ------------
è°ƒç”¨å½“å‰ç±»é‡å†™çš„finalize()æ–¹æ³•
obj is still alive
-----------------ç¬¬äºŒæ¬¡gcæ“ä½œ------------
obj is dead
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>åœ¨è¿›è¡Œç¬¬ä¸€æ¬¡æ¸…é™¤çš„æ—¶å€™ï¼Œæˆ‘ä»¬ä¼šæ‰§è¡Œ <code>finalize()</code> æ–¹æ³•ï¼Œç„¶åå¯¹è±¡è¿›è¡Œäº†ä¸€æ¬¡è‡ªæ•‘æ“ä½œï¼Œä½†æ˜¯å› ä¸º <code>finalize()</code> æ–¹æ³•åªä¼šè¢«è°ƒç”¨ä¸€æ¬¡ï¼Œå› æ­¤ç¬¬äºŒæ¬¡è¯¥å¯¹è±¡å°†ä¼šè¢«åƒåœ¾æ¸…é™¤ã€‚</p><h1 id="mat-ä¸-jprofiler-çš„-gc-roots-æº¯æº" tabindex="-1"><a class="header-anchor" href="#mat-ä¸-jprofiler-çš„-gc-roots-æº¯æº" aria-hidden="true">#</a> MAT ä¸ JProfiler çš„ GC Roots æº¯æº</h1><h2 id="jprofiler-çš„-gc-roots-æº¯æº" tabindex="-1"><a class="header-anchor" href="#jprofiler-çš„-gc-roots-æº¯æº" aria-hidden="true">#</a> JProfiler çš„ GC Roots æº¯æº</h2><p>æˆ‘ä»¬åœ¨å®é™…çš„å¼€å‘ä¸­ï¼Œä¸€èˆ¬ä¸ä¼šæŸ¥æ‰¾å…¨éƒ¨çš„ GC Rootsï¼Œå¯èƒ½åªæ˜¯æŸ¥æ‰¾æŸä¸ªå¯¹è±¡çš„æ•´ä¸ªé“¾è·¯ï¼Œæˆ–è€…ç§°ä¸º GC Roots æº¯æºï¼Œè¿™ä¸ªæ—¶å€™ï¼Œæˆ‘ä»¬å°±å¯ä»¥ä½¿ç”¨ JProfilerã€‚</p><blockquote><p>ä»£ç ç¤ºä¾‹</p></blockquote><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">GCRootsTest</span> <span class="token punctuation">{</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Object</span><span class="token punctuation">&gt;</span></span> numList <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Date</span> birth <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">100</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            numList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">.</span><span class="token function">valueOf</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">try</span> <span class="token punctuation">{</span>
                <span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">sleep</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">InterruptedException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>

        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;æ•°æ®æ·»åŠ å®Œæ¯•ï¼Œè¯·æ“ä½œï¼š&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">new</span> <span class="token class-name">Scanner</span><span class="token punctuation">(</span><span class="token class-name">System</span><span class="token punctuation">.</span>in<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        numList <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
        birth <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>

        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;numListã€birthå·²ç½®ç©ºï¼Œè¯·æ“ä½œï¼š&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">new</span> <span class="token class-name">Scanner</span><span class="token punctuation">(</span><span class="token class-name">System</span><span class="token punctuation">.</span>in<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;ç»“æŸ&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å¯ä»¥æŸ¥çœ‹å½“å‰å€¼ï¼Œç„¶åæ¡å°±ä¼šå˜æˆç»¿è‰²</p><figure><img src="/Computer-Science-Learn-Notes/assets/image-20220306151728075-f9e9312a.png" alt="image-20220306151728075" tabindex="0" loading="lazy"><figcaption>image-20220306151728075</figcaption></figure><figure><img src="/Computer-Science-Learn-Notes/assets/image-20220306152130246-bc47252a.png" alt="image-20220306152130246" tabindex="0" loading="lazy"><figcaption>image-20220306152130246</figcaption></figure><p>å¯ä»¥æŸ¥çœ‹é€‰ä¸­çš„çš„å †ï¼Œåœ¨å¼•ç”¨ä¸­å¯ä»¥æŸ¥çœ‹æ¥æºå¼•ç”¨ã€è¿½æº¯</p><figure><img src="/Computer-Science-Learn-Notes/assets/image-20220306152104781-2481c2d5.png" alt="image-20220306152104781" tabindex="0" loading="lazy"><figcaption>image-20220306152104781</figcaption></figure><h2 id="jprofiler-æŸ¥çœ‹oom" tabindex="-1"><a class="header-anchor" href="#jprofiler-æŸ¥çœ‹oom" aria-hidden="true">#</a> JProfiler æŸ¥çœ‹OOM</h2><blockquote><p>ä»£ç ç¤ºä¾‹</p></blockquote><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token doc-comment comment">/**
 * å†…å­˜æº¢å‡ºæ’æŸ¥
 * -Xms8m -Xmx8m -XX:+HeapDumpOnOutOfMemoryError
 */</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">HeapOOM</span> <span class="token punctuation">{</span>
    <span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span> buffer <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token number">1</span> <span class="token operator">*</span> <span class="token number">1024</span> <span class="token operator">*</span> <span class="token number">1024</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token comment">//1MB</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">HeapOOM</span><span class="token punctuation">&gt;</span></span> list <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">int</span> count <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
        <span class="token keyword">try</span> <span class="token punctuation">{</span>
            <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                list<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">HeapOOM</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                count<span class="token operator">++</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Throwable</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;count = &quot;</span> <span class="token operator">+</span> count<span class="token punctuation">)</span><span class="token punctuation">;</span>
            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>ç»“æœ</p></blockquote><figure><img src="/Computer-Science-Learn-Notes/assets/image-20220306152534926-c1a3e7d7.png" alt="image-20220306152534926" tabindex="0" loading="lazy"><figcaption>image-20220306152534926</figcaption></figure><p>å¯ä»¥çœ‹åˆ°å·²ç»ä¿å­˜äº†dumpï¼Œä½¿ç”¨jprofileræ‰“å¼€åå¯ä»¥çœ‹åˆ°ï¼Œæœ‰ä¸€ä¸ªå¤§å¯¹è±¡</p><figure><img src="/Computer-Science-Learn-Notes/assets/image-20220306152603223-196327f2.png" alt="image-20220306152603223" tabindex="0" loading="lazy"><figcaption>image-20220306152603223</figcaption></figure><p>ç„¶åæˆ‘ä»¬é€šè¿‡çº¿ç¨‹ï¼Œè¿˜èƒ½å¤Ÿå®šä½åˆ°å“ªé‡Œå‡ºç° OOM</p><figure><img src="/Computer-Science-Learn-Notes/assets/image-20220306152637816-98bb7009.png" alt="image-20220306152637816" tabindex="0" loading="lazy"><figcaption>image-20220306152637816</figcaption></figure><p>ç„¶åå°±å¯ä»¥å®šä½åˆ°ä»£ç ä½ç½®</p><figure><img src="/Computer-Science-Learn-Notes/assets/image-20220306152800014-2d8e5c42.png" alt="image-20220306152800014" tabindex="0" loading="lazy"><figcaption>image-20220306152800014</figcaption></figure><h1 id="æ¸…é™¤é˜¶æ®µ-æ ‡è®°-æ¸…é™¤ç®—æ³•-mark-sweep" tabindex="-1"><a class="header-anchor" href="#æ¸…é™¤é˜¶æ®µ-æ ‡è®°-æ¸…é™¤ç®—æ³•-mark-sweep" aria-hidden="true">#</a> æ¸…é™¤é˜¶æ®µï¼šæ ‡è®° - æ¸…é™¤ç®—æ³•ï¼ˆMark-Sweepï¼‰</h1><p>å½“æˆåŠŸåŒºåˆ†å‡ºå†…å­˜ä¸­å­˜æ´»å¯¹è±¡å’Œæ­»äº¡å¯¹è±¡åï¼ŒGC æ¥ä¸‹æ¥çš„ä»»åŠ¡å°±æ˜¯æ‰§è¡Œåƒåœ¾å›æ”¶ï¼Œé‡Šæ”¾æ‰æ— ç”¨å¯¹è±¡æ‰€å ç”¨çš„å†…å­˜ç©ºé—´ï¼Œä»¥ä¾¿æœ‰è¶³å¤Ÿçš„å¯ç”¨å†…å­˜ç©ºé—´ä¸ºæ–°å¯¹è±¡åˆ†é…å†…å­˜ã€‚ç›®å‰åœ¨ JVM ä¸­æ¯”è¾ƒå¸¸è§çš„ä¸‰ç§åƒåœ¾æ”¶é›†ç®—æ³•æ˜¯ï¼š</p><ul><li>æ ‡è®°ä¸€æ¸…é™¤ç®—æ³•ï¼ˆMark-Sweepï¼‰</li><li>å¤åˆ¶ç®—æ³•ï¼ˆCopyingï¼‰</li><li>æ ‡è®° - å‹ç¼©ç®—æ³•ï¼ˆMark-Compactï¼‰</li></ul><blockquote><p>èƒŒæ™¯</p></blockquote><p>æ ‡è®° - æ¸…é™¤ç®—æ³•ï¼ˆMark-Sweepï¼‰æ˜¯ä¸€ç§éå¸¸åŸºç¡€å’Œå¸¸è§çš„åƒåœ¾æ”¶é›†ç®—æ³•ï¼Œè¯¥ç®—æ³•è¢« J.McCarthy ç­‰äººåœ¨ 1960 å¹´æå‡ºå¹¶å¹¶åº”ç”¨äº Lisp è¯­è¨€ã€‚</p><blockquote><p>æ‰§è¡Œè¿‡ç¨‹</p></blockquote><p>å½“å †ä¸­çš„æœ‰æ•ˆå†…å­˜ç©ºé—´ï¼ˆAvailable Memoryï¼‰è¢«è€—å°½çš„æ—¶å€™ï¼Œå°±ä¼šåœæ­¢æ•´ä¸ªç¨‹åºï¼ˆä¹Ÿè¢«ç§°ä¸º Stop The Worldï¼‰ï¼Œç„¶åè¿›è¡Œä¸¤é¡¹å·¥ä½œï¼Œç¬¬ä¸€é¡¹åˆ™æ˜¯æ ‡è®°ï¼Œç¬¬äºŒé¡¹åˆ™æ˜¯æ¸…é™¤ã€‚</p><ul><li><p>æ ‡è®°</p><p>ï¼šCollector ä»å¼•ç”¨æ ¹èŠ‚ç‚¹å¼€å§‹éå†ï¼Œ</p><p>æ ‡è®°æ‰€æœ‰è¢«å¼•ç”¨çš„å¯¹è±¡</p><p>ã€‚ä¸€èˆ¬æ˜¯åœ¨å¯¹è±¡çš„ Header ä¸­è®°å½•ä¸ºå¯è¾¾å¯¹è±¡ã€‚</p><ul><li><strong>æ ‡è®°çš„æ˜¯å¼•ç”¨çš„å¯¹è±¡ï¼Œä¸æ˜¯åƒåœ¾ï¼ï¼</strong></li></ul></li><li><p><strong>æ¸…é™¤</strong>ï¼šCollector å¯¹å †å†…å­˜ä»å¤´åˆ°å°¾è¿›è¡Œçº¿æ€§çš„éå†ï¼Œå¦‚æœå‘ç°æŸä¸ªå¯¹è±¡åœ¨å…¶ Header ä¸­æ²¡æœ‰æ ‡è®°ä¸ºå¯è¾¾å¯¹è±¡ï¼Œåˆ™å°†å…¶å›æ”¶ã€‚</p></li></ul><figure><img src="/Computer-Science-Learn-Notes/assets/image-20220306153530111-84339181.png" alt="image-20220306153530111" tabindex="0" loading="lazy"><figcaption>image-20220306153530111</figcaption></figure><blockquote><p>ç¼ºç‚¹</p></blockquote><ul><li>æ•ˆç‡ä¸ç®—é«˜ï¼ˆç›¸å½“äºè¿›è¡Œäº†ä¸¤æ¬¡çš„å…¨éå†ï¼ŒO(n)çº§åˆ«ï¼‰</li><li>åœ¨è¿›è¡Œ GC çš„æ—¶å€™ï¼Œéœ€è¦åœæ­¢æ•´ä¸ªåº”ç”¨ç¨‹åºï¼Œå¯¼è‡´ç”¨æˆ·ä½“éªŒè¾ƒå·®</li><li>è¿™ç§æ–¹å¼æ¸…ç†å‡ºæ¥çš„ç©ºé—²å†…å­˜æ˜¯ä¸è¿ç»­çš„ï¼Œäº§ç”Ÿ<strong>å†…å­˜ç¢ç‰‡</strong>ï¼Œéœ€è¦ç»´æŠ¤ä¸€ä¸ªç©ºé—²åˆ—è¡¨ï¼ˆç©ºé—²åˆ—è¡¨åœ¨åˆ›å»ºå¯¹è±¡çš„é‚£ä¸€ç« è®²è¿‡ï¼‰</li></ul><blockquote><p>æ³¨æ„ï¼šä½•ä¸ºæ¸…é™¤ï¼Ÿ</p></blockquote><ul><li>è¿™é‡Œæ‰€è°“çš„<u>æ¸…é™¤å¹¶ä¸æ˜¯çœŸçš„ç½®ç©º</u>ï¼Œè€Œæ˜¯æŠŠ<u>éœ€è¦æ¸…é™¤çš„å¯¹è±¡åœ°å€ä¿å­˜åœ¨ç©ºé—²çš„åœ°å€åˆ—è¡¨é‡Œ</u>ã€‚ä¸‹æ¬¡æœ‰æ–°å¯¹è±¡éœ€è¦åŠ è½½æ—¶ï¼Œåˆ¤æ–­åƒåœ¾çš„ä½ç½®ç©ºé—´æ˜¯å¦å¤Ÿï¼Œå¦‚æœå¤Ÿï¼Œå°±å­˜æ”¾è¦†ç›–åŸæœ‰çš„åœ°å€ã€‚</li><li>å…³äºç©ºé—²åˆ—è¡¨æ˜¯åœ¨ä¸ºå¯¹è±¡åˆ†é…å†…å­˜çš„æ—¶å€™ï¼š <ul><li>å¦‚æœå†…å­˜è§„æ•´ <ul><li>é‡‡ç”¨æŒ‡é’ˆç¢°æ’çš„æ–¹å¼è¿›è¡Œå†…å­˜åˆ†é…</li></ul></li><li>å¦‚æœå†…å­˜ä¸è§„æ•´ <ul><li>è™šæ‹Ÿæœºéœ€è¦ç»´æŠ¤ä¸€ä¸ªåˆ—è¡¨</li><li>ç©ºé—²åˆ—è¡¨åˆ†é…</li></ul></li></ul></li></ul><h1 id="æ¸…é™¤é˜¶æ®µ-å¤åˆ¶ç®—æ³•-copying" tabindex="-1"><a class="header-anchor" href="#æ¸…é™¤é˜¶æ®µ-å¤åˆ¶ç®—æ³•-copying" aria-hidden="true">#</a> æ¸…é™¤é˜¶æ®µï¼šå¤åˆ¶ç®—æ³•ï¼ˆCopyingï¼‰</h1><blockquote><p>èƒŒæ™¯</p></blockquote><p>ä¸ºäº†è§£å†³æ ‡è®° - æ¸…é™¤ç®—æ³•åœ¨åƒåœ¾æ”¶é›†æ•ˆç‡æ–¹é¢çš„ç¼ºé™·ï¼ŒM.L.Minsky äº 1963 å¹´å‘è¡¨äº†è‘—åçš„è®ºæ–‡ï¼Œâ€œä½¿ç”¨åŒå­˜å‚¨åŒºçš„ Lisp è¯­è¨€åƒåœ¾æ”¶é›†å™¨ CA LISP Garbage Collector Algorithm Using Serial Secondary Storageï¼‰â€ã€‚M.L.Minsky åœ¨è¯¥è®ºæ–‡ä¸­æè¿°çš„ç®—æ³•è¢«äººä»¬ç§°ä¸ºå¤åˆ¶ï¼ˆCopyingï¼‰ç®—æ³•ï¼Œå®ƒä¹Ÿè¢« M.L.Minsky æœ¬äººæˆåŠŸåœ°å¼•å…¥åˆ°äº† Lisp è¯­è¨€çš„ä¸€ä¸ªå®ç°ç‰ˆæœ¬ä¸­ã€‚</p><blockquote><p>æ ¸å¿ƒæ€æƒ³</p></blockquote><p>å°†æ´»ç€çš„å†…å­˜ç©ºé—´åˆ†ä¸ºä¸¤å—ï¼Œæ¯æ¬¡åªä½¿ç”¨å…¶ä¸­ä¸€å—ï¼Œåœ¨åƒåœ¾å›æ”¶æ—¶å°†æ­£åœ¨ä½¿ç”¨çš„å†…å­˜ä¸­çš„å­˜æ´»å¯¹è±¡å¤åˆ¶åˆ°æœªè¢«ä½¿ç”¨çš„å†…å­˜å—ä¸­ï¼Œä¹‹åæ¸…é™¤æ­£åœ¨ä½¿ç”¨çš„å†…å­˜å—ä¸­çš„æ‰€æœ‰å¯¹è±¡ï¼Œäº¤æ¢ä¸¤ä¸ªå†…å­˜çš„è§’è‰²ï¼Œæœ€åå®Œæˆåƒåœ¾å›æ”¶</p><figure><img src="/Computer-Science-Learn-Notes/assets/image-20220306154142694-1fb94274.png" alt="image-20220306154142694" tabindex="0" loading="lazy"><figcaption>image-20220306154142694</figcaption></figure><blockquote><p>ä¼˜ç‚¹</p></blockquote><ul><li>æ²¡æœ‰æ ‡è®°å’Œæ¸…é™¤è¿‡ç¨‹ï¼Œå®ç°ç®€å•ï¼Œ<strong>è¿è¡Œé«˜æ•ˆ</strong></li><li>å¤åˆ¶è¿‡å»ä»¥åä¿è¯ç©ºé—´çš„è¿ç»­æ€§ï¼Œä¸ä¼šå‡ºç° â€œç¢ç‰‡â€ é—®é¢˜</li></ul><blockquote><p>ç¼ºç‚¹</p></blockquote><ul><li>æ­¤ç®—æ³•çš„ç¼ºç‚¹ä¹Ÿæ˜¯å¾ˆæ˜æ˜¾çš„ï¼Œå°±æ˜¯éœ€è¦<strong>ä¸¤å€</strong>çš„å†…å­˜ç©ºé—´ã€‚</li><li>å¯¹äº G1 è¿™ç§æ‹†åˆ†æˆä¸ºå¤§é‡ region çš„ GCï¼Œå¤åˆ¶è€Œä¸æ˜¯ç§»åŠ¨ï¼Œæ„å‘³ç€ GC éœ€è¦ç»´æŠ¤ region ä¹‹é—´å¯¹è±¡çš„å¼•ç”¨å…³ç³»ï¼Œä¸ç®¡æ˜¯å†…å­˜å ç”¨æˆ–è€…æ—¶é—´å¼€é”€ä¹Ÿä¸å°</li></ul><blockquote><p>æ³¨æ„</p></blockquote><ul><li>å¦‚æœç³»ç»Ÿä¸­çš„åƒåœ¾å¯¹è±¡éå¸¸å¤šï¼Œå¤åˆ¶ç®—æ³•å¯èƒ½ä¸ä¼šå¾ˆç†æƒ³</li><li>å¤åˆ¶ç®—æ³•éœ€è¦å¤åˆ¶çš„å­˜æ´»å¯¹è±¡æ•°é‡å¹¶ä¸ä¼šå¤ªå¤§ï¼Œæˆ–è€…è¯´éå¸¸ä½æ‰è¡Œ</li></ul><blockquote><p>åº”ç”¨åœºæ™¯</p></blockquote><p>åœ¨<strong>æ–°ç”Ÿä»£</strong>ï¼Œå¯¹å¸¸è§„åº”ç”¨çš„åƒåœ¾å›æ”¶ï¼Œä¸€æ¬¡é€šå¸¸å¯ä»¥å›æ”¶ 70% - 99% çš„å†…å­˜ç©ºé—´ã€‚å›æ”¶æ€§ä»·æ¯”å¾ˆé«˜ã€‚æ‰€ä»¥ç°åœ¨çš„å•†ä¸šè™šæ‹Ÿæœºéƒ½æ˜¯ç”¨è¿™ç§æ”¶é›†ç®—æ³•å›æ”¶æ–°ç”Ÿä»£ã€‚</p><figure><img src="/Computer-Science-Learn-Notes/assets/38a8c16d6ee09d6e9b55c87c44c77a94-2d8b0a9e.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><h1 id="æ¸…é™¤é˜¶æ®µ-æ ‡è®°-å‹ç¼©-æ•´ç†-ç®—æ³•-mark-compact" tabindex="-1"><a class="header-anchor" href="#æ¸…é™¤é˜¶æ®µ-æ ‡è®°-å‹ç¼©-æ•´ç†-ç®—æ³•-mark-compact" aria-hidden="true">#</a> æ¸…é™¤é˜¶æ®µï¼šæ ‡è®° - å‹ç¼©ï¼ˆæ•´ç†ï¼‰ç®—æ³•ï¼ˆMark - Compactï¼‰</h1><blockquote><p>èƒŒæ™¯</p></blockquote><ul><li>å¤åˆ¶ç®—æ³•çš„é«˜æ•ˆæ€§æ˜¯å»ºç«‹åœ¨å­˜æ´»å¯¹è±¡å°‘ã€åƒåœ¾å¯¹è±¡å¤šçš„å‰æä¸‹çš„ã€‚è¿™ç§æƒ…å†µåœ¨æ–°ç”Ÿä»£ç»å¸¸å‘ç”Ÿï¼Œä½†æ˜¯åœ¨è€å¹´ä»£ï¼Œæ›´å¸¸è§çš„æƒ…å†µæ˜¯å¤§éƒ¨åˆ†å¯¹è±¡éƒ½æ˜¯å­˜æ´»å¯¹è±¡ã€‚å¦‚æœä¾ç„¶ä½¿ç”¨å¤åˆ¶ç®—æ³•ï¼Œç”±äºå­˜æ´»å¯¹è±¡è¾ƒå¤šï¼Œå¤åˆ¶çš„æˆæœ¬ä¹Ÿå°†å¾ˆé«˜ã€‚å› æ­¤ï¼Œ<strong>åŸºäºè€å¹´ä»£åƒåœ¾å›æ”¶çš„ç‰¹æ€§ï¼Œéœ€è¦ä½¿ç”¨å…¶ä»–çš„ç®—æ³•ã€‚</strong></li><li>æ ‡è®° - æ¸…é™¤ç®—æ³•çš„ç¡®å¯ä»¥åº”ç”¨åœ¨è€å¹´ä»£ä¸­ï¼Œä½†æ˜¯è¯¥ç®—æ³•ä¸ä»…æ‰§è¡Œæ•ˆç‡ä½ä¸‹ï¼Œè€Œä¸”åœ¨æ‰§è¡Œå®Œå†…å­˜å›æ”¶åè¿˜ä¼šäº§ç”Ÿå†…å­˜ç¢ç‰‡ï¼Œæ‰€ä»¥ JVM çš„è®¾è®¡è€…éœ€è¦åœ¨æ­¤åŸºç¡€ä¹‹ä¸Šè¿›è¡Œæ”¹è¿›ã€‚æ ‡è®° - å‹ç¼©ï¼ˆMark-Compactï¼‰ç®—æ³•ç”±æ­¤è¯ç”Ÿã€‚</li><li>1970 å¹´å‰åï¼ŒG.L.Steeleã€C.J.Chene å’Œ D.s.Wise ç­‰ç ”ç©¶è€…å‘å¸ƒæ ‡è®° - å‹ç¼©ç®—æ³•ã€‚åœ¨è®¸å¤šç°ä»£çš„åƒåœ¾æ”¶é›†å™¨ä¸­ï¼Œäººä»¬éƒ½ä½¿ç”¨äº†æ ‡è®° - å‹ç¼©ç®—æ³•æˆ–å…¶æ”¹è¿›ç‰ˆæœ¬ã€‚</li></ul><blockquote><p>æ‰§è¡Œè¿‡ç¨‹</p></blockquote><ul><li>ç¬¬ä¸€é˜¶æ®µå’Œæ ‡è®°æ¸…é™¤ç®—æ³•ä¸€æ ·ï¼Œä»æ ¹èŠ‚ç‚¹å¼€å§‹æ ‡è®°æ‰€æœ‰è¢«å¼•ç”¨å¯¹è±¡</li><li>ç¬¬äºŒé˜¶æ®µå°†æ‰€æœ‰çš„å­˜æ´»å¯¹è±¡å‹ç¼©åˆ°å†…å­˜çš„ä¸€ç«¯ï¼ŒæŒ‰é¡ºåºæ’æ”¾ã€‚</li><li>ä¹‹åï¼Œæ¸…ç†è¾¹ç•Œå¤–æ‰€æœ‰çš„ç©ºé—´ã€‚</li></ul><figure><img src="/Computer-Science-Learn-Notes/assets/image-20220306155051717-df942a07.png" alt="image-20220306155051717" tabindex="0" loading="lazy"><figcaption>image-20220306155051717</figcaption></figure><blockquote><p>æ ‡è®°æ¸…é™¤å’Œæ ‡è®°å‹ç¼©çš„åŒºåˆ«</p></blockquote><ul><li>æ ‡è®° - å‹ç¼©ç®—æ³•çš„æœ€ç»ˆæ•ˆæœç­‰åŒäºæ ‡è®° - æ¸…é™¤ç®—æ³•æ‰§è¡Œå®Œæˆåï¼Œå†è¿›è¡Œä¸€æ¬¡å†…å­˜ç¢ç‰‡æ•´ç†ï¼Œå› æ­¤ï¼Œä¹Ÿå¯ä»¥æŠŠå®ƒç§°ä¸º<strong>æ ‡è®° - æ¸…é™¤ - å‹ç¼©ï¼ˆMark-Sweep-Compactï¼‰ç®—æ³•ã€‚</strong></li><li>äºŒè€…çš„æœ¬è´¨å·®å¼‚åœ¨äºæ ‡è®° - æ¸…é™¤ç®—æ³•æ˜¯ä¸€ç§<strong>éç§»åŠ¨å¼çš„å›æ”¶ç®—æ³•</strong>ï¼Œæ ‡è®° - å‹ç¼©æ˜¯<strong>ç§»åŠ¨å¼çš„</strong>ã€‚æ˜¯å¦ç§»åŠ¨å›æ”¶åçš„å­˜æ´»å¯¹è±¡æ˜¯ä¸€é¡¹ä¼˜ç¼ºç‚¹å¹¶å­˜çš„é£é™©å†³ç­–ã€‚</li><li>å¯ä»¥çœ‹åˆ°ï¼Œæ ‡è®°çš„å­˜æ´»å¯¹è±¡å°†ä¼šè¢«æ•´ç†ï¼ŒæŒ‰ç…§å†…å­˜åœ°å€ä¾æ¬¡æ’åˆ—ï¼Œè€Œæœªè¢«æ ‡è®°çš„å†…å­˜ä¼šè¢«æ¸…ç†æ‰ã€‚å¦‚æ­¤ä¸€æ¥ï¼Œå½“æˆ‘ä»¬éœ€è¦ç»™æ–°å¯¹è±¡åˆ†é…å†…å­˜æ—¶ï¼ŒJVM åªéœ€è¦æŒæœ‰ä¸€ä¸ªå†…å­˜çš„èµ·å§‹åœ°å€å³å¯ï¼Œè¿™æ¯”ç»´æŠ¤ä¸€ä¸ªç©ºé—²åˆ—è¡¨æ˜¾ç„¶å°‘äº†è®¸å¤šå¼€é”€</li></ul><blockquote><p>æ ‡è®°å‹ç¼©ç®—æ³•å†…éƒ¨ä½¿ç”¨æŒ‡é’ˆç¢°æ’</p></blockquote><p>å¦‚æœå†…å­˜ç©ºé—´ä»¥è§„æ•´å’Œæœ‰åºçš„æ–¹å¼åˆ†å¸ƒï¼Œå³å·²ç”¨å’Œæœªç”¨çš„å†…å­˜éƒ½å„è‡ªä¸€è¾¹ï¼Œå½¼æ­¤ä¹‹é—´ç»´ç³»ç€ä¸€ä¸ªè®°å½•ä¸‹ä¸€æ¬¡åˆ†é…èµ·å§‹ç‚¹çš„æ ‡è®°æŒ‡é’ˆï¼Œå½“ä¸ºæ–°å¯¹è±¡åˆ†é…å†…å­˜æ—¶ï¼Œåªéœ€è¦é€šè¿‡ä¿®æ”¹æŒ‡é’ˆçš„åç§»é‡å°†æ–°å¯¹è±¡åˆ†é…åœ¨ç¬¬ä¸€ä¸ªç©ºé—²å†…å­˜ä½ç½®ä¸Šï¼Œè¿™ç§åˆ†é…æ–¹å¼å°±å«åšæŒ‡é’ˆç¢°æ’ï¼ˆBump the Pointerï¼‰</p><blockquote><p>ä¼˜ç‚¹</p></blockquote><ul><li>æ¶ˆé™¤äº†æ ‡è®° - æ¸…é™¤ç®—æ³•å½“ä¸­ï¼Œå†…å­˜åŒºåŸŸåˆ†æ•£çš„ç¼ºç‚¹ï¼Œæˆ‘ä»¬éœ€è¦ç»™æ–°å¯¹è±¡åˆ†é…å†…å­˜æ—¶ï¼ŒJVM åªéœ€è¦æŒæœ‰ä¸€ä¸ªå†…å­˜çš„èµ·å§‹åœ°å€å³å¯ã€‚</li><li>æ¶ˆé™¤äº†å¤åˆ¶ç®—æ³•å½“ä¸­ï¼Œå†…å­˜å‡åŠçš„é«˜é¢ä»£ä»·ã€‚</li></ul><blockquote><p>ç¼ºç‚¹</p></blockquote><ul><li>ä»æ•ˆç‡ä¸Šæ¥è¯´ï¼Œæ ‡è®° - æ•´ç†ç®—æ³•è¦ä½äºå¤åˆ¶ç®—æ³•ï¼Œç”šè‡³è¦ä½äºæ ‡è®° - æ¸…é™¤ç®—æ³•</li><li>ç§»åŠ¨å¯¹è±¡çš„åŒæ—¶ï¼Œå¦‚æœå¯¹è±¡è¢«å…¶ä»–å¯¹è±¡å¼•ç”¨ï¼Œåˆ™è¿˜éœ€è¦è°ƒæ•´å¼•ç”¨çš„åœ°å€</li><li>ç§»åŠ¨è¿‡ç¨‹ä¸­ï¼Œéœ€è¦å…¨ç¨‹æš‚åœç”¨æˆ·åº”ç”¨ç¨‹åºã€‚å³ï¼šSTW</li></ul><h1 id="å°ç»“-1" tabindex="-1"><a class="header-anchor" href="#å°ç»“-1" aria-hidden="true">#</a> å°ç»“</h1><table><thead><tr><th></th><th>æ ‡è®°æ¸…é™¤ï¼ˆMark-Sweepï¼‰</th><th>æ ‡è®°æ•´ç†ï¼ˆMark-Compactï¼‰</th><th>å¤åˆ¶ï¼ˆCopyingï¼‰</th></tr></thead><tbody><tr><td>é€Ÿç‡</td><td>ä¸­ç­‰</td><td>æœ€æ…¢</td><td>æœ€å¿«</td></tr><tr><td>ç©ºé—´å¼€é”€</td><td>å°‘ï¼ˆä½†ä¼šå †ç§¯ç¢ç‰‡ï¼‰</td><td>å°‘ï¼ˆä¸å †ç§¯ç¢ç‰‡ï¼‰</td><td>é€šå¸¸éœ€è¦æ´»å¯¹è±¡çš„ 2 å€ç©ºé—´ï¼ˆä¸å †ç§¯ç¢ç‰‡ï¼‰</td></tr><tr><td>ç§»åŠ¨å¯¹è±¡</td><td>å¦</td><td>æ˜¯</td><td>æ˜¯</td></tr></tbody></table><ul><li>æ•ˆç‡ä¸Šæ¥è¯´ï¼Œå¤åˆ¶ç®—æ³•æ˜¯å½“ä¹‹æ— æ„§çš„è€å¤§ï¼Œä½†æ˜¯å´æµªè´¹äº†å¤ªå¤šå†…å­˜ã€‚</li><li>è€Œä¸ºäº†å°½é‡å…¼é¡¾ä¸Šé¢æåˆ°çš„ä¸‰ä¸ªæŒ‡æ ‡ï¼Œæ ‡è®° - æ•´ç†ç®—æ³•ç›¸å¯¹æ¥è¯´æ›´å¹³æ»‘ä¸€äº›ï¼Œä½†æ˜¯æ•ˆç‡ä¸Šä¸å°½å¦‚äººæ„ï¼Œå®ƒæ¯”å¤åˆ¶ç®—æ³•å¤šäº†ä¸€ä¸ªæ ‡è®°çš„é˜¶æ®µï¼Œæ¯”æ ‡è®° - æ¸…é™¤å¤šäº†ä¸€ä¸ªæ•´ç†å†…å­˜çš„é˜¶æ®µã€‚</li><li>ç»¼åˆæˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œæ²¡æœ‰æœ€å¥½çš„ç®—æ³•ï¼Œåªæœ‰æœ€åˆé€‚çš„ç®—æ³•</li></ul><h1 id="åˆ†ä»£æ”¶é›†ç®—æ³•" tabindex="-1"><a class="header-anchor" href="#åˆ†ä»£æ”¶é›†ç®—æ³•" aria-hidden="true">#</a> åˆ†ä»£æ”¶é›†ç®—æ³•</h1><ul><li>å‰é¢æ‰€æœ‰è¿™äº›ç®—æ³•ä¸­ï¼Œå¹¶æ²¡æœ‰ä¸€ç§ç®—æ³•å¯ä»¥å®Œå…¨æ›¿ä»£å…¶ä»–ç®—æ³•ï¼Œå®ƒä»¬éƒ½å…·æœ‰è‡ªå·±ç‹¬ç‰¹çš„ä¼˜åŠ¿å’Œç‰¹ç‚¹ã€‚åˆ†ä»£æ”¶é›†ç®—æ³•åº”è¿è€Œç”Ÿã€‚</li><li>åˆ†ä»£æ”¶é›†ç®—æ³•ï¼Œæ˜¯åŸºäºè¿™æ ·ä¸€ä¸ªäº‹å®ï¼šä¸åŒçš„å¯¹è±¡çš„ç”Ÿå‘½å‘¨æœŸæ˜¯ä¸ä¸€æ ·çš„ã€‚å› æ­¤ï¼Œä¸åŒç”Ÿå‘½å‘¨æœŸçš„å¯¹è±¡å¯ä»¥é‡‡å–ä¸åŒçš„æ”¶é›†æ–¹å¼ï¼Œä»¥ä¾¿æé«˜å›æ”¶æ•ˆç‡ã€‚ä¸€èˆ¬æ˜¯æŠŠ Java å †åˆ†ä¸ºæ–°ç”Ÿä»£å’Œè€å¹´ä»£ï¼Œè¿™æ ·å°±å¯ä»¥æ ¹æ®å„ä¸ªå¹´ä»£çš„ç‰¹ç‚¹ä½¿ç”¨ä¸åŒçš„å›æ”¶ç®—æ³•ï¼Œä»¥æé«˜åƒåœ¾å›æ”¶çš„æ•ˆç‡ã€‚</li><li>åœ¨ Java ç¨‹åºè¿è¡Œçš„è¿‡ç¨‹ä¸­ï¼Œä¼šäº§ç”Ÿå¤§é‡çš„å¯¹è±¡ï¼Œå…¶ä¸­æœ‰äº›å¯¹è±¡æ˜¯ä¸ä¸šåŠ¡ä¿¡æ¯ç›¸å…³ï¼Œæ¯”å¦‚ <strong>Http è¯·æ±‚ä¸­çš„ Session å¯¹è±¡ã€çº¿ç¨‹ã€Socket è¿æ¥</strong>ï¼Œè¿™ç±»å¯¹è±¡è·Ÿä¸šåŠ¡ç›´æ¥æŒ‚é’©ï¼Œå› æ­¤ç”Ÿå‘½å‘¨æœŸæ¯”è¾ƒé•¿ã€‚ä½†æ˜¯è¿˜æœ‰ä¸€äº›å¯¹è±¡ï¼Œä¸»è¦æ˜¯ç¨‹åºè¿è¡Œè¿‡ç¨‹ä¸­ç”Ÿæˆçš„ä¸´æ—¶å˜é‡ï¼Œè¿™äº›å¯¹è±¡ç”Ÿå‘½å‘¨æœŸä¼šæ¯”è¾ƒçŸ­ï¼Œæ¯”å¦‚ï¼š<strong>String å¯¹è±¡</strong>ï¼Œç”±äºå…¶ä¸å˜ç±»çš„ç‰¹æ€§ï¼Œç³»ç»Ÿä¼šäº§ç”Ÿå¤§é‡çš„è¿™äº›å¯¹è±¡ï¼Œæœ‰äº›å¯¹è±¡ç”šè‡³åªç”¨ä¸€æ¬¡å³å¯å›æ”¶ã€‚</li></ul><blockquote><p><strong>ç›®å‰å‡ ä¹æ‰€æœ‰çš„ GC éƒ½é‡‡ç”¨åˆ†ä»£æ”¶é›†ç®—æ³•æ‰§è¡Œåƒåœ¾å›æ”¶çš„ã€‚</strong></p></blockquote><p>åœ¨ HotSpot ä¸­ï¼ŒåŸºäºåˆ†ä»£çš„æ¦‚å¿µï¼ŒGC æ‰€ä½¿ç”¨çš„å†…å­˜å›æ”¶ç®—æ³•å¿…é¡»ç»“åˆå¹´è½»ä»£å’Œè€å¹´ä»£å„è‡ªçš„ç‰¹ç‚¹ã€‚</p><ul><li><strong>å¹´è½»ä»£ï¼ˆYoung Genï¼‰</strong></li></ul><p>å¹´è½»ä»£ç‰¹ç‚¹ï¼šåŒºåŸŸç›¸å¯¹è€å¹´ä»£è¾ƒå°ï¼Œå¯¹è±¡ç”Ÿå‘½å‘¨æœŸçŸ­ã€å­˜æ´»ç‡ä½ï¼Œå›æ”¶é¢‘ç¹ã€‚</p><p>è¿™ç§æƒ…å†µ<strong>å¤åˆ¶ç®—æ³•</strong>çš„å›æ”¶æ•´ç†ï¼Œé€Ÿåº¦æ˜¯æœ€å¿«çš„ã€‚å¤åˆ¶ç®—æ³•çš„æ•ˆç‡åªå’Œå½“å‰å­˜æ´»å¯¹è±¡å¤§å°æœ‰å…³ï¼Œå› æ­¤å¾ˆé€‚ç”¨äºå¹´è½»ä»£çš„å›æ”¶ã€‚è€Œå¤åˆ¶ç®—æ³•å†…å­˜åˆ©ç”¨ç‡ä¸é«˜çš„é—®é¢˜ï¼Œé€šè¿‡ HotSpot ä¸­çš„ä¸¤ä¸ª Survivor çš„è®¾è®¡å¾—åˆ°ç¼“è§£ã€‚</p><ul><li><strong>è€å¹´ä»£ï¼ˆTenured Genï¼‰</strong></li></ul><p>è€å¹´ä»£ç‰¹ç‚¹ï¼šåŒºåŸŸè¾ƒå¤§ï¼Œå¯¹è±¡ç”Ÿå‘½å‘¨æœŸé•¿ã€å­˜æ´»ç‡é«˜ï¼Œå›æ”¶ä¸åŠå¹´è½»ä»£é¢‘ç¹ã€‚</p><p>è¿™ç§æƒ…å†µå­˜åœ¨å¤§é‡å­˜æ´»ç‡é«˜çš„å¯¹è±¡ï¼Œå¤åˆ¶ç®—æ³•æ˜æ˜¾å˜å¾—ä¸åˆé€‚ã€‚<strong>ä¸€èˆ¬æ˜¯ç”±æ ‡è®° - æ¸…é™¤æˆ–è€…æ˜¯æ ‡è®° - æ¸…é™¤ä¸æ ‡è®° - æ•´ç†çš„æ··åˆå®ç°</strong>ã€‚</p><ul><li>Mark é˜¶æ®µçš„å¼€é”€ä¸å­˜æ´»å¯¹è±¡çš„æ•°é‡æˆæ­£æ¯”ã€‚</li><li>Sweep é˜¶æ®µçš„å¼€é”€ä¸æ‰€ç®¡ç†åŒºåŸŸçš„å¤§å°æˆæ­£ç›¸å…³ã€‚</li><li>Compact é˜¶æ®µçš„å¼€é”€ä¸å­˜æ´»å¯¹è±¡çš„æ•°æ®æˆæ­£æ¯”ã€‚</li></ul><p>ä»¥ HotSpot ä¸­çš„ CMS å›æ”¶å™¨ï¼ˆè€å¹´ä»£å›æ”¶å™¨ï¼‰ä¸ºä¾‹ï¼ŒCMS æ˜¯åŸºäº Mark-Sweep å®ç°çš„ï¼Œå¯¹äºå¯¹è±¡çš„å›æ”¶æ•ˆç‡å¾ˆé«˜ã€‚è€Œå¯¹äºç¢ç‰‡é—®é¢˜ï¼ŒCMS é‡‡ç”¨åŸºäº Mark-Compact ç®—æ³•çš„ Serial Old å›æ”¶å™¨ä½œä¸ºè¡¥å¿æªæ–½ï¼šå½“å†…å­˜å›æ”¶ä¸ä½³ï¼ˆç¢ç‰‡å¯¼è‡´çš„ Concurrent Mode Failure æ—¶ï¼‰ï¼Œå°†é‡‡ç”¨ Serial Old æ‰§è¡Œ Full GC ä»¥è¾¾åˆ°å¯¹è€å¹´ä»£å†…å­˜çš„æ•´ç†ã€‚</p><p>åˆ†ä»£çš„æ€æƒ³è¢«ç°æœ‰çš„è™šæ‹Ÿæœºå¹¿æ³›ä½¿ç”¨ï¼Œå‡ ä¹æ‰€æœ‰çš„åƒåœ¾å›æ”¶å™¨éƒ½åŒºåˆ†æ–°ç”Ÿä»£å’Œè€å¹´ä»£ã€‚</p><h1 id="å¢é‡æ”¶é›†ç®—æ³•" tabindex="-1"><a class="header-anchor" href="#å¢é‡æ”¶é›†ç®—æ³•" aria-hidden="true">#</a> å¢é‡æ”¶é›†ç®—æ³•</h1><blockquote><p>æ¦‚è¿°</p></blockquote><p>ä¸Šè¿°ç°æœ‰çš„ç®—æ³•ï¼Œåœ¨åƒåœ¾å›æ”¶è¿‡ç¨‹ä¸­ï¼Œåº”ç”¨è½¯ä»¶å°†å¤„äºä¸€ç§ Stop the World çš„çŠ¶æ€ã€‚åœ¨ Stop the World çŠ¶æ€ä¸‹ï¼Œåº”ç”¨ç¨‹åºæ‰€æœ‰çš„çº¿ç¨‹éƒ½ä¼šæŒ‚èµ·ï¼Œæš‚åœä¸€åˆ‡æ­£å¸¸çš„å·¥ä½œï¼Œç­‰å¾…åƒåœ¾å›æ”¶çš„å®Œæˆã€‚å¦‚æœåƒåœ¾å›æ”¶æ—¶é—´è¿‡é•¿ï¼Œåº”ç”¨ç¨‹åºä¼šè¢«æŒ‚èµ·å¾ˆä¹…ï¼Œå°†ä¸¥é‡å½±å“ç”¨æˆ·ä½“éªŒæˆ–è€…ç³»ç»Ÿçš„ç¨³å®šæ€§ã€‚ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œå³å¯¹å®æ—¶åƒåœ¾æ”¶é›†ç®—æ³•çš„ç ”ç©¶ç›´æ¥å¯¼è‡´äº†å¢é‡æ”¶é›†ï¼ˆIncremental Collectingï¼‰ç®—æ³•çš„è¯ç”Ÿã€‚</p><blockquote><p>åŸºæœ¬æ€æƒ³</p></blockquote><ul><li>å¦‚æœä¸€æ¬¡æ€§å°†æ‰€æœ‰çš„åƒåœ¾è¿›è¡Œå¤„ç†ï¼Œéœ€è¦é€ æˆç³»ç»Ÿé•¿æ—¶é—´çš„åœé¡¿ï¼Œé‚£ä¹ˆå°±å¯ä»¥è®©åƒåœ¾æ”¶é›†çº¿ç¨‹å’Œåº”ç”¨ç¨‹åºçº¿ç¨‹<strong>äº¤æ›¿æ‰§è¡Œ</strong>ã€‚æ¯æ¬¡ï¼Œ<strong>åƒåœ¾æ”¶é›†çº¿ç¨‹åªæ”¶é›†ä¸€å°ç‰‡åŒºåŸŸçš„å†…å­˜ç©ºé—´ï¼Œæ¥ç€åˆ‡æ¢åˆ°åº”ç”¨ç¨‹åºçº¿ç¨‹ã€‚ä¾æ¬¡åå¤ï¼Œç›´åˆ°åƒåœ¾æ”¶é›†å®Œæˆã€‚</strong></li><li>æ€»çš„æ¥è¯´ï¼Œå¢é‡æ”¶é›†ç®—æ³•çš„åŸºç¡€ä»æ˜¯ä¼ ç»Ÿçš„æ ‡è®° - æ¸…é™¤å’Œå¤åˆ¶ç®—æ³•ã€‚<strong>å¢é‡æ”¶é›†ç®—æ³•é€šè¿‡å¯¹çº¿ç¨‹é—´å†²çªçš„å¦¥å–„å¤„ç†å…è®¸åƒåœ¾æ”¶é›†çº¿ç¨‹ä»¥åˆ†é˜¶æ®µçš„æ–¹å¼å®Œæˆæ ‡è®°ã€æ¸…ç†æˆ–å¤åˆ¶å·¥ä½œã€‚</strong></li></ul><blockquote><p>ç¼ºç‚¹</p></blockquote><p>ä½¿ç”¨è¿™ç§æ–¹å¼ï¼Œç”±äºåœ¨åƒåœ¾å›æ”¶è¿‡ç¨‹ä¸­ï¼Œé—´æ–­æ€§åœ°è¿˜æ‰§è¡Œäº†åº”ç”¨ç¨‹åºä»£ç ï¼Œæ‰€ä»¥èƒ½å‡å°‘ç³»ç»Ÿçš„åœé¡¿æ—¶é—´ã€‚ä½†æ˜¯ï¼Œå› ä¸ºçº¿ç¨‹åˆ‡æ¢å’Œä¸Šä¸‹æ–‡è½¬æ¢çš„æ¶ˆè€—ï¼Œä¼šä½¿å¾—åƒåœ¾å›æ”¶çš„æ€»ä½“æˆæœ¬ä¸Šå‡ï¼Œ<strong>é€ æˆç³»ç»Ÿååé‡çš„ä¸‹é™</strong>ã€‚</p><h1 id="åˆ†åŒºç®—æ³•" tabindex="-1"><a class="header-anchor" href="#åˆ†åŒºç®—æ³•" aria-hidden="true">#</a> åˆ†åŒºç®—æ³•</h1><ul><li>ä¸€èˆ¬æ¥è¯´ï¼Œåœ¨ç›¸åŒæ¡ä»¶ä¸‹ï¼Œå †ç©ºé—´è¶Šå¤§ï¼Œä¸€æ¬¡ GC æ—¶æ‰€éœ€è¦çš„æ—¶é—´å°±è¶Šé•¿ï¼Œæœ‰å…³ GC äº§ç”Ÿçš„åœé¡¿ä¹Ÿè¶Šé•¿ã€‚ä¸ºäº†æ›´å¥½åœ°æ§åˆ¶ GC äº§ç”Ÿçš„åœé¡¿æ—¶é—´ï¼Œå°†ä¸€å—å¤§çš„å†…å­˜åŒºåŸŸåˆ†å‰²æˆå¤šä¸ªå°å—ï¼Œæ ¹æ®ç›®æ ‡çš„åœé¡¿æ—¶é—´ï¼Œæ¯æ¬¡åˆç†åœ°å›æ”¶è‹¥å¹²ä¸ªå°åŒºé—´ï¼Œè€Œä¸æ˜¯æ•´ä¸ªå †ç©ºé—´ï¼Œä»è€Œå‡å°‘ä¸€æ¬¡ GC æ‰€äº§ç”Ÿçš„åœé¡¿ã€‚</li><li>åˆ†ä»£ç®—æ³•å°†æŒ‰ç…§å¯¹è±¡çš„ç”Ÿå‘½å‘¨æœŸé•¿çŸ­åˆ’åˆ†æˆä¸¤ä¸ªéƒ¨åˆ†ï¼Œåˆ†åŒºç®—æ³•å°†æ•´ä¸ªå †ç©ºé—´åˆ’åˆ†æˆè¿ç»­çš„ä¸åŒå°åŒºé—´ã€‚</li><li>æ¯ä¸€ä¸ªå°åŒºé—´éƒ½ç‹¬ç«‹ä½¿ç”¨ï¼Œç‹¬ç«‹å›æ”¶ã€‚è¿™ç§ç®—æ³•çš„å¥½å¤„æ˜¯å¯ä»¥æ§åˆ¶ä¸€æ¬¡å›æ”¶å¤šå°‘ä¸ªå°åŒºé—´ã€‚</li></ul><figure><img src="/Computer-Science-Learn-Notes/assets/4bf277baeebecf3149932efcd0b633e1-f492261e.png" alt="Untitled" tabindex="0" loading="lazy"><figcaption>Untitled</figcaption></figure></div><!----><footer class="page-meta"><div class="meta-item edit-link"><a href="https://github.com/zhiyu1998/Computer-Science-Learn-Notes/edit/main/demo/theme-docs/src/Java/jvm/part1/15.åƒåœ¾å›æ”¶ç›¸å…³ç®—æ³•.md" rel="noopener noreferrer" target="_blank" aria-label="åœ¨ GitHub ä¸Šç¼–è¾‘æ­¤é¡µ" class="nav-link label"><!--[--><svg xmlns="http://www.w3.org/2000/svg" class="icon edit-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="edit icon"><path d="M430.818 653.65a60.46 60.46 0 0 1-50.96-93.281l71.69-114.012 7.773-10.365L816.038 80.138A60.46 60.46 0 0 1 859.225 62a60.46 60.46 0 0 1 43.186 18.138l43.186 43.186a60.46 60.46 0 0 1 0 86.373L588.879 565.55l-8.637 8.637-117.466 68.234a60.46 60.46 0 0 1-31.958 11.229z"></path><path d="M728.802 962H252.891A190.883 190.883 0 0 1 62.008 771.98V296.934a190.883 190.883 0 0 1 190.883-192.61h267.754a60.46 60.46 0 0 1 0 120.92H252.891a69.962 69.962 0 0 0-69.098 69.099V771.98a69.962 69.962 0 0 0 69.098 69.098h475.911A69.962 69.962 0 0 0 797.9 771.98V503.363a60.46 60.46 0 1 1 120.922 0V771.98A190.883 190.883 0 0 1 728.802 962z"></path></svg><!--]-->åœ¨ GitHub ä¸Šç¼–è¾‘æ­¤é¡µ<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!----></a></div><div class="meta-item git-info"><div class="update-time"><span class="label">ä¸Šæ¬¡ç¼–è¾‘äº: </span><!----></div><div class="contributors"><span class="label">è´¡çŒ®è€…: </span><!--[--><!--[--><span class="contributor" title="email: 542716863@qq.com">RrOrange</span><!--]--><!--]--></div></div></footer><nav class="page-nav"><a href="/Computer-Science-Learn-Notes/Java/jvm/part1/14.%E5%9E%83%E5%9C%BE%E5%9B%9E%E6%94%B6%E6%A6%82%E8%BF%B0.html" class="nav-link prev" aria-label="åƒåœ¾å›æ”¶æ¦‚è¿°"><div class="hint"><span class="arrow start"></span>ä¸Šä¸€é¡µ</div><div class="link"><!---->åƒåœ¾å›æ”¶æ¦‚è¿°</div></a><a href="/Computer-Science-Learn-Notes/Java/jvm/part1/16.%E5%9E%83%E5%9C%BE%E5%9B%9E%E6%94%B6%E7%9B%B8%E5%85%B3%E6%A6%82%E5%BF%B5.html" class="nav-link next" aria-label="åƒåœ¾å›æ”¶ç›¸å…³æ¦‚å¿µ"><div class="hint">ä¸‹ä¸€é¡µ<span class="arrow end"></span></div><div class="link">åƒåœ¾å›æ”¶ç›¸å…³æ¦‚å¿µ<!----></div></a></nav><!----><!----><!--]--></main><!--]--><footer class="footer-wrapper"><div class="footer">é»˜è®¤é¡µè„š</div><div class="copyright">Copyright Â© 2023 zhiyu1998</div></footer></div><!--]--><!----><!----><!----><!--]--></div>
    <script type="module" src="/Computer-Science-Learn-Notes/assets/app-7cb037a5.js" defer></script>
  </body>
</html>
